import{j as s,r as i,d as B,f as T,g as O,b as F,a as V,s as G,F as L,c as q,o as z}from"./index-9jqVOv3Q.js";const H="_recapWrapper_h2f15_1",I="_top_h2f15_37",Q="_weekWrapper_h2f15_69",U="_weekButton_h2f15_85",X="_hideDropDown_h2f15_105",J="_weeksDropdown_h2f15_113",K="_createRecap_h2f15_169",Y="_daysWrapper_h2f15_197",W={recapWrapper:H,top:I,weekWrapper:Q,weekButton:U,hideDropDown:X,weeksDropdown:J,createRecap:K,daysWrapper:Y},Z="_dayCard_zr5t7_1",ss="_dayHeader_zr5t7_35",es="_openDay_zr5t7_37",ts="_dayContent_zr5t7_81",as="_activities_zr5t7_125",ns="_actWrapper_zr5t7_145",g={dayCard:Z,dayHeader:ss,openDay:es,dayContent:ts,activities:as,actWrapper:ns};function cs({day:u}){return s.jsx("div",{className:g.daysWrapper,children:s.jsxs("div",{className:g.dayCard,children:[s.jsx("div",{className:g.dayHeader,children:u.day}),s.jsxs("div",{className:g.dayContent,children:[s.jsxs("div",{className:g.activities,children:[s.jsx("h2",{children:"Activities"}),s.jsx("ul",{className:g.actWrapper,children:u.Activities.length!=0?u.Activities.map(a=>s.jsxs("li",{children:[s.jsx("i",{className:"fa fa-caret-right"})," ",s.jsx("span",{children:a.subject}),": ",a.title+a.status]},a.id)):s.jsx("li",{children:"There are no Activity"})})]}),s.jsxs("div",{className:g.activities,children:[s.jsx("h2",{children:"Assignment"}),s.jsx("ul",{className:g.actWrapper,children:u.Assignment.length!=0?u.Assignment.map(a=>s.jsxs("li",{children:[s.jsx("i",{className:"fa fa-caret-right"})," ",s.jsx("span",{children:a.subject}),": ",a.title+a.status]},a.id)):s.jsx("li",{children:"There are no Assignment"})})]}),s.jsxs("div",{className:g.activities,children:[s.jsx("h2",{children:"Projects"}),s.jsx("ul",{className:g.actWrapper,children:u.Projects.length!=0?u.Projects.map(a=>s.jsxs("li",{children:[s.jsx("i",{className:"fa fa-caret-right"})," ",s.jsx("span",{children:a.subject}),": ",a.title+a.status]},a.id)):s.jsx("li",{children:"There are no Project"})})]}),s.jsxs("div",{className:g.activities,children:[s.jsx("h2",{children:"Exams"}),s.jsx("ul",{className:g.actWrapper,children:u.Exams.length!=0?u.Exams.map(a=>s.jsxs("li",{children:[s.jsx("i",{className:"fa fa-caret-right"})," ",s.jsx("span",{children:a.subject}),": ",a.title+a.status]},a.id)):s.jsx("li",{children:"There are no Exam"})})]})]}),s.jsx("button",{className:g.openDay,children:"Open"})]})})}const is="_createPrompt_1insj_1",rs="_addSubjectBox_1insj_29",os="_closeButton_1insj_53",ls="_top_1insj_123",us="_activitiesWrapper_1insj_177",ds="_lists_1insj_315",hs="_submit_1insj_355",f={createPrompt:is,addSubjectBox:rs,closeButton:os,top:ls,activitiesWrapper:us,lists:ds,submit:hs},ms="_subjectBox_1eqzh_1",js="_choices_1eqzh_51",ps="_show_1eqzh_87",xs="_subject_1eqzh_1",fs="_subName_1eqzh_127",j={subjectBox:ms,choices:js,show:ps,subject:xs,subName:fs};function bs(){const{selectedDay:u,setSelectedDay:a}=i.useContext(M),b=["Monday","Tuesday","Wednesday","Thursday","Friday"],[m,h]=i.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:j.subName,children:"Days"}),s.jsxs("button",{className:j.subjectBox,onClick:()=>{h(!m)},children:[u,s.jsx("i",{className:m?"fa fa-angle-up":"fa fa-angle-down"}),s.jsx("ul",{className:m?`${j.choices} ${j.show}`:j.choices,children:b.map(p=>s.jsx("li",{className:j.subject,onClick:()=>{a(p)},children:p},Math.random()*1))})]})]})}const _s="_addSubjectWrapper_113me_1",ys="_addSubjectBox_113me_29",gs="_closeButton_113me_53",Ns="_top_113me_123",As="_buttonWrapper_113me_189",Ds="_submit_113me_199",R={addSubjectWrapper:_s,addSubjectBox:ys,closeButton:gs,top:Ns,buttonWrapper:As,submit:Ds};function ws({subject:u,setSubject:a}){const[b]=i.useState(["CSS","Philosophy","CPAR","UCSP","PEH3","Entrepreneurship","21stCL","Robotics"]),[m,h]=i.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:j.subName,children:"Subject"}),s.jsxs("button",{className:j.subjectBox,onClick:()=>{h(!m)},children:[u,s.jsx("i",{className:m?"fa fa-angle-up":"fa fa-angle-down"}),s.jsx("ul",{className:m?`${j.choices} ${j.show}`:j.choices,children:b.map(p=>s.jsx("li",{className:j.subject,onClick:()=>{a(p)},children:p},Math.random()*1))})]})]})}function Ss({selectedStatus:u,setSelectedStatus:a}){const[b,m]=i.useState(!1),[h]=i.useState(["(Submitted)","(Continue)",""]);return s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:j.subName,children:"Semester and Quarter"}),s.jsxs("button",{className:j.subjectBox,onClick:()=>{m(!b)},children:[u,s.jsx("i",{className:b?"fa fa-angle-up":"fa fa-angle-down"}),s.jsx("ul",{className:b?`${j.choices} ${j.show}`:j.choices,children:h.map(p=>s.jsx("li",{className:j.subject,onClick:()=>{a(p)},children:p},Math.random()*1))})]})]})}function Cs(){const{typeOfWork:u,setTypeOfWork:a,showActPrompt:b,setShowActPrompt:m,setRecap:h,recap:p,selectedDay:S}=i.useContext(M),[D,P]=i.useState(""),[N,w]=i.useState(""),[x,v]=i.useState("(Submitted)"),[y,$]=i.useState("CSS");function E(l){const t={id:Math.random()*1,status:x,title:D,description:N,typeOfWork:u,subject:y};l?(r(t),m(!1)):r(t)}function r(l){switch(u){case"Activity":h(t=>{if(!t)return t;const d=t.days.map(o=>S==o.day?{...o,Activities:[...o.Activities,{...l,status:x}]}:{...o});return{...t,days:d}});break;case"Groupings":h(t=>{if(!t)return t;const d=t.days.map(o=>S==o.day?{...o,Groupings:[...o.Groupings,{...l,status:x}]}:{...o});return{...t,days:d}});break;case"Assignment":h(t=>{if(!t)return t;const d=t.days.map(o=>S==o.day?{...o,Assignment:[...o.Assignment,{...l,status:x}]}:{...o});return{...t,days:d}});break;case"Project":h(t=>{if(!t)return t;const d=t.days.map(o=>S==o.day?{...o,Projects:[...o.Projects,{...l,status:x}]}:{...o});return{...t,days:d}});break;case"Exams":h(t=>{if(!t)return t;const d=t.days.map(o=>S==o.day?{...o,Exams:[...o.Exams,{...l,status:x}]}:{...o});return{...t,days:d}});break}}if(i.useEffect(()=>{p&&console.log(p)},[p]),b)return s.jsx("div",{className:R.addSubjectWrapper,children:s.jsxs("div",{className:R.addSubjectBox,children:[s.jsx("button",{className:R.closeButton,onClick:()=>{a(""),m(!1)},children:"X"}),s.jsxs("h1",{children:["Create ",u]}),s.jsxs("div",{className:R.top,children:[s.jsx(ws,{subject:y,setSubject:$}),s.jsx(Ss,{selectedStatus:x,setSelectedStatus:v}),s.jsxs("h2",{className:R.actTitle,children:[u," Title"]}),s.jsx("input",{type:"text",value:D,onChange:l=>{P(l.currentTarget.value)}}),s.jsxs("h2",{className:R.actDesc,children:[u," Description"]}),s.jsx("textarea",{rows:5,value:N,onChange:l=>{w(l.currentTarget.value)}})]}),s.jsxs("div",{className:R.buttonWrapper,children:[s.jsx("button",{className:R.submit,onClick:()=>E(!0),children:"Submit Only"}),s.jsx("button",{className:R.submit,onClick:()=>E(!1),children:"Create Again"})]})]})})}const M=i.createContext({});function ks({showAddRecap:u,setShowAddRecap:a,editRecap:b,setEditRecap:m,weeklyRecaps:h}){const p={monthAndDay:"",days:[{day:"Monday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Tuesday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Wednesday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Thursday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Friday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]}]},[S,D]=i.useState(!1),[P,N]=i.useState("Activity"),[w,x]=i.useState("Monday"),[v,y]=i.useState("1st"),[$,E]=i.useState("1st"),[r,l]=i.useState(p);async function t(){const c={monthAndDay:r.monthAndDay};try{const e=B(T,"Main_Database","Recaps"),n=B(T,"Main_Database","Recaps",`${c.monthAndDay}`,`${c.monthAndDay}`);(await O(e)).exists()?await F(e,{ListsOfRecap:V(c)}):await G(e,{ListsOfRecap:V(c)}),await G(n,{[c.monthAndDay]:r}),a(!1),m(!1)}catch(e){e instanceof L&&console.log(e),a(!1)}}function d(c,e){switch(e){case"Activity":l(n=>{if(!n)return n;const A=n.days.map(_=>{const C=_.Activities.filter(k=>k.id!=c);return{..._,Activities:C}});return{...n,days:A}});break;case"Groupings":l(n=>{if(!n||!n)return n;const A=n.days.map(_=>{const C=_.Groupings.filter(k=>k.id!=c);return{..._,Groupings:C}});return{...n,days:A}});break;case"Assignment":l(n=>{if(!n)return n;const A=n.days.map(_=>{const C=_.Assignment.filter(k=>k.id!=c);return{..._,Assignment:C}});return{...n,days:A}});break;case"Project":l(n=>{if(!n)return n;const A=n.days.map(_=>{const C=_.Projects.filter(k=>k.id!=c);return{..._,Projects:C}});return{...n,days:A}});break;case"Exams":l(n=>{if(!n)return n;const A=n.days.map(_=>{const C=_.Exams.filter(k=>k.id!=c);return{..._,Exams:C}});return{...n,days:A}});break}}i.useEffect(()=>{b&&h!=null&&l(h)},[h,b]);const o={showActPrompt:S,setShowActPrompt:D,selectedDay:w,setSelectedDay:x,typeOfWork:P,setTypeOfWork:N,quarter:v,setQuarter:y,semester:$,setSemester:E,recap:r,setRecap:l,createRecap:t};if(u||b)return s.jsxs(M.Provider,{value:o,children:[s.jsx(Cs,{}),s.jsx("div",{className:f.createPrompt,children:s.jsxs("div",{className:f.addSubjectBox,children:[s.jsx("button",{className:f.closeButton,onClick:()=>{a(!1),m(!1),l(p)},children:"X"}),s.jsxs("div",{className:f.top,children:[s.jsx(bs,{}),s.jsx("h2",{className:f.title,children:"Month and Day"}),s.jsx("input",{type:"text",value:r.monthAndDay,onChange:c=>{const e=c.currentTarget.value;l(n=>({...n,monthAndDay:e}))}}),s.jsxs("div",{className:f.activitiesWrapper,children:[s.jsxs("h2",{className:f.actTitle,children:[s.jsx("span",{children:"Activities: "}),s.jsx("button",{onClick:()=>{D(!0),N("Activity")},children:"Create Actvity"})]}),s.jsx("ul",{children:r?.days.map(c=>c.day==w&&c.Activities.map(e=>s.jsxs("li",{className:f.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{d(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:f.actTitle,children:[s.jsx("span",{children:"Group Activities: "}),s.jsx("button",{onClick:()=>{D(!0),N("Groupings")},children:"Create Groupings"})]}),s.jsx("ul",{children:r?.days.map(c=>c.day==w&&c.Groupings.map(e=>s.jsxs("li",{className:f.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{d(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:f.actTitle,children:[s.jsx("span",{children:"Assignments: "}),s.jsx("button",{onClick:()=>{D(!0),N("Assignment")},children:"Create Assignment"})]}),s.jsx("ul",{children:r?.days.map(c=>c.day==w&&c.Assignment.map(e=>s.jsxs("li",{className:f.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{d(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:f.actTitle,children:[s.jsx("span",{children:"Projects: "}),s.jsx("button",{onClick:()=>{D(!0),N("Project")},children:"Create Project"})]}),s.jsx("ul",{children:r?.days.map(c=>c.day==w&&c.Projects.map(e=>s.jsxs("li",{className:f.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{d(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:f.actTitle,children:[s.jsx("span",{children:"Exams: "}),s.jsx("button",{onClick:()=>{D(!0),N("Exams")},children:"Create Exam"})]}),s.jsx("ul",{children:r?.days.map(c=>c.day==w&&c.Exams.map(e=>s.jsxs("li",{className:f.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{d(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))})]}),s.jsx("button",{className:f.submit,onClick:t,children:"Submit"})]})]})})]})}function Rs(){const{userData:u,pageDetector:a,userObject:b}=i.useContext(q),[m,h]=i.useState(!1),[p,S]=i.useState(!1),[D,P]=i.useState(!1),[N,w]=i.useState(null),[x,v]=i.useState({}),[y,$]=i.useState([]);async function E(r){const l=B(T,"Main_Database","Recaps",`${r}`,`${r}`),d=(await O(l)).data();if(!d)return;const c=d[r];w(c)}return i.useEffect(()=>{const r=B(T,"Main_Database","Recaps"),l=z(r,t=>{console.log("Render!");const d=t.data()?.ListsOfRecap;d&&(v(d[d.length-1]),$(d))});return()=>{l()}},[]),i.useEffect(()=>{const r=x?B(T,"Main_Database","Recaps",`${x.monthAndDay}`,`${x.monthAndDay}`):null,l=x&&r?z(r,t=>{async function d(){const o=B(T,"Main_Database","Recaps",`${y[y.length-1]?.monthAndDay}`,`${y[y.length-1]?.monthAndDay}`),e=(await O(o)).data();if(!e)return;const n=y[y.length-1]?.monthAndDay,A=e[n];w(A)}t.data()&&d()}):null;return()=>{l&&l()}},[x,y]),i.useEffect(()=>{b?.uid?a(null,2,!1):a(0,null,!0)},[b]),s.jsxs("div",{className:W.recapWrapper,children:[s.jsx(ks,{weeklyRecaps:N,showAddRecap:p,setShowAddRecap:S,editRecap:D,setEditRecap:P}),s.jsxs("div",{className:W.top,children:[s.jsx("h2",{children:"Weekly Recap"}),s.jsxs("div",{className:W.weekWrapper,children:[s.jsx("button",{onClick:()=>{h(!m)},className:W.weekButton,children:x.monthAndDay?x.monthAndDay:"Nothing"}),s.jsx("ul",{className:m?W.weeksDropdown:W.hideDropDown,children:y?.map(r=>s.jsx("li",{onClick:()=>{v(r),r.monthAndDay&&E(r.monthAndDay)},children:r.monthAndDay},r.monthAndDay))}),u?.user.status=="Owner"&&s.jsx("button",{className:W.createRecap,onClick:()=>S(!0),children:"Create Recap"}),u?.user.status=="Owner"&&s.jsx("button",{className:W.createRecap,onClick:()=>P(!0),children:s.jsx("i",{className:"fa fa-edit"})})]})]}),s.jsx("div",{className:W.daysWrapper,children:N?.days.map(r=>s.jsx(cs,{day:r},Math.random()*1))})]})}export{Rs as default};
