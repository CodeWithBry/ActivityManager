import{j as s,r as i,d as $,f as M,b as z,a as F,s as q,F as V,c as L,i as H,o as I,g as T}from"./index-tTlYXUdd.js";const Q="_recapWrapper_h2f15_1",U="_top_h2f15_37",X="_weekWrapper_h2f15_69",J="_weekButton_h2f15_85",K="_hideDropDown_h2f15_105",Y="_weeksDropdown_h2f15_113",Z="_createRecap_h2f15_169",ss="_daysWrapper_h2f15_197",v={recapWrapper:Q,top:U,weekWrapper:X,weekButton:J,hideDropDown:K,weeksDropdown:Y,createRecap:Z,daysWrapper:ss},es="_dayCard_1mzm6_1",ts="_dayHeader_1mzm6_35",as="_openDay_1mzm6_37",ns="_dayContent_1mzm6_81",cs="_activities_1mzm6_125",is="_actWrapper_1mzm6_145",y={dayCard:es,dayHeader:ts,openDay:as,dayContent:ns,activities:cs,actWrapper:is};function rs({day:o}){return s.jsx("div",{className:y.daysWrapper,children:s.jsxs("div",{className:y.dayCard,children:[s.jsx("div",{className:y.dayHeader,children:o.day}),s.jsxs("div",{className:y.dayContent,children:[s.jsxs("div",{className:y.activities,children:[s.jsx("h2",{children:"Activities"}),s.jsx("ul",{className:y.actWrapper,children:o.Activities.map(t=>s.jsxs("li",{children:[" ",s.jsx("i",{className:"fa fa-caret-right"})," ",t.subject,": ",t.title+t.status]},t.id))})]}),s.jsxs("div",{className:y.activities,children:[s.jsx("h2",{children:"Group Activity"}),s.jsx("ul",{className:y.actWrapper,children:o.Groupings.map(t=>s.jsxs("li",{children:[" ",s.jsx("i",{className:"fa fa-caret-right"})," ",t.subject,": ",t.title+t.status]},t.id))})]}),s.jsxs("div",{className:y.activities,children:[s.jsx("h2",{children:"Assignment"}),s.jsx("ul",{className:y.actWrapper,children:o.Assignment.map(t=>s.jsxs("li",{children:[" ",s.jsx("i",{className:"fa fa-caret-right"})," ",t.subject,": ",t.title+t.status]},t.id))})]}),s.jsxs("div",{className:y.activities,children:[s.jsx("h2",{children:"Projects"}),s.jsx("ul",{className:y.actWrapper,children:o.Projects.map(t=>s.jsxs("li",{children:[" ",s.jsx("i",{className:"fa fa-caret-right"})," ",t.subject,": ",t.title+t.status]},t.id))})]}),s.jsxs("div",{className:y.activities,children:[s.jsx("h2",{children:"Exams"}),s.jsx("ul",{className:y.actWrapper,children:o.Exams.map(t=>s.jsxs("li",{children:[" ",s.jsx("i",{className:"fa fa-caret-right"})," ",t.subject,": ",t.title+t.status]},t.id))})]})]}),s.jsx("button",{className:y.openDay,children:"Open"})]})})}const os="_createPrompt_1insj_1",ls="_addSubjectBox_1insj_29",us="_closeButton_1insj_53",ds="_top_1insj_123",hs="_activitiesWrapper_1insj_177",ms="_lists_1insj_315",ps="_submit_1insj_355",p={createPrompt:os,addSubjectBox:ls,closeButton:us,top:ds,activitiesWrapper:hs,lists:ms,submit:ps},js="_subjectBox_1eqzh_1",xs="_choices_1eqzh_51",fs="_show_1eqzh_87",ys="_subject_1eqzh_1",bs="_subName_1eqzh_127",h={subjectBox:js,choices:xs,show:fs,subject:ys,subName:bs};function _s(){const{selectedDay:o,setSelectedDay:t}=i.useContext(G),x=["Monday","Tuesday","Wednesday","Thursday","Friday"],[j,l]=i.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:h.subName,children:"Days"}),s.jsxs("button",{className:h.subjectBox,onClick:()=>{l(!j)},children:[o,s.jsx("i",{className:j?"fa fa-angle-up":"fa fa-angle-down"}),s.jsx("ul",{className:j?`${h.choices} ${h.show}`:h.choices,children:x.map(f=>s.jsx("li",{className:h.subject,onClick:()=>{t(f)},children:f},Math.random()*1))})]})]})}const gs="_addSubjectWrapper_113me_1",As="_addSubjectBox_113me_29",Ns="_closeButton_113me_53",Ds="_top_113me_123",ws="_buttonWrapper_113me_189",Ss="_submit_113me_199",k={addSubjectWrapper:gs,addSubjectBox:As,closeButton:Ns,top:Ds,buttonWrapper:ws,submit:Ss};function Cs({subject:o,setSubject:t}){const[x]=i.useState(["CSS","Philosophy","CPAR","UCSP","PEH3","Entrepreneurship","21stCL","Robotics"]),[j,l]=i.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:h.subName,children:"Subject"}),s.jsxs("button",{className:h.subjectBox,onClick:()=>{l(!j)},children:[o,s.jsx("i",{className:j?"fa fa-angle-up":"fa fa-angle-down"}),s.jsx("ul",{className:j?`${h.choices} ${h.show}`:h.choices,children:x.map(f=>s.jsx("li",{className:h.subject,onClick:()=>{t(f)},children:f},Math.random()*1))})]})]})}function ks({selectedStatus:o,setSelectedStatus:t}){const[x,j]=i.useState(!1),[l]=i.useState(["(Submitted)","(Continue)"]);return s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:h.subName,children:"Semester and Quarter"}),s.jsxs("button",{className:h.subjectBox,onClick:()=>{j(!x)},children:[o,s.jsx("i",{className:x?"fa fa-angle-up":"fa fa-angle-down"}),s.jsx("ul",{className:x?`${h.choices} ${h.show}`:h.choices,children:l.map(f=>s.jsx("li",{className:h.subject,onClick:()=>{t(f)},children:f},Math.random()*1))})]})]})}function Ws(){const{typeOfWork:o,setTypeOfWork:t,showActPrompt:x,setShowActPrompt:j,showAssPrompt:l,setShowAssPrompt:f,showProjPrompt:B,setShowProjPrompt:O,setRecap:D,recap:W,selectedDay:b}=i.useContext(G),[A,u]=i.useState(""),[g,E]=i.useState(""),[c,P]=i.useState("(Submitted)"),[d,N]=i.useState("CSS");function R(){const m={id:Math.random()*1,status:c,title:A,description:g,typeOfWork:o,subject:d};switch(o){case"Activity":D(r=>{if(!r)return r;const a=r.days.map(e=>b==e.day?{...e,Activities:[...e.Activities,{...m,status:c}]}:{...e});return{...r,days:a}});break;case"Groupings":D(r=>{if(!r)return r;const a=r.days.map(e=>b==e.day?{...e,Groupings:[...e.Groupings,{...m,status:c}]}:{...e});return{...r,days:a}});break;case"Assignment":D(r=>{if(!r)return r;const a=r.days.map(e=>b==e.day?{...e,Assignment:[...e.Assignment,{...m,status:c}]}:{...e});return{...r,days:a}});break;case"Project":D(r=>{if(!r)return r;const a=r.days.map(e=>b==e.day?{...e,Projects:[...e.Projects,{...m,status:c}]}:{...e});return{...r,days:a}});break;case"Exams":D(r=>{if(!r)return r;const a=r.days.map(e=>b==e.day?{...e,Exams:[...e.Exams,{...m,status:c}]}:{...e});return{...r,days:a}});break}}if(i.useEffect(()=>{W&&console.log(W)},[W]),x||l||B)return s.jsx("div",{className:k.addSubjectWrapper,children:s.jsxs("div",{className:k.addSubjectBox,children:[s.jsx("button",{className:k.closeButton,onClick:()=>{t(""),j(!1),f(!1),O(!1)},children:"X"}),s.jsxs("h1",{children:["Create ",o]}),s.jsxs("div",{className:k.top,children:[s.jsx(Cs,{subject:d,setSubject:N}),s.jsx(ks,{selectedStatus:c,setSelectedStatus:P}),s.jsxs("h2",{className:k.actTitle,children:[o," Title"]}),s.jsx("input",{type:"text",value:A,onChange:m=>{u(m.currentTarget.value)}}),s.jsxs("h2",{className:k.actDesc,children:[o," Description"]}),s.jsx("textarea",{rows:5,value:g,onChange:m=>{E(m.currentTarget.value)}})]}),s.jsxs("div",{className:k.buttonWrapper,children:[s.jsx("button",{className:k.submit,onClick:R,children:"Submit Only"}),s.jsx("button",{className:k.submit,onClick:R,children:"Create Again"})]})]})})}const G=i.createContext({});function Ps({showAddRecap:o,setShowAddRecap:t}){const x={monthAndDay:"",days:[{day:"Monday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Tuesday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Wednesday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Thursday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]},{day:"Friday",Activities:[],Assignment:[],Groupings:[],Projects:[],Exams:[]}]},[j,l]=i.useState(!1),[f,B]=i.useState(!1),[O,D]=i.useState(!1),[W,b]=i.useState("Activity"),[A,u]=i.useState("Monday"),[g,E]=i.useState("1st"),[c,P]=i.useState("1st"),[d,N]=i.useState(x);async function R(){const a={monthAndDay:d.monthAndDay};try{const e=$(M,"Main_Database","Recaps"),n=$(M,"Main_Database","Recaps",`${a.monthAndDay}`,`${a.monthAndDay}`);await z(e,{ListsOfRecap:F(a)}),await q(n,{[a.monthAndDay]:d})}catch(e){e instanceof V&&console.log(e)}}function m(a,e){switch(e){case"Activity":N(n=>{if(!n)return n;const w=n.days.map(_=>{const S=_.Activities.filter(C=>C.id!=a);return{..._,Activities:S}});return{...n,days:w}});break;case"Groupings":N(n=>{if(!n||!n)return n;const w=n.days.map(_=>{const S=_.Groupings.filter(C=>C.id!=a);return{..._,Groupings:S}});return{...n,days:w}});break;case"Assignment":N(n=>{if(!n)return n;const w=n.days.map(_=>{const S=_.Assignment.filter(C=>C.id!=a);return{..._,Assignment:S}});return{...n,days:w}});break;case"Project":N(n=>{if(!n)return n;const w=n.days.map(_=>{const S=_.Projects.filter(C=>C.id!=a);return{..._,Projects:S}});return{...n,days:w}});break;case"Exams":N(n=>{if(!n)return n;const w=n.days.map(_=>{const S=_.Exams.filter(C=>C.id!=a);return{..._,Exams:S}});return{...n,days:w}});break}}const r={showActPrompt:j,setShowActPrompt:l,showAssPrompt:f,setShowAssPrompt:B,showProjPrompt:O,setShowProjPrompt:D,selectedDay:A,setSelectedDay:u,typeOfWork:W,setTypeOfWork:b,quarter:g,setQuarter:E,semester:c,setSemester:P,recap:d,setRecap:N,createRecap:R};if(o)return s.jsxs(G.Provider,{value:r,children:[s.jsx(Ws,{}),s.jsx("div",{className:p.createPrompt,children:s.jsxs("div",{className:p.addSubjectBox,children:[s.jsx("button",{className:p.closeButton,onClick:()=>{t(!1),N(x)},children:"X"}),s.jsxs("div",{className:p.top,children:[s.jsx(_s,{}),s.jsx("h2",{className:p.title,children:"Month and Day"}),s.jsx("input",{type:"text",value:d.monthAndDay,onChange:a=>{const e=a.currentTarget.value;N(n=>({...n,monthAndDay:e}))}}),s.jsxs("div",{className:p.activitiesWrapper,children:[s.jsxs("h2",{className:p.actTitle,children:[s.jsx("span",{children:"Activities: "}),s.jsx("button",{onClick:()=>{l(!0),b("Activity")},children:"Create Actvity"})]}),s.jsx("ul",{children:d?.days.map(a=>a.day==A&&a.Activities.map(e=>s.jsxs("li",{className:p.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{m(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:p.actTitle,children:[s.jsx("span",{children:"Group Activities: "}),s.jsx("button",{onClick:()=>{l(!0),b("Groupings")},children:"Create Groupings"})]}),s.jsx("ul",{children:d?.days.map(a=>a.day==A&&a.Groupings.map(e=>s.jsxs("li",{className:p.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{m(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:p.actTitle,children:[s.jsx("span",{children:"Assignments: "}),s.jsx("button",{onClick:()=>{l(!0),b("Assignment")},children:"Create Assignment"})]}),s.jsx("ul",{children:d?.days.map(a=>a.day==A&&a.Assignment.map(e=>s.jsxs("li",{className:p.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{m(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:p.actTitle,children:[s.jsx("span",{children:"Projects: "}),s.jsx("button",{onClick:()=>{l(!0),b("Project")},children:"Create Project"})]}),s.jsx("ul",{children:d?.days.map(a=>a.day==A&&a.Projects.map(e=>s.jsxs("li",{className:p.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{m(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))}),s.jsxs("h2",{className:p.actTitle,children:[s.jsx("span",{children:"Exams: "}),s.jsx("button",{onClick:()=>{l(!0),b("Exams")},children:"Create Exam"})]}),s.jsx("ul",{children:d?.days.map(a=>a.day==A&&a.Exams.map(e=>s.jsxs("li",{className:p.lists,children:[s.jsxs("span",{children:[e.subject,": ",e.title]}),s.jsxs("button",{onClick:()=>{m(e.id,e.typeOfWork)},children:[" ",s.jsx("i",{className:"fa fa-trash"})," "]})]},Math.random()*1)))})]}),s.jsx("button",{className:p.submit,onClick:R,children:"Submit"})]})]})})]})}function vs(){const{userData:o}=i.useContext(L),[t,x]=i.useState(!1),[j,l]=i.useState(!1),[f,B]=i.useState(null),[O,D]=i.useState({}),[W,b]=i.useState([]);async function A(u){const g=$(M,"Main_Database","Recaps",`${u}`,`${u}`),c=(await T(g)).data();if(!c)return;const d=c[u];B(d)}return i.useEffect(()=>{async function u(){try{const g=$(M,"Main_Database","Recaps"),c=(await T(g)).data();if(!c)return 0;const P=$(M,"Main_Database","Recaps",`${c[c.length-1].monthAndDay}`,`${c[c.length-1].monthAndDay}`),d=(await T(P)).data();B(d)}catch(g){if(g instanceof V)return}}H.currentUser&&u()},[W]),i.useEffect(()=>{const u=$(M,"Main_Database","Recaps"),g=I(u,E=>{console.log("Render!");const c=E.data()?.ListsOfRecap;D(c[c.length-1]);async function P(){b(c);const d=$(M,"Main_Database","Recaps",`${c[c.length-1]?.monthAndDay}`,`${c[c.length-1]?.monthAndDay}`),R=(await T(d)).data();if(!R)return;const m=c[c.length-1]?.monthAndDay,r=R[m];B(r)}c.length!=0&&P()});return()=>{g()}},[]),s.jsxs("div",{className:v.recapWrapper,children:[s.jsx(Ps,{weeklyRecaps:f,showAddRecap:j,setShowAddRecap:l}),s.jsxs("div",{className:v.top,children:[s.jsx("h2",{children:"Weekly Recap"}),s.jsxs("div",{className:v.weekWrapper,children:[s.jsx("button",{onClick:()=>{x(!t)},className:v.weekButton,children:O.monthAndDay?O.monthAndDay:"Nothing"}),s.jsx("ul",{className:t?v.weeksDropdown:v.hideDropDown,children:W?.map(u=>s.jsx("li",{onClick:()=>{D(u),u.monthAndDay&&A(u.monthAndDay)},children:u.monthAndDay},u.monthAndDay))}),o?.user.status=="Owner"&&s.jsx("button",{className:v.createRecap,onClick:()=>l(!0),children:"Create Recap"})]})]}),s.jsx("div",{className:v.daysWrapper,children:f?.days.map(u=>s.jsx(rs,{day:u}))})]})}export{vs as default};
