(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var pm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function IA(){if(Tv)return Gl;Tv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var Sv;function xA(){return Sv||(Sv=1,pm.exports=IA()),pm.exports}var T=xA(),gm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function NA(){if(Av)return Oe;Av=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,F={};function U(O,ee,ae){this.props=O,this.context=ee,this.refs=F,this.updater=ae||L}U.prototype.isReactComponent={},U.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=U.prototype;function ie(O,ee,ae){this.props=O,this.context=ee,this.refs=F,this.updater=ae||L}var se=ie.prototype=new K;se.constructor=ie,B(se,U.prototype),se.isPureReactComponent=!0;var he=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Ce=Object.prototype.hasOwnProperty;function V(O,ee,ae,Z,fe,be){return ae=be.ref,{$$typeof:s,type:O,key:ee,ref:ae!==void 0?ae:null,props:be}}function R(O,ee){return V(O.type,ee,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function M(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return ee[ae]})}var D=/\/+/g;function P(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ee.toString(36)}function C(){}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ve(O,ee,ae,Z,fe){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var me=!1;if(O===null)me=!0;else switch(be){case"bigint":case"string":case"number":me=!0;break;case"object":switch(O.$$typeof){case s:case e:me=!0;break;case E:return me=O._init,Ve(me(O._payload),ee,ae,Z,fe)}}if(me)return fe=fe(O),me=Z===""?"."+P(O,0):Z,he(fe)?(ae="",me!=null&&(ae=me.replace(D,"$&/")+"/"),Ve(fe,ee,ae,"",function(kn){return kn})):fe!=null&&(x(fe)&&(fe=R(fe,ae+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(D,"$&/")+"/")+me)),ee.push(fe)),1;me=0;var He=Z===""?".":Z+":";if(he(O))for(var Me=0;Me<O.length;Me++)Z=O[Me],be=He+P(Z,Me),me+=Ve(Z,ee,ae,be,fe);else if(Me=b(O),typeof Me=="function")for(O=Me.call(O),Me=0;!(Z=O.next()).done;)Z=Z.value,be=He+P(Z,Me++),me+=Ve(Z,ee,ae,be,fe);else if(be==="object"){if(typeof O.then=="function")return Ve(De(O),ee,ae,Z,fe);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(O,ee,ae){if(O==null)return O;var Z=[],fe=0;return Ve(O,Z,"","",function(be){return ee.call(ae,be,fe++)}),Z}function W(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Re(){}return Oe.Children={map:$,forEach:function(O,ee,ae){$(O,function(){ee.apply(this,arguments)},ae)},count:function(O){var ee=0;return $(O,function(){ee++}),ee},toArray:function(O){return $(O,function(ee){return ee})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=U,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=ie,Oe.StrictMode=r,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ce.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cloneElement=function(O,ee,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=B({},O.props),fe=O.key,be=void 0;if(ee!=null)for(me in ee.ref!==void 0&&(be=void 0),ee.key!==void 0&&(fe=""+ee.key),ee)!Ce.call(ee,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ee.ref===void 0||(Z[me]=ee[me]);var me=arguments.length-2;if(me===1)Z.children=ae;else if(1<me){for(var He=Array(me),Me=0;Me<me;Me++)He[Me]=arguments[Me+2];Z.children=He}return V(O.type,fe,void 0,void 0,be,Z)},Oe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Oe.createElement=function(O,ee,ae){var Z,fe={},be=null;if(ee!=null)for(Z in ee.key!==void 0&&(be=""+ee.key),ee)Ce.call(ee,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(fe[Z]=ee[Z]);var me=arguments.length-2;if(me===1)fe.children=ae;else if(1<me){for(var He=Array(me),Me=0;Me<me;Me++)He[Me]=arguments[Me+2];fe.children=He}if(O&&O.defaultProps)for(Z in me=O.defaultProps,me)fe[Z]===void 0&&(fe[Z]=me[Z]);return V(O,be,void 0,void 0,null,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:p,render:O}},Oe.isValidElement=x,Oe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:W}},Oe.memo=function(O,ee){return{$$typeof:m,type:O,compare:ee===void 0?null:ee}},Oe.startTransition=function(O){var ee=ce.T,ae={};ce.T=ae;try{var Z=O(),fe=ce.S;fe!==null&&fe(ae,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Re,le)}catch(be){le(be)}finally{ce.T=ee}},Oe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Oe.use=function(O){return ce.H.use(O)},Oe.useActionState=function(O,ee,ae){return ce.H.useActionState(O,ee,ae)},Oe.useCallback=function(O,ee){return ce.H.useCallback(O,ee)},Oe.useContext=function(O){return ce.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,ee){return ce.H.useDeferredValue(O,ee)},Oe.useEffect=function(O,ee,ae){var Z=ce.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(O,ee)},Oe.useId=function(){return ce.H.useId()},Oe.useImperativeHandle=function(O,ee,ae){return ce.H.useImperativeHandle(O,ee,ae)},Oe.useInsertionEffect=function(O,ee){return ce.H.useInsertionEffect(O,ee)},Oe.useLayoutEffect=function(O,ee){return ce.H.useLayoutEffect(O,ee)},Oe.useMemo=function(O,ee){return ce.H.useMemo(O,ee)},Oe.useOptimistic=function(O,ee){return ce.H.useOptimistic(O,ee)},Oe.useReducer=function(O,ee,ae){return ce.H.useReducer(O,ee,ae)},Oe.useRef=function(O){return ce.H.useRef(O)},Oe.useState=function(O){return ce.H.useState(O)},Oe.useSyncExternalStore=function(O,ee,ae){return ce.H.useSyncExternalStore(O,ee,ae)},Oe.useTransition=function(){return ce.H.useTransition()},Oe.version="19.1.0",Oe}var bv;function gp(){return bv||(bv=1,gm.exports=NA()),gm.exports}var I=gp(),ym={exports:{}},$l={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function DA(){return wv||(wv=1,function(s){function e($,W){var le=$.length;$.push(W);e:for(;0<le;){var Re=le-1>>>1,O=$[Re];if(0<o(O,W))$[Re]=W,$[le]=O,le=Re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],le=$.pop();if(le!==W){$[0]=le;e:for(var Re=0,O=$.length,ee=O>>>1;Re<ee;){var ae=2*(Re+1)-1,Z=$[ae],fe=ae+1,be=$[fe];if(0>o(Z,le))fe<O&&0>o(be,Z)?($[Re]=be,$[fe]=le,Re=fe):($[Re]=Z,$[ae]=le,Re=ae);else if(fe<O&&0>o(be,le))$[Re]=be,$[fe]=le,Re=fe;else break e}}return W}function o($,W){var le=$.sortIndex-W.sortIndex;return le!==0?le:$.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],m=[],E=1,w=null,b=3,L=!1,B=!1,F=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function he($){for(var W=n(m);W!==null;){if(W.callback===null)r(m);else if(W.startTime<=$)r(m),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(m)}}function ce($){if(F=!1,he($),!B)if(n(g)!==null)B=!0,Ce||(Ce=!0,P());else{var W=n(m);W!==null&&Ve(ce,W.startTime-$)}}var Ce=!1,V=-1,R=5,x=-1;function M(){return U?!0:!(s.unstable_now()-x<R)}function D(){if(U=!1,Ce){var $=s.unstable_now();x=$;var W=!0;try{e:{B=!1,F&&(F=!1,ie(V),V=-1),L=!0;var le=b;try{t:{for(he($),w=n(g);w!==null&&!(w.expirationTime>$&&M());){var Re=w.callback;if(typeof Re=="function"){w.callback=null,b=w.priorityLevel;var O=Re(w.expirationTime<=$);if($=s.unstable_now(),typeof O=="function"){w.callback=O,he($),W=!0;break t}w===n(g)&&r(g),he($)}else r(g);w=n(g)}if(w!==null)W=!0;else{var ee=n(m);ee!==null&&Ve(ce,ee.startTime-$),W=!1}}break e}finally{w=null,b=le,L=!1}W=void 0}}finally{W?P():Ce=!1}}}var P;if(typeof se=="function")P=function(){se(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,De=C.port2;C.port1.onmessage=D,P=function(){De.postMessage(null)}}else P=function(){K(D,0)};function Ve($,W){V=K(function(){$(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function($){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var le=b;b=W;try{return $()}finally{b=le}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=b;b=$;try{return W()}finally{b=le}},s.unstable_scheduleCallback=function($,W,le){var Re=s.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Re+le:Re):le=Re,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=le+O,$={id:E++,callback:W,priorityLevel:$,startTime:le,expirationTime:O,sortIndex:-1},le>Re?($.sortIndex=le,e(m,$),n(g)===null&&$===n(m)&&(F?(ie(V),V=-1):F=!0,Ve(ce,le-Re))):($.sortIndex=O,e(g,$),B||L||(B=!0,Ce||(Ce=!0,P()))),$},s.unstable_shouldYield=M,s.unstable_wrapCallback=function($){var W=b;return function(){var le=b;b=W;try{return $.apply(this,arguments)}finally{b=le}}}}(vm)),vm}var Rv;function OA(){return Rv||(Rv=1,_m.exports=DA()),_m.exports}var Em={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function MA(){if(Cv)return ln;Cv=1;var s=gp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:m,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(g,m){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,E)},ln.flushSync=function(g){var m=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=m,r.p=E,r.d.f()}},ln.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},ln.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},ln.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var E=m.as,w=p(E,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,L=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;E==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:L}):E==="script"&&r.d.X(g,{crossOrigin:w,integrity:b,fetchPriority:L,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ln.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var E=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},ln.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var E=m.as,w=p(E,m.crossOrigin);r.d.L(g,E,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ln.preloadModule=function(g,m){if(typeof g=="string")if(m){var E=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},ln.requestFormReset=function(g){r.d.r(g)},ln.unstable_batchedUpdates=function(g,m){return g(m)},ln.useFormState=function(g,m,E){return f.H.useFormState(g,m,E)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var Iv;function PA(){if(Iv)return Em.exports;Iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Em.exports=MA(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function VA(){if(xv)return $l;xv=1;var s=OA(),e=gp(),n=PA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function m(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=m(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),se=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case U:return"Profiler";case F:return"StrictMode";case ce:return"Suspense";case Ce:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case se:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var Ve=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Re=[],O=-1;function ee(t){return{current:t}}function ae(t){0>O||(t.current=Re[O],Re[O]=null,O--)}function Z(t,i){O++,Re[O]=t.current,t.current=i}var fe=ee(null),be=ee(null),me=ee(null),He=ee(null);function Me(t,i){switch(Z(me,i),Z(be,t),Z(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Y_(i),t=W_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(fe),Z(fe,t)}function kn(){ae(fe),ae(be),ae(me)}function fi(t){t.memoizedState!==null&&Z(He,t);var i=fe.current,a=W_(i,t.type);i!==a&&(Z(be,t),Z(fe,a))}function Kt(t){be.current===t&&(ae(fe),ae(be)),He.current===t&&(ae(He),Bl._currentValue=le)}var Jn=Object.prototype.hasOwnProperty,Hi=s.unstable_scheduleCallback,Ie=s.unstable_cancelCallback,nt=s.unstable_shouldYield,ve=s.unstable_requestPaint,ye=s.unstable_now,Ke=s.unstable_getCurrentPriorityLevel,Lo=s.unstable_ImmediatePriority,_a=s.unstable_UserBlockingPriority,Rr=s.unstable_NormalPriority,gf=s.unstable_LowPriority,va=s.unstable_IdlePriority,Uo=s.log,Pu=s.unstable_setDisableYieldValue,Tt=null,it=null;function wn(t){if(typeof Uo=="function"&&Pu(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Tt,t)}catch{}}var an=Math.clz32?Math.clz32:Cr,Vu=Math.log,yf=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(Vu(t)/yf|0)|0}var Ir=256,xr=4194304;function ei(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ea(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ei(l):(v&=S,v!==0?h=ei(v):a||(a=S&~t,a!==0&&(h=ei(a))))):(S=l&~d,S!==0?h=ei(S):v!==0?h=ei(v):a||(a=l&~t,a!==0&&(h=ei(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Nr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Bo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function qo(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function Fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Gi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ho(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-an(a),te=1<<X;S[X]=0,N[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&di(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function di(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-an(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Fo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-an(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Is(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function ku(t,i){var a=W.p;try{return W.p=t,i()}finally{W.p=a}}var pt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+pt,It="__reactProps$"+pt,jn="__reactContainer$"+pt,Go="__reactEvents$"+pt,_f="__reactListeners$"+pt,xs="__reactHandles$"+pt,ju="__reactResources$"+pt,Dr="__reactMarker$"+pt;function Ns(t){delete t[Vt],delete t[It],delete t[Go],delete t[_f],delete t[xs]}function $i(t){var i=t[Vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[jn]||a[Vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=ev(t);t!==null;){if(a=t[Vt])return a;t=ev(t)}return i}t=a,a=t.parentNode}return null}function mi(t){if(t=t[Vt]||t[jn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function pi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function dn(t){var i=t[ju];return i||(i=t[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[Dr]=!0}var $o=new Set,Sa={};function ti(t,i){Qi(t,i),Qi(t+"Capture",i)}function Qi(t,i){for(Sa[t]=i,t=0;t<i.length;t++)$o.add(i[t])}var Lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},Or={};function Bu(t){return Jn.call(Or,t)?!0:Jn.call(Uu,t)?!1:Lu.test(t)?Or[t]=!0:(Uu[t]=!0,!1)}function Ds(t,i,a){if(Bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Yt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Mr,zu;function Ki(t){if(Mr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Mr=i&&i[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+zu}var Aa=!1;function ba(t,i){if(!t||Aa)return"";Aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var G=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){G=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){G=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var N=v.split(`
`),H=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Aa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ki(a):""}function Qo(t){switch(t.tag){case 26:case 27:case 5:return Ki(t.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return ba(t.type,!1);case 11:return ba(t.type.render,!1);case 1:return ba(t.type,!0);case 31:return Ki("Activity");default:return""}}function wa(t){try{var i="";do i+=Qo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ko(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vf(t){var i=Ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ra(t){t._valueTracker||(t._valueTracker=vf(t))}function Yo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ef=/[\n"\\]/g;function xt(t){return t.replace(Ef,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rn(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+mn(i)):t.value!==""+mn(i)&&(t.value=""+mn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Os(t,v,mn(i)):a!=null?Os(t,v,mn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+mn(S):t.removeAttribute("name")}function Vr(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+mn(a):"",i=i!=null?""+mn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Os(t,i,a){i==="number"&&Pr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+mn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function at(t,i,a){if(i!=null&&(i=""+mn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+mn(a):""}function kr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=mn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||jr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Wo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qu(t,d,i[d])}function Xo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Sf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Wi=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Zi=null;function Zo(t){var i=mi(t);if(i&&(t=i.stateNode)){var a=t[It]||null;e:switch(t=i.stateNode,i.type){case"input":if(Rn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[It]||null;if(!h)throw Error(r(90));Rn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Yo(l)}break e;case"textarea":at(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Yi(t,!!a.multiple,i,!1)}}}var yi=!1;function Hu(t,i,a){if(yi)return t(i,a);yi=!0;try{var l=t(i);return l}finally{if(yi=!1,(Xi!==null||Zi!==null)&&(kc(),Xi&&(i=Xi,t=Zi,Zi=Xi=null,Zo(i),t)))for(i=0;i<t.length;i++)Zo(t[i])}}function Lr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(ni)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Bn=!1}var _i=null,Ms=null,Ji=null;function Jo(){if(Ji)return Ji;var t,i=Ms,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ji=h.slice(t,1<l?1-l:void 0)}function vi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ei(){return!0}function el(){return!1}function qt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ei:el,this.isPropagationStopped=el,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),i}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=qt(et),Br=E({},et,{view:0,detail:0}),Fu=qt(Br),xa,Na,Ti,zr=E({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(xa=t.screenX-Ti.screenX,Na=t.screenY-Ti.screenY):Na=xa=0,Ti=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),zn=qt(zr),Gu=E({},zr,{dataTransfer:0}),Af=qt(Gu),qr=E({},Br,{relatedTarget:0}),Da=qt(qr),tl=E({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=qt(tl),$u=E({},et,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=qt($u),bf=E({},et,{data:0}),nl=qt(bf),Hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ku[t])?!!i[t]:!1}function Fr(){return il}var Yu=E({},Br,{key:function(t){if(t.key){var i=Hr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pa=qt(Yu),Wu=E({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=qt(Wu),es=E({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Xu=qt(es),Zu=E({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=qt(Zu),ec=E({},zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=qt(ec),pn=E({},et,{newState:0,oldState:0}),tc=qt(pn),nc=[9,13,27,32],Si=ni&&"CompositionEvent"in window,c=null;ni&&"documentMode"in document&&(c=document.documentMode);var y=ni&&"TextEvent"in window&&!c,_=ni&&(!Si||c&&8<c&&11>=c),A=" ",z=!1;function Y(t,i){switch(t){case"keyup":return nc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fe=!1;function kt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return t=i.data,t===A&&z?null:t;default:return null}}function Ge(t,i){if(Fe)return t==="compositionend"||!Si&&Y(t,i)?(t=Jo(),Ji=Ms=_i=null,Fe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ht[t.type]:i==="textarea"}function ts(t,i,a,l){Xi?Zi?Zi.push(l):Zi=[l]:Xi=l,i=qc(i,"onChange"),0<i.length&&(a=new Ia("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wt=null,Ai=null;function rl(t){F_(t,0)}function ic(t){var i=pi(t);if(Yo(i))return t}function hg(t,i){if(t==="change")return i}var fg=!1;if(ni){var wf;if(ni){var Rf="oninput"in document;if(!Rf){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Rf=typeof dg.oninput=="function"}wf=Rf}else wf=!1;fg=wf&&(!document.documentMode||9<document.documentMode)}function mg(){Wt&&(Wt.detachEvent("onpropertychange",pg),Ai=Wt=null)}function pg(t){if(t.propertyName==="value"&&ic(Ai)){var i=[];ts(i,Ai,t,Un(t)),Hu(rl,i)}}function sS(t,i,a){t==="focusin"?(mg(),Wt=i,Ai=a,Wt.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function rS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(Ai)}function aS(t,i){if(t==="click")return ic(i)}function oS(t,i){if(t==="input"||t==="change")return ic(i)}function lS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:lS;function al(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Jn.call(i,h)||!Cn(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Pr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Pr(t.document)}return i}function Cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var uS=ni&&"documentMode"in document&&11>=document.documentMode,ka=null,If=null,ol=null,xf=!1;function Eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||ka==null||ka!==Pr(l)||(l=ka,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=qc(If,"onSelect"),0<l.length&&(i=new Ia("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ka)))}function Gr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Nf={},Tg={};ni&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function $r(t){if(Nf[t])return Nf[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return Nf[t]=i[a];return t}var Sg=$r("animationend"),Ag=$r("animationiteration"),bg=$r("animationstart"),cS=$r("transitionrun"),hS=$r("transitionstart"),fS=$r("transitioncancel"),wg=$r("transitionend"),Rg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function ii(t,i){Rg.set(t,i),ti(i,[t])}var Cg=new WeakMap;function qn(t,i){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:wa(i)},Cg.set(t,i),i)}return{value:t,source:i,stack:wa(i)}}var Hn=[],La=0,Of=0;function sc(){for(var t=La,i=Of=La=0;i<t;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var h=Hn[i];Hn[i++]=null;var d=Hn[i];if(Hn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ig(a,h,d)}}function rc(t,i,a,l){Hn[La++]=t,Hn[La++]=i,Hn[La++]=a,Hn[La++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mf(t,i,a,l){return rc(t,i,a,l),ac(t)}function Ua(t,i){return rc(t,null,null,i),ac(t)}function Ig(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-an(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ac(t){if(50<Ol)throw Ol=0,Ud=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ba={};function dS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,l){return new dS(t,i,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Pf(t)&&(v=1);else if(typeof t=="string")v=pA(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=In(31,a,i,h),t.elementType=x,t.lanes=d,t;case B:return Qr(a.children,h,d,i);case F:v=8,h|=24;break;case U:return t=In(12,a,i,h|2),t.elementType=U,t.lanes=d,t;case ce:return t=In(13,a,i,h),t.elementType=ce,t.lanes=d,t;case Ce:return t=In(19,a,i,h),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case se:v=10;break e;case ie:v=9;break e;case he:v=11;break e;case V:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=In(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Qr(t,i,a,l){return t=In(7,t,l,i),t.lanes=a,t}function Vf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function kf(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var za=[],qa=0,lc=null,uc=0,Fn=[],Gn=0,Kr=null,is=1,ss="";function Yr(t,i){za[qa++]=uc,za[qa++]=lc,lc=t,uc=i}function Ng(t,i,a){Fn[Gn++]=is,Fn[Gn++]=ss,Fn[Gn++]=Kr,Kr=t;var l=is;t=ss;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,is=1<<32-an(i)+h|a<<h|l,ss=d+t}else is=1<<d|a<<h|l,ss=t}function jf(t){t.return!==null&&(Yr(t,1),Ng(t,1,0))}function Lf(t){for(;t===lc;)lc=za[--qa],za[qa]=null,uc=za[--qa],za[qa]=null;for(;t===Kr;)Kr=Fn[--Gn],Fn[Gn]=null,ss=Fn[--Gn],Fn[Gn]=null,is=Fn[--Gn],Fn[Gn]=null}var gn=null,St=null,We=!1,Wr=null,bi=!1,Uf=Error(r(519));function Xr(t){var i=Error(r(418,""));throw cl(qn(i,t)),Uf}function Dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Vt]=t,i[It]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Ue(Pl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Vr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),kr(i,l.value,l.defaultValue,l.children),Ra(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||K_(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=Hc),i=!0):i=!1,i||Xr(t)}function Og(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:gn=gn.return}}function ll(t){if(t!==gn)return!1;if(!We)return Og(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&St&&Xr(t),Og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){St=ri(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}St=null}}else i===27?(i=St,Ys(t.type)?(t=rm,rm=null,St=t):St=i):St=gn?ri(t.stateNode.nextSibling):null;return!0}function ul(){St=gn=null,We=!1}function Mg(){var t=Wr;return t!==null&&(En===null?En=t:En.push.apply(En,t),Wr=null),t}function cl(t){Wr===null?Wr=[t]:Wr.push(t)}var Bf=ee(null),Zr=null,rs=null;function Ps(t,i,a){Z(Bf,i._currentValue),i._currentValue=a}function as(t){t._currentValue=Bf.current,ae(Bf)}function zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function qf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),zf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),zf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function hl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=h.type;Cn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===He.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}h=h.return}t!==null&&qf(i,t,a,l),i.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Pg(Zr,t)}function hc(t,i){return Zr===null&&Jr(t),Pg(t,i)}function Pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},rs===null){if(t===null)throw Error(r(308));rs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else rs=rs.next=i;return a}var mS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pS=s.unstable_scheduleCallback,gS=s.unstable_NormalPriority,Lt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new mS,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&pS(gS,function(){t.controller.abort()})}var dl=null,Ff=0,Ha=0,Fa=null;function yS(t,i){if(dl===null){var a=dl=[];Ff=0,Ha=$d(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,i.then(Vg,Vg),i}function Vg(){if(--Ff===0&&dl!==null){Fa!==null&&(Fa.status="fulfilled");var t=dl;dl=null,Ha=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _S(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kg=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&yS(t,i),kg!==null&&kg(t,i)};var ea=ee(null);function Gf(){var t=ea.current;return t!==null?t:ft.pooledCache}function fc(t,i){i===null?Z(ea,ea.current):Z(ea,i.pool)}function jg(){var t=Gf();return t===null?null:{parent:Lt._currentValue,pool:t}}var ml=Error(r(460)),Lg=Error(r(474)),dc=Error(r(542)),$f={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mc(){}function Bg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(mc,mc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t;default:if(typeof i.status=="string")i.then(mc,mc);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t}throw pl=i,ml}}var pl=null;function zg(){if(pl===null)throw Error(r(459));var t=pl;return pl=null,t}function qg(t){if(t===ml||t===dc)throw Error(r(483))}var Vs=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ac(t),Ig(t,null,a),i}return rc(t,l,i,a),ac(t)}function gl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}function Yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wf=!1;function yl(){if(Wf){var t=Fa;if(t!==null)throw t}}function _l(t,i,a,l){Wf=!1;var h=t.updateQueue;Vs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,H=N.next;N.next=null,v===null?d=H:v.next=H,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=N))}if(d!==null){var te=h.baseState;v=0,X=H=N=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?($e&G)===G:(l&G)===G){G!==0&&G===Ha&&(Wf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=t,Ee=S;G=i;var ut=a;switch(Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){te=we.call(ut,te,G);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,G=typeof we=="function"?we.call(ut,te,G):we,G==null)break e;te=E({},te,G);break e;case 2:Vs=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=Q,N=te):X=X.next=Q,v|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(N=te),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Gs|=v,t.lanes=v,t.memoizedState=te}}function Hg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Fg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],i)}var Ga=ee(null),pc=ee(0);function Gg(t,i){t=ds,Z(pc,t),Z(Ga,i),ds=t|i.baseLanes}function Xf(){Z(pc,ds),Z(Ga,Ga.current)}function Zf(){ds=pc.current,ae(Ga),ae(pc)}var Ls=0,Pe=null,ot=null,Nt=null,gc=!1,$a=!1,ta=!1,yc=0,vl=0,Qa=null,vS=0;function wt(){throw Error(r(321))}function Jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Cn(t[a],i[a]))return!1;return!0}function ed(t,i,a,l,h,d){return Ls=d,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Iy:xy,ta=!1,d=a(l,h),ta=!1,$a&&(d=Qg(i,a,l,h)),$g(t),d}function $g(t){$.H=Ac;var i=ot!==null&&ot.next!==null;if(Ls=0,Nt=ot=Pe=null,gc=!1,vl=0,Qa=null,i)throw Error(r(300));t===null||Ft||(t=t.dependencies,t!==null&&cc(t)&&(Ft=!0))}function Qg(t,i,a,l){Pe=t;var h=0;do{if($a&&(Qa=null),vl=0,$a=!1,25<=h)throw Error(r(301));if(h+=1,Nt=ot=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=RS,d=i(a,l)}while($a);return d}function ES(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Pe.flags|=1024),i}function td(){var t=yc!==0;return yc=0,t}function nd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function id(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Ls=0,Nt=ot=Pe=null,$a=!1,vl=yc=0,Qa=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Pe.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Dt(){if(ot===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var i=Nt===null?Pe.memoizedState:Nt.next;if(i!==null)Nt=i,ot=t;else{if(t===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Nt===null?Pe.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=vl;return vl+=1,Qa===null&&(Qa=[]),t=Bg(Qa,t,i),i=Pe,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Iy:xy),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===se)return on(t)}throw Error(r(438,String(t)))}function rd(t){var i=null,a=Pe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sd(),Pe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function os(t,i){return typeof i=="function"?i(t):i}function vc(t){var i=Dt();return ad(i,ot,t)}function ad(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,N=null,H=i,X=!1;do{var te=H.lane&-536870913;if(te!==H.lane?($e&te)===te:(Ls&te)===te){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Ha&&(X=!0);else if((Ls&G)===G){H=H.next,G===Ha&&(X=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=te,v=d):N=N.next=te,Pe.lanes|=G,Gs|=G;te=H.action,ta&&a(d,te),d=H.hasEagerState?H.eagerState:a(d,te)}else G={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=G,v=d):N=N.next=G,Pe.lanes|=te,Gs|=te;H=H.next}while(H!==null&&H!==i);if(N===null?v=d:N.next=S,!Cn(d,t.memoizedState)&&(Ft=!0,X&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function od(t){var i=Dt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Cn(d,i.memoizedState)||(Ft=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,i,a){var l=Pe,h=Dt(),d=We;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!Cn((ot||h).memoizedState,a);v&&(h.memoizedState=a,Ft=!0),h=h.queue;var S=Xg.bind(null,l,h,t);if(Tl(2048,8,S,[t]),h.getSnapshot!==i||v||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,Ec(),Wg.bind(null,l,h,a,i),null),ft===null)throw Error(r(349));d||(Ls&124)!==0||Yg(l,i,a)}return a}function Yg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Pe.updateQueue,i===null?(i=sd(),Pe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Wg(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&Jg(t)}function Xg(t,i,a){return a(function(){Zg(i)&&Jg(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Cn(t,a)}catch{return!0}}function Jg(t){var i=Ua(t,2);i!==null&&Mn(i,t,2)}function ld(t){var i=_n();if(typeof t=="function"){var a=t;if(t=a(),ta){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},i}function ey(t,i,a,l){return t.baseState=a,ad(t,ot,typeof l=="function"?l:os)}function TS(t,i,a,l,h){if(Sc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,v={};$.T=v;try{var S=a(h,l),N=$.S;N!==null&&N(v,S),ny(t,i,S)}catch(H){ud(t,i,H)}finally{$.T=d}}else try{d=a(h,l),ny(t,i,d)}catch(H){ud(t,i,H)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,i,l)},function(l){return ud(t,i,l)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function ud(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==l)}t.action=null}function sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function ay(t,i){if(We){var a=ft.formState;if(a!==null){e:{var l=Pe;if(We){if(St){t:{for(var h=St,d=bi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){St=ri(h.nextSibling),l=h.data==="F!";break e}}Xr(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=wy.bind(null,Pe,l),l.dispatch=a,l=ld(!1),d=md.bind(null,Pe,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=TS.bind(null,Pe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function oy(t){var i=Dt();return ly(i,ot,t)}function ly(t,i,a){if(i=ad(t,i,ry)[0],t=vc(os)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(v){throw v===ml?dc:v}else l=i;i=Dt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Pe.flags|=2048,Ka(9,Ec(),SS.bind(null,h,a),null)),[l,d,t]}function SS(t,i){t.action=i}function uy(t){var i=Dt(),a=ot;if(a!==null)return ly(i,a,t);Dt(),i=i.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=sd(),Pe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ec(){return{destroy:void 0,resource:void 0}}function cy(){return Dt().memoizedState}function Tc(t,i,a,l){var h=_n();l=l===void 0?null:l,Pe.flags|=t,h.memoizedState=Ka(1|i,Ec(),a,l)}function Tl(t,i,a,l){var h=Dt();l=l===void 0?null:l;var d=h.memoizedState.inst;ot!==null&&l!==null&&Jf(l,ot.memoizedState.deps)?h.memoizedState=Ka(i,d,a,l):(Pe.flags|=t,h.memoizedState=Ka(1|i,d,a,l))}function hy(t,i){Tc(8390656,8,t,i)}function fy(t,i){Tl(2048,8,t,i)}function dy(t,i){return Tl(4,2,t,i)}function my(t,i){return Tl(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,a){a=a!=null?a.concat([t]):null,Tl(4,4,py.bind(null,i,t),a)}function cd(){}function yy(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Jf(i,l[1]))return l[0];if(l=t(),ta){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function hd(t,i,a){return a===void 0||(Ls&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=T_(),Pe.lanes|=t,Gs|=t,a)}function vy(t,i,a,l){return Cn(a,i)?a:Ga.current!==null?(t=hd(t,a,l),Cn(t,i)||(Ft=!0),t):(Ls&42)===0?(Ft=!0,t.memoizedState=a):(t=T_(),Pe.lanes|=t,Gs|=t,i)}function Ey(t,i,a,l,h){var d=W.p;W.p=d!==0&&8>d?d:8;var v=$.T,S={};$.T=S,md(t,!1,i,a);try{var N=h(),H=$.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=_S(N,l);Sl(t,i,X,On(t))}else Sl(t,i,l,On(t))}catch(te){Sl(t,i,{then:function(){},status:"rejected",reason:te},On())}finally{W.p=d,$.T=v}}function AS(){}function fd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Ty(t).queue;Ey(t,h,i,le,a===null?AS:function(){return Sy(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sy(t){var i=Ty(t).next.queue;Sl(t,i,{},On())}function dd(){return on(Bl)}function Ay(){return Dt().memoizedState}function by(){return Dt().memoizedState}function bS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=On();t=ks(a);var l=js(i,t,a);l!==null&&(Mn(l,i,a),gl(l,i,a)),i={cache:Hf()},t.payload=i;return}i=i.return}}function wS(t,i,a){var l=On();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?Ry(i,a):(a=Mf(t,i,a,l),a!==null&&(Mn(a,t,l),Cy(a,i,l)))}function wy(t,i,a){var l=On();Sl(t,i,a,l)}function Sl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))Ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,v))return rc(t,i,h,0),ft===null&&sc(),!1}catch{}finally{}if(a=Mf(t,i,h,l),a!==null)return Mn(a,t,l),Cy(a,i,l),!0}return!1}function md(t,i,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(i)throw Error(r(479))}else i=Mf(t,a,l,2),i!==null&&Mn(i,t,2)}function Sc(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function Ry(t,i){$a=gc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}var Ac={readContext:on,use:_c,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},Iy={readContext:on,use:_c,useCallback:function(t,i){return _n().memoizedState=[t,i===void 0?null:i],t},useContext:on,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Tc(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Tc(4194308,4,t,i)},useInsertionEffect:function(t,i){Tc(4,2,t,i)},useMemo:function(t,i){var a=_n();i=i===void 0?null:i;var l=t();if(ta){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=_n();if(a!==void 0){var h=a(i);if(ta){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wS.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var i=_n();return t={current:t},i.memoizedState=t},useState:function(t){t=ld(t);var i=t.queue,a=wy.bind(null,Pe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,i){var a=_n();return hd(a,t,i)},useTransition:function(){var t=ld(!1);return t=Ey.bind(null,Pe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Pe,h=_n();if(We){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ft===null)throw Error(r(349));($e&124)!==0||Yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Xg.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,Ec(),Wg.bind(null,l,d,a,i),null),a},useId:function(){var t=_n(),i=ft.identifierPrefix;if(We){var a=ss,l=is;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=vS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:dd,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=_n();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,Pe,!0,a),a.dispatch=i,[t,i]},useMemoCache:rd,useCacheRefresh:function(){return _n().memoizedState=bS.bind(null,Pe)}},xy={readContext:on,use:_c,useCallback:yy,useContext:on,useEffect:fy,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:vc,useRef:cy,useState:function(){return vc(os)},useDebugValue:cd,useDeferredValue:function(t,i){var a=Dt();return vy(a,ot.memoizedState,t,i)},useTransition:function(){var t=vc(os)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:Kg,useId:Ay,useHostTransitionStatus:dd,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=Dt();return ey(a,ot,t,i)},useMemoCache:rd,useCacheRefresh:by},RS={readContext:on,use:_c,useCallback:yy,useContext:on,useEffect:fy,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:od,useRef:cy,useState:function(){return od(os)},useDebugValue:cd,useDeferredValue:function(t,i){var a=Dt();return ot===null?hd(a,t,i):vy(a,ot.memoizedState,t,i)},useTransition:function(){var t=od(os)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:Kg,useId:Ay,useHostTransitionStatus:dd,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var a=Dt();return ot!==null?ey(a,ot,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:by},Ya=null,Al=0;function bc(t){var i=Al;return Al+=1,Ya===null&&(Ya=[]),Bg(Ya,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wc(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ny(t){var i=t._init;return i(t._payload)}function Dy(t){function i(j,k){if(t){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function h(j,k){return j=ns(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=67108866,k):q):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,k,q,J){return k===null||k.tag!==6?(k=Vf(q,j.mode,J),k.return=j,k):(k=h(k,q),k.return=j,k)}function N(j,k,q,J){var de=q.type;return de===B?X(j,k,q.props.children,J,q.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ny(de)===k.type)?(k=h(k,q.props),bl(k,q),k.return=j,k):(k=oc(q.type,q.key,q.props,null,j.mode,J),bl(k,q),k.return=j,k)}function H(j,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=kf(q,j.mode,J),k.return=j,k):(k=h(k,q.children||[]),k.return=j,k)}function X(j,k,q,J,de){return k===null||k.tag!==7?(k=Qr(q,j.mode,J,de),k.return=j,k):(k=h(k,q),k.return=j,k)}function te(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Vf(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return q=oc(k.type,k.key,k.props,null,j.mode,q),bl(q,k),q.return=j,q;case L:return k=kf(k,j.mode,q),k.return=j,k;case R:var J=k._init;return k=J(k._payload),te(j,k,q)}if(Ve(k)||P(k))return k=Qr(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return te(j,bc(k),q);if(k.$$typeof===se)return te(j,hc(j,k),q);wc(j,k)}return null}function G(j,k,q,J){var de=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:S(j,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===de?N(j,k,q,J):null;case L:return q.key===de?H(j,k,q,J):null;case R:return de=q._init,q=de(q._payload),G(j,k,q,J)}if(Ve(q)||P(q))return de!==null?null:X(j,k,q,J,null);if(typeof q.then=="function")return G(j,k,bc(q),J);if(q.$$typeof===se)return G(j,k,hc(j,q),J);wc(j,q)}return null}function Q(j,k,q,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(q)||null,S(k,j,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return j=j.get(J.key===null?q:J.key)||null,N(k,j,J,de);case L:return j=j.get(J.key===null?q:J.key)||null,H(k,j,J,de);case R:var ke=J._init;return J=ke(J._payload),Q(j,k,q,J,de)}if(Ve(J)||P(J))return j=j.get(q)||null,X(k,j,J,de,null);if(typeof J.then=="function")return Q(j,k,q,bc(J),de);if(J.$$typeof===se)return Q(j,k,q,hc(k,J),de);wc(k,J)}return null}function we(j,k,q,J){for(var de=null,ke=null,ge=k,Te=k=0,$t=null;ge!==null&&Te<q.length;Te++){ge.index>Te?($t=ge,ge=null):$t=ge.sibling;var Ye=G(j,ge,q[Te],J);if(Ye===null){ge===null&&(ge=$t);break}t&&ge&&Ye.alternate===null&&i(j,ge),k=d(Ye,k,Te),ke===null?de=Ye:ke.sibling=Ye,ke=Ye,ge=$t}if(Te===q.length)return a(j,ge),We&&Yr(j,Te),de;if(ge===null){for(;Te<q.length;Te++)ge=te(j,q[Te],J),ge!==null&&(k=d(ge,k,Te),ke===null?de=ge:ke.sibling=ge,ke=ge);return We&&Yr(j,Te),de}for(ge=l(ge);Te<q.length;Te++)$t=Q(ge,j,Te,q[Te],J),$t!==null&&(t&&$t.alternate!==null&&ge.delete($t.key===null?Te:$t.key),k=d($t,k,Te),ke===null?de=$t:ke.sibling=$t,ke=$t);return t&&ge.forEach(function(er){return i(j,er)}),We&&Yr(j,Te),de}function Ee(j,k,q,J){if(q==null)throw Error(r(151));for(var de=null,ke=null,ge=k,Te=k=0,$t=null,Ye=q.next();ge!==null&&!Ye.done;Te++,Ye=q.next()){ge.index>Te?($t=ge,ge=null):$t=ge.sibling;var er=G(j,ge,Ye.value,J);if(er===null){ge===null&&(ge=$t);break}t&&ge&&er.alternate===null&&i(j,ge),k=d(er,k,Te),ke===null?de=er:ke.sibling=er,ke=er,ge=$t}if(Ye.done)return a(j,ge),We&&Yr(j,Te),de;if(ge===null){for(;!Ye.done;Te++,Ye=q.next())Ye=te(j,Ye.value,J),Ye!==null&&(k=d(Ye,k,Te),ke===null?de=Ye:ke.sibling=Ye,ke=Ye);return We&&Yr(j,Te),de}for(ge=l(ge);!Ye.done;Te++,Ye=q.next())Ye=Q(ge,j,Te,Ye.value,J),Ye!==null&&(t&&Ye.alternate!==null&&ge.delete(Ye.key===null?Te:Ye.key),k=d(Ye,k,Te),ke===null?de=Ye:ke.sibling=Ye,ke=Ye);return t&&ge.forEach(function(CA){return i(j,CA)}),We&&Yr(j,Te),de}function ut(j,k,q,J){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var de=q.key;k!==null;){if(k.key===de){if(de=q.type,de===B){if(k.tag===7){a(j,k.sibling),J=h(k,q.props.children),J.return=j,j=J;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ny(de)===k.type){a(j,k.sibling),J=h(k,q.props),bl(J,q),J.return=j,j=J;break e}a(j,k);break}else i(j,k);k=k.sibling}q.type===B?(J=Qr(q.props.children,j.mode,J,q.key),J.return=j,j=J):(J=oc(q.type,q.key,q.props,null,j.mode,J),bl(J,q),J.return=j,j=J)}return v(j);case L:e:{for(de=q.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),J=h(k,q.children||[]),J.return=j,j=J;break e}else{a(j,k);break}else i(j,k);k=k.sibling}J=kf(q,j.mode,J),J.return=j,j=J}return v(j);case R:return de=q._init,q=de(q._payload),ut(j,k,q,J)}if(Ve(q))return we(j,k,q,J);if(P(q)){if(de=P(q),typeof de!="function")throw Error(r(150));return q=de.call(q),Ee(j,k,q,J)}if(typeof q.then=="function")return ut(j,k,bc(q),J);if(q.$$typeof===se)return ut(j,k,hc(j,q),J);wc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),J=h(k,q),J.return=j,j=J):(a(j,k),J=Vf(q,j.mode,J),J.return=j,j=J),v(j)):a(j,k)}return function(j,k,q,J){try{Al=0;var de=ut(j,k,q,J);return Ya=null,de}catch(ge){if(ge===ml||ge===dc)throw ge;var ke=In(29,ge,null,j.mode);return ke.lanes=J,ke.return=j,ke}finally{}}}var Wa=Dy(!0),Oy=Dy(!1),$n=ee(null),wi=null;function Us(t){var i=t.alternate;Z(Ut,Ut.current&1),Z($n,t),wi===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(wi=t)}function My(t){if(t.tag===22){if(Z(Ut,Ut.current),Z($n,t),wi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(wi=t)}}else Bs()}function Bs(){Z(Ut,Ut.current),Z($n,$n.current)}function ls(t){ae($n),wi===t&&(wi=null),ae(Ut)}var Ut=ee(0);function Rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function pd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=On(),h=ks(l);h.payload=i,a!=null&&(h.callback=a),i=js(t,h,l),i!==null&&(Mn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=On(),h=ks(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=js(t,h,l),i!==null&&(Mn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=On(),l=ks(a);l.tag=2,i!=null&&(l.callback=i),i=js(t,l,a),i!==null&&(Mn(i,t,a),gl(i,t,a))}};function Py(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(h,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gd.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ky(t){Cc(t)}function jy(t){console.error(t)}function Ly(t){Cc(t)}function Ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,i,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(t,i)},a}function By(t){return t=ks(t),t.tag=3,t}function zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function CS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&hl(i,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 13:return wi===null?zd():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$f?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(t,l,h)),!1;case 22:return a.flags|=65536,l===$f?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(t,l,h)),!1}throw Error(r(435,a.tag))}return Hd(t,l,h),zd(),!1}if(We)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(t=Error(r(422),{cause:l}),cl(qn(t,a)))):(l!==Uf&&(i=Error(r(423),{cause:l}),cl(qn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,a),h=yd(t.stateNode,l,h),Yf(t,h),At!==4&&(At=2)),!1;var d=Error(r(520),{cause:l});if(d=qn(d,a),Dl===null?Dl=[d]:Dl.push(d),At!==4&&(At=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=By(h),zy(h,t,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var qy=Error(r(461)),Ft=!1;function Xt(t,i,a,l){i.child=t===null?Oy(i,null,a,l):Wa(i,t.child,a,l)}function Hy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Jr(i),l=ed(t,i,a,v,d,h),S=td(),t!==null&&!Ft?(nd(t,i,h),us(t,i,h)):(We&&S&&jf(i),i.flags|=1,Xt(t,i,l,h),i.child)}function Fy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Gy(t,i,d,l,h)):(t=oc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===i.ref)return us(t,i,h)}return i.flags|=1,t=ns(d,l),t.ref=i.ref,t.return=i,i.child=t}function Gy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(Ft=!1,i.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(Ft=!0);else return i.lanes=t.lanes,us(t,i,h)}return _d(t,i,a,l,h)}function $y(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Qy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(i,d!==null?d.cachePool:null),d!==null?Gg(i,d):Xf(),My(i);else return i.lanes=i.childLanes=536870912,Qy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(fc(i,d.cachePool),Gg(i,d),Bs(),i.memoizedState=null):(t!==null&&fc(i,null),Xf(),Bs());return Xt(t,i,h,a),i.child}function Qy(t,i,a,l){var h=Gf();return h=h===null?null:{parent:Lt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&fc(i,null),Xf(),My(i),t!==null&&hl(t,i,l,!0),null}function xc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function _d(t,i,a,l,h){return Jr(i),a=ed(t,i,a,l,void 0,h),l=td(),t!==null&&!Ft?(nd(t,i,h),us(t,i,h)):(We&&l&&jf(i),i.flags|=1,Xt(t,i,a,h),i.child)}function Ky(t,i,a,l,h,d){return Jr(i),i.updateQueue=null,a=Qg(i,l,a,h),$g(t),l=td(),t!==null&&!Ft?(nd(t,i,d),us(t,i,d)):(We&&l&&jf(i),i.flags|=1,Xt(t,i,a,d),i.child)}function Yy(t,i,a,l,h){if(Jr(i),i.stateNode===null){var d=Ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=on(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?on(v):Ba,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gd.enqueueReplaceState(d,d.state,null),_l(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=na(a,S);d.props=N;var H=d.context,X=a.contextType;v=Ba,typeof X=="object"&&X!==null&&(v=on(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==v)&&Vy(i,d,l,v),Vs=!1;var G=i.memoizedState;d.state=G,_l(i,l,d,h),yl(),H=i.memoizedState,S||G!==H||Vs?(typeof te=="function"&&(pd(i,a,te,l),H=i.memoizedState),(N=Vs||Py(i,a,N,l,G,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kf(t,i),v=i.memoizedProps,X=na(a,v),d.props=X,te=i.pendingProps,G=d.context,H=a.contextType,N=Ba,typeof H=="object"&&H!==null&&(N=on(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||G!==N)&&Vy(i,d,l,N),Vs=!1,G=i.memoizedState,d.state=G,_l(i,l,d,h),yl();var Q=i.memoizedState;v!==te||G!==Q||Vs||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof S=="function"&&(pd(i,a,S,l),Q=i.memoizedState),(X=Vs||Py(i,a,X,l,G,Q,N)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,xc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Wa(i,t.child,null,h),i.child=Wa(i,null,a,h)):Xt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=us(t,i,h),t}function Wy(t,i,a,l){return ul(),i.flags|=256,Xt(t,i,a,l),i.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:jg()}}function Td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Qn),t}function Xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?Us(i):Bs(),We){var S=St,N;if(N=S){e:{for(N=S,S=bi;N.nodeType!==8;){if(!S){S=null;break e}if(N=ri(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(i.memoizedState={dehydrated:S,treeContext:Kr!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},N=In(18,null,null,0),N.stateNode=S,N.return=i,i.child=N,gn=i,St=null,N=!0):N=!1}N||Xr(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return sm(S)?i.lanes=32:i.lanes=536870912,null;ls(i)}return S=l.children,l=l.fallback,h?(Bs(),h=i.mode,S=Nc({mode:"hidden",children:S},h),l=Qr(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Ed(a),h.childLanes=Td(t,v,a),i.memoizedState=vd,l):(Us(i),Sd(i,S))}if(N=t.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Us(i),i.flags&=-257,i=Ad(t,i,a)):i.memoizedState!==null?(Bs(),i.child=t.child,i.flags|=128,i=null):(Bs(),h=l.fallback,S=i.mode,l=Nc({mode:"visible",children:l.children},S),h=Qr(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Wa(i,t.child,null,a),l=i.child,l.memoizedState=Ed(a),l.childLanes=Td(t,v,a),i.memoizedState=vd,i=h);else if(Us(i),sm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(r(419)),l.stack="",l.digest=v,cl({value:l,source:null,stack:null}),i=Ad(t,i,a)}else if(Ft||hl(t,i,a,!1),v=(a&t.childLanes)!==0,Ft||v){if(v=ft,v!==null&&(l=a&-a,l=(l&42)!==0?1:Cs(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ua(t,l),Mn(v,t,l),qy;S.data==="$?"||zd(),i=Ad(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,St=ri(S.nextSibling),gn=i,We=!0,Wr=null,bi=!1,t!==null&&(Fn[Gn++]=is,Fn[Gn++]=ss,Fn[Gn++]=Kr,is=t.id,ss=t.overflow,Kr=i),i=Sd(i,l.children),i.flags|=4096);return i}return h?(Bs(),h=l.fallback,S=i.mode,N=t.child,H=N.sibling,l=ns(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?h=ns(H,h):(h=Qr(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=Ed(a):(N=S.cachePool,N!==null?(H=Lt._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=jg(),S={baseLanes:S.baseLanes|a,cachePool:N}),h.memoizedState=S,h.childLanes=Td(t,v,a),i.memoizedState=vd,l):(Us(i),a=t.child,t=a.sibling,a=ns(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Sd(t,i){return i=Nc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nc(t,i){return t=In(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ad(t,i,a){return Wa(i,t.child,null,a),t=Sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),zf(t.return,i,a)}function bd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Jy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Xt(t,i,l.children,a),l=Ut.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zy(t,a,i);else if(t.tag===19)Zy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Ut,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(i,!0,a,null,d);break;case"together":bd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function us(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(hl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ns(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ns(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function IS(t,i,a){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),Ps(i,Lt,t.memoizedState.cache),ul();break;case 27:case 5:fi(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:Ps(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xy(t,i,a):(Us(i),t=us(t,i,a),t!==null?t.sibling:null);Us(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(hl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Jy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(Ut,Ut.current),l)break;return null;case 22:case 23:return i.lanes=0,$y(t,i,a);case 24:Ps(i,Lt,t.memoizedState.cache)}return us(t,i,a)}function e_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ft=!0;else{if(!wd(t,a)&&(i.flags&128)===0)return Ft=!1,IS(t,i,a);Ft=(t.flags&131072)!==0}else Ft=!1,We&&(i.flags&1048576)!==0&&Ng(i,uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Pf(l)?(t=na(l,t),i.tag=1,i=Yy(null,i,l,t,a)):(i.tag=0,i=_d(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===he){i.tag=11,i=Hy(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=Fy(null,i,l,t,a);break e}}throw i=De(l)||l,Error(r(306,i,""))}}return i;case 0:return _d(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=na(l,i.pendingProps),Yy(t,i,l,h,a);case 3:e:{if(Me(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Kf(t,i),_l(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ps(i,Lt,l),l!==d.cache&&qf(i,[Lt],a,!0),yl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Wy(t,i,l,a);break e}else if(l!==h){h=qn(Error(r(424)),i),cl(h),i=Wy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ri(t.firstChild),gn=i,We=!0,Wr=null,bi=!0,a=Oy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ul(),l===h){i=us(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return xc(t,i),t===null?(a=sv(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,l=Fc(me.current).createElement(a),l[Vt]=i,l[It]=t,Jt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=sv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fi(i),t===null&&We&&(l=i.stateNode=tv(i.type,i.pendingProps,me.current),gn=i,bi=!0,h=St,Ys(i.type)?(rm=h,St=ri(l.firstChild)):St=h),Xt(t,i,i.pendingProps.children,a),xc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=l=St)&&(l=nA(l,i.type,i.pendingProps,bi),l!==null?(i.stateNode=l,gn=i,St=ri(l.firstChild),bi=!1,h=!0):h=!1),h||Xr(i)),fi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,tm(h,d)?l=null:v!==null&&tm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ed(t,i,ES,null,null,a),Bl._currentValue=h),xc(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&We&&((t=a=St)&&(a=iA(a,i.pendingProps,bi),a!==null?(i.stateNode=a,gn=i,St=null,t=!0):t=!1),t||Xr(i)),null;case 13:return Xy(t,i,a);case 4:return Me(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Wa(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return Hy(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ps(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Jr(i),h=on(h),l=l(h),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return Fy(t,i,i.type,i.pendingProps,a);case 15:return Gy(t,i,i.type,i.pendingProps,a);case 19:return Jy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ns(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return $y(t,i,a);case 24:return Jr(i),l=on(Lt),t===null?(h=Gf(),h===null&&(h=ft,d=Hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),Ps(i,Lt,h)):((t.lanes&a)!==0&&(Kf(t,i),_l(i,null,null,a),yl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ps(i,Lt,l)):(l=d.cache,Ps(i,Lt,l),l!==h.cache&&qf(i,[Lt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function cs(t){t.flags|=4}function t_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(i)){if(i=$n.current,i!==null&&(($e&4194048)===$e?wi!==null:($e&62914560)!==$e&&($e&536870912)===0||i!==wi))throw pl=$f,Lg;t.flags|=8192}}function Dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?qo():536870912,t.lanes|=i,eo|=i)}function wl(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function xS(t,i,a){var l=i.pendingProps;switch(Lf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),as(Lt),kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ll(i)?cs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mg())),yt(i),null;case 26:return a=i.memoizedState,t===null?(cs(i),a!==null?(yt(i),t_(i,a)):(yt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(cs(i),yt(i),t_(i,a)):(yt(i),i.flags&=-16777217):(t.memoizedProps!==l&&cs(i),yt(i),i.flags&=-16777217),null;case 27:Kt(i),a=me.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return yt(i),null}t=fe.current,ll(i)?Dg(i):(t=tv(h,l,a),i.stateNode=t,cs(i))}return yt(i),null;case 5:if(Kt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return yt(i),null}if(t=fe.current,ll(i))Dg(i);else{switch(h=Fc(me.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Vt]=i,t[It]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&cs(i)}}return yt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=me.current,ll(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=gn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(t.nodeValue,a)),t||Xr(i)}else t=Fc(t).createTextNode(l),t[Vt]=i,i.stateNode=t}return yt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ll(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Vt]=i}else ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),h=!1}else h=Mg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ls(i),i):(ls(i),null)}if(ls(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),yt(i),null;case 4:return kn(),t===null&&Wd(i.stateNode.containerInfo),yt(i),null;case 10:return as(i.type),yt(i),null;case 19:if(ae(Ut),h=i.memoizedState,h===null)return yt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Rc(t),d!==null){for(i.flags|=128,wl(h,!1),t=d.updateQueue,i.updateQueue=t,Dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)xg(a,t),a=a.sibling;return Z(Ut,Ut.current&1|2),i.child}t=t.sibling}h.tail!==null&&ye()>Pc&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Rc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Dc(i,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!We)return yt(i),null}else 2*ye()-h.renderingStartTime>Pc&&a!==536870912&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ye(),i.sibling=null,t=Ut.current,Z(Ut,l?t&1|2:t&1),i):(yt(i),null);case 22:case 23:return ls(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),as(Lt),yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function NS(t,i){switch(Lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return as(Lt),kn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Kt(i),null;case 13:if(ls(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ul()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(Ut),null;case 4:return kn(),null;case 10:return as(i.type),null;case 22:case 23:return ls(i),Zf(),t!==null&&ae(ea),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return as(Lt),null;case 25:return null;default:return null}}function n_(t,i){switch(Lf(i),i.tag){case 3:as(Lt),kn();break;case 26:case 27:case 5:Kt(i);break;case 4:kn();break;case 13:ls(i);break;case 19:ae(Ut);break;case 10:as(i.type);break;case 22:case 23:ls(i),Zf(),t!==null&&ae(ea);break;case 24:as(Lt)}}function Rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){ct(i,i.return,S)}}function zs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var N=a,H=S;try{H()}catch(X){ct(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){ct(i,i.return,X)}}function i_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Fg(i,a)}catch(l){ct(t,t.return,l)}}}function s_(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ct(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ct(t,i,h)}}function Ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ct(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ct(t,i,h)}else a.current=null}function r_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ct(t,t.return,h)}}function Rd(t,i,a){try{var l=t.stateNode;XS(l,t.type,a,i),l[It]=i}catch(h){ct(t,t.return,h)}}function a_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hc));else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Id(t,i,a),t=t.sibling;t!==null;)Id(t,i,a),t=t.sibling}function Oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,i,a),t=t.sibling;t!==null;)Oc(t,i,a),t=t.sibling}function o_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Jt(i,l,a),i[Vt]=t,i[It]=a}catch(d){ct(t,t.return,d)}}var hs=!1,Rt=!1,xd=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function DS(t,i){if(t=t.containerInfo,Jd=Wc,t=vg(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,N=-1,H=0,X=0,te=t,G=null;t:for(;;){for(var Q;te!==a||h!==0&&te.nodeType!==3||(S=v+h),te!==d||l!==0&&te.nodeType!==3||(N=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Q=te.firstChild)!==null;)G=te,te=Q;for(;;){if(te===t)break t;if(G===a&&++H===h&&(S=v),G===d&&++X===l&&(N=v),(Q=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Wc=!1,Gt=i;Gt!==null;)if(i=Gt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Gt=t;else for(;Gt!==null;){switch(i=Gt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=na(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){ct(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Gt=t;break}Gt=i.return}}function u_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qs(t,a),l&4&&Rl(5,a);break;case 1:if(qs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){ct(a,a.return,v)}else{var h=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ct(a,a.return,v)}}l&64&&i_(a),l&512&&Cl(a,a.return);break;case 3:if(qs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fg(t,i)}catch(v){ct(a,a.return,v)}}break;case 27:i===null&&l&4&&o_(a);case 26:case 5:qs(t,a),i===null&&l&4&&r_(a),l&512&&Cl(a,a.return);break;case 12:qs(t,a);break;case 13:qs(t,a),l&4&&f_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BS.bind(null,a),sA(t,a))));break;case 22:if(l=a.memoizedState!==null||hs,!l){i=i!==null&&i.memoizedState!==null||Rt,h=hs;var d=Rt;hs=l,(Rt=i)&&!d?Hs(t,a,(a.subtreeFlags&8772)!==0):qs(t,a),hs=h,Rt=d}break;case 30:break;default:qs(t,a)}}function c_(t){var i=t.alternate;i!==null&&(t.alternate=null,c_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ns(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,vn=!1;function fs(t,i,a){for(a=a.child;a!==null;)h_(t,i,a),a=a.sibling}function h_(t,i,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Tt,a)}catch{}switch(a.tag){case 26:Rt||Ri(a,i),fs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ri(a,i);var l=gt,h=vn;Ys(a.type)&&(gt=a.stateNode,vn=!1),fs(t,i,a),kl(a.stateNode),gt=l,vn=h;break;case 5:Rt||Ri(a,i);case 6:if(l=gt,h=vn,gt=null,fs(t,i,a),gt=l,vn=h,gt!==null)if(vn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(d){ct(a,i,d)}else try{gt.removeChild(a.stateNode)}catch(d){ct(a,i,d)}break;case 18:gt!==null&&(vn?(t=gt,J_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fl(t)):J_(gt,a.stateNode));break;case 4:l=gt,h=vn,gt=a.stateNode.containerInfo,vn=!0,fs(t,i,a),gt=l,vn=h;break;case 0:case 11:case 14:case 15:Rt||zs(2,a,i),Rt||zs(4,a,i),fs(t,i,a);break;case 1:Rt||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&s_(a,i,l)),fs(t,i,a);break;case 21:fs(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,fs(t,i,a),Rt=l;break;default:fs(t,i,a)}}function f_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(a){ct(i,i.return,a)}}function OS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new l_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new l_),i;default:throw Error(r(435,t.tag))}}function Nd(t,i){var a=OS(t);i.forEach(function(l){var h=zS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Ys(S.type)){gt=S.stateNode,vn=!1;break e}break;case 5:gt=S.stateNode,vn=!1;break e;case 3:case 4:gt=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(gt===null)throw Error(r(160));h_(d,v,h),gt=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)d_(i,t),i=i.sibling}var si=null;function d_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(i,t),Nn(t),l&4&&(zs(3,t,t.return),Rl(3,t),zs(5,t,t.return));break;case 1:xn(i,t),Nn(t),l&512&&(Rt||a===null||Ri(a,a.return)),l&64&&hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=si;if(xn(i,t),Nn(t),l&512&&(Rt||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Dr]||d[Vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Jt(d,l,a),d[Vt]=t,bt(d),l=d;break e;case"link":var v=ov("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=ov("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Vt]=t,bt(d),l=d}t.stateNode=l}else lv(h,t.type,t.stateNode);else t.stateNode=av(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?lv(h,t.type,t.stateNode):av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(i,t),Nn(t),l&512&&(Rt||a===null||Ri(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(i,t),Nn(t),l&512&&(Rt||a===null||Ri(a,a.return)),t.flags&32){h=t.stateNode;try{Ln(h,"")}catch(Q){ct(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(xn(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){ct(t,t.return,Q)}}break;case 3:if(Qc=null,h=si,si=Gc(i.containerInfo),xn(i,t),si=h,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(i.containerInfo)}catch(Q){ct(t,t.return,Q)}xd&&(xd=!1,m_(t));break;case 4:l=si,si=Gc(t.stateNode.containerInfo),xn(i,t),Nn(t),si=l;break;case 12:xn(i,t),Nn(t);break;case 13:xn(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=ye()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=hs,X=Rt;if(hs=H||h,Rt=X||N,xn(i,t),Rt=X,hs=H,Nn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||hs||Rt||ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){ct(N,N.return,Q)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(Q){ct(N,N.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nd(t,a))));break;case 19:xn(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 30:break;case 21:break;default:xn(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(a_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Cd(t);Oc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Ln(v,""),a.flags&=-33);var S=Cd(t);Oc(t,S,v);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Cd(t);Id(t,H,N);break;default:throw Error(r(161))}}catch(X){ct(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function m_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;m_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)u_(t,i.alternate,i),i=i.sibling}function ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zs(4,i,i.return),ia(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&s_(i,i.return,a),ia(i);break;case 27:kl(i.stateNode);case 26:case 5:Ri(i,i.return),ia(i);break;case 22:i.memoizedState===null&&ia(i);break;case 30:ia(i);break;default:ia(i)}t=t.sibling}}function Hs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Hs(h,d,a),Rl(4,d);break;case 1:if(Hs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ct(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Hg(N[h],S)}catch(H){ct(l,l.return,H)}}a&&v&64&&i_(d),Cl(d,d.return);break;case 27:o_(d);case 26:case 5:Hs(h,d,a),a&&l===null&&v&4&&r_(d),Cl(d,d.return);break;case 12:Hs(h,d,a);break;case 13:Hs(h,d,a),a&&v&4&&f_(h,d);break;case 22:d.memoizedState===null&&Hs(h,d,a),Cl(d,d.return);break;case 30:break;default:Hs(h,d,a)}i=i.sibling}}function Dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function Ci(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p_(t,i,a,l),i=i.sibling}function p_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ci(t,i,a,l),h&2048&&Rl(9,i);break;case 1:Ci(t,i,a,l);break;case 3:Ci(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(h&2048){Ci(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ct(i,i.return,N)}}else Ci(t,i,a,l);break;case 13:Ci(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ci(t,i,a,l):Il(t,i):d._visibility&2?Ci(t,i,a,l):(d._visibility|=2,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Dd(v,i);break;case 24:Ci(t,i,a,l),h&2048&&Od(i.alternate,i);break;default:Ci(t,i,a,l)}}function Xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,S=a,N=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(d,v,S,N,h),Rl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Xa(d,v,S,N,h):Il(d,v):(X._visibility|=2,Xa(d,v,S,N,h)),h&&H&2048&&Dd(v.alternate,v);break;case 24:Xa(d,v,S,N,h),h&&H&2048&&Od(v.alternate,v);break;default:Xa(d,v,S,N,h)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&Dd(l.alternate,l);break;case 24:Il(a,l),h&2048&&Od(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var xl=8192;function Za(t){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)g_(t),t=t.sibling}function g_(t){switch(t.tag){case 26:Za(t),t.flags&xl&&t.memoizedState!==null&&yA(si,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var i=si;si=Gc(t.stateNode.containerInfo),Za(t),si=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=xl,xl=16777216,Za(t),xl=i):Za(t));break;default:Za(t)}}function y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,v_(l,t)}y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&zs(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mc(t)):Nl(t);break;default:Nl(t)}}function Mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,v_(l,t)}y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zs(8,i,i.return),Mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(i));break;default:Mc(i)}t=t.sibling}}function v_(t,i){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:zs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var h=l.sibling,d=l.return;if(c_(l),l===a){Gt=null;break e}if(h!==null){h.return=d,Gt=h;break e}Gt=d}}}var MS={getCacheForType:function(t){var i=on(Lt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},PS=typeof WeakMap=="function"?WeakMap:Map,st=0,ft=null,Le=null,$e=0,rt=0,Dn=null,Fs=!1,Ja=!1,Md=!1,ds=0,At=0,Gs=0,sa=0,Pd=0,Qn=0,eo=0,Dl=null,En=null,Vd=!1,kd=0,Pc=1/0,Vc=null,$s=null,Zt=0,Qs=null,to=null,no=0,jd=0,Ld=null,E_=null,Ol=0,Ud=null;function On(){if((st&2)!==0&&$e!==0)return $e&-$e;if($.T!==null){var t=Ha;return t!==0?t:$d()}return Is()}function T_(){Qn===0&&(Qn=($e&536870912)===0||We?zo():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Qn}function Mn(t,i,a){(t===ft&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(io(t,0),Ks(t,$e,Qn,!1)),Gi(t,a),((st&2)===0||t!==ft)&&(t===ft&&((st&2)===0&&(sa|=a),At===4&&Ks(t,$e,Qn,!1)),Ii(t))}function S_(t,i,a){if((st&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Nr(t,i),h=l?jS(t,i):qd(t,i,!0),d=l;do{if(h===0){Ja&&!l&&Ks(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!VS(a)){h=qd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=Dl;var N=S.current.memoizedState.isDehydrated;if(N&&(io(S,v).flags|=256),v=qd(S,v,!1),v!==2){if(Md&&!N){S.errorRecoveryDisabledLanes|=d,sa|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){io(t,0),Ks(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ks(l,i,Qn,!Fs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=kd+300-ye(),10<h)){if(Ks(l,i,Qn,!Fs),Ea(l,0,!0)!==0)break e;l.timeoutHandle=X_(A_.bind(null,l,a,En,Vc,Vd,i,Qn,sa,eo,Fs,d,2,-0,0),h);break e}A_(l,a,En,Vc,Vd,i,Qn,sa,eo,Fs,d,0,-0,0)}}break}while(!0);Ii(t)}function A_(t,i,a,l,h,d,v,S,N,H,X,te,G,Q){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:gA},g_(i),te=_A(),te!==null)){t.cancelPendingCommit=te(N_.bind(null,t,i,d,a,l,h,v,S,N,X,1,G,Q)),Ks(t,d,v,!H);return}N_(t,i,d,a,l,h,v,S,N)}function VS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ks(t,i,a,l){i&=~Pd,i&=~sa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-an(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&di(t,a,i)}function kc(){return(st&6)===0?(Ml(0),!1):!0}function Bd(){if(Le!==null){if(rt===0)var t=Le.return;else t=Le,rs=Zr=null,id(t),Ya=null,Al=0,t=Le;for(;t!==null;)n_(t.alternate,t),t=t.return;Le=null}}function io(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bd(),ft=t,Le=a=ns(t.current,null),$e=i,rt=0,Dn=null,Fs=!1,Ja=Nr(t,i),Md=!1,eo=Qn=Pd=sa=Gs=At=0,En=Dl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=t[h],l&=~d}return ds=i,sc(),a}function b_(t,i){Pe=null,$.H=Ac,i===ml||i===dc?(i=zg(),rt=3):i===Lg?(i=zg(),rt=4):rt=i===qy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Le===null&&(At=1,Ic(t,qn(i,t.current)))}function w_(){var t=$.H;return $.H=Ac,t===null?Ac:t}function R_(){var t=$.A;return $.A=MS,t}function zd(){At=4,Fs||($e&4194048)!==$e&&$n.current!==null||(Ja=!0),(Gs&134217727)===0&&(sa&134217727)===0||ft===null||Ks(ft,$e,Qn,!1)}function qd(t,i,a){var l=st;st|=2;var h=w_(),d=R_();(ft!==t||$e!==i)&&(Vc=null,io(t,i)),i=!1;var v=At;e:do try{if(rt!==0&&Le!==null){var S=Le,N=Dn;switch(rt){case 8:Bd(),v=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var H=rt;if(rt=0,Dn=null,so(t,S,N,H),a&&Ja){v=0;break e}break;default:H=rt,rt=0,Dn=null,so(t,S,N,H)}}kS(),v=At;break}catch(X){b_(t,X)}while(!0);return i&&t.shellSuspendCounter++,rs=Zr=null,st=l,$.H=h,$.A=d,Le===null&&(ft=null,$e=0,sc()),v}function kS(){for(;Le!==null;)C_(Le)}function jS(t,i){var a=st;st|=2;var l=w_(),h=R_();ft!==t||$e!==i?(Vc=null,Pc=ye()+500,io(t,i)):Ja=Nr(t,i);e:do try{if(rt!==0&&Le!==null){i=Le;var d=Dn;t:switch(rt){case 1:rt=0,Dn=null,so(t,i,d,1);break;case 2:case 9:if(Ug(d)){rt=0,Dn=null,I_(i);break}i=function(){rt!==2&&rt!==9||ft!==t||(rt=7),Ii(t)},d.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ug(d)?(rt=0,Dn=null,I_(i)):(rt=0,Dn=null,so(t,i,d,7));break;case 5:var v=null;switch(Le.tag){case 26:v=Le.memoizedState;case 5:case 27:var S=Le;if(!v||uv(v)){rt=0,Dn=null;var N=S.sibling;if(N!==null)Le=N;else{var H=S.return;H!==null?(Le=H,jc(H)):Le=null}break t}}rt=0,Dn=null,so(t,i,d,5);break;case 6:rt=0,Dn=null,so(t,i,d,6);break;case 8:Bd(),At=6;break e;default:throw Error(r(462))}}LS();break}catch(X){b_(t,X)}while(!0);return rs=Zr=null,$.H=l,$.A=h,st=a,Le!==null?0:(ft=null,$e=0,sc(),At)}function LS(){for(;Le!==null&&!nt();)C_(Le)}function C_(t){var i=e_(t.alternate,t,ds);t.memoizedProps=t.pendingProps,i===null?jc(t):Le=i}function I_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ky(a,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=Ky(a,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:id(i);default:n_(a,i),i=Le=xg(i,ds),i=e_(a,i,ds)}t.memoizedProps=t.pendingProps,i===null?jc(t):Le=i}function so(t,i,a,l){rs=Zr=null,id(i),Ya=null,Al=0;var h=i.return;try{if(CS(t,h,i,a,$e)){At=1,Ic(t,qn(a,t.current)),Le=null;return}}catch(d){if(h!==null)throw Le=h,d;At=1,Ic(t,qn(a,t.current)),Le=null;return}i.flags&32768?(We||l===1?t=!0:Ja||($e&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),x_(i,t)):jc(i)}function jc(t){var i=t;do{if((i.flags&32768)!==0){x_(i,Fs);return}t=i.return;var a=xS(i.alternate,i,ds);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);At===0&&(At=5)}function x_(t,i){do{var a=NS(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);At=6,Le=null}function N_(t,i,a,l,h,d,v,S,N){t.cancelPendingCommit=null;do Lc();while(Zt!==0);if((st&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Of,Ho(t,a,d,v,S,N),t===ft&&(Le=ft=null,$e=0),to=i,Qs=t,no=a,jd=d,Ld=h,E_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qS(Rr,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=W.p,W.p=2,v=st,st|=4;try{DS(t,i,a)}finally{st=v,W.p=h,$.T=l}}Zt=1,D_(),O_(),M_()}}function D_(){if(Zt===1){Zt=0;var t=Qs,i=to,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=W.p;W.p=2;var h=st;st|=4;try{d_(i,t);var d=em,v=vg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&_g(S.ownerDocument.documentElement,S)){if(N!==null&&Cf(S)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var te=S.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Q=G.getSelection(),we=S.textContent.length,Ee=Math.min(N.start,we),ut=N.end===void 0?Ee:Math.min(N.end,we);!Q.extend&&Ee>ut&&(v=ut,ut=Ee,Ee=v);var j=yg(S,Ee),k=yg(S,ut);if(j&&k&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var q=te.createRange();q.setStart(j.node,j.offset),Q.removeAllRanges(),Ee>ut?(Q.addRange(q),Q.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Q.addRange(q))}}}}for(te=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Wc=!!Jd,em=Jd=null}finally{st=h,W.p=l,$.T=a}}t.current=i,Zt=2}}function O_(){if(Zt===2){Zt=0;var t=Qs,i=to,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=W.p;W.p=2;var h=st;st|=4;try{u_(t,i.alternate,i)}finally{st=h,W.p=l,$.T=a}}Zt=3}}function M_(){if(Zt===4||Zt===3){Zt=0,ve();var t=Qs,i=to,a=no,l=E_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zt=5:(Zt=0,to=Qs=null,P_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),Ta(a),i=i.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Tt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=W.p,W.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{$.T=i,W.p=h}}(no&3)!==0&&Lc(),Ii(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ud?Ol++:(Ol=0,Ud=t):Ol=0,Ml(0)}}function P_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Lc(t){return D_(),O_(),M_(),V_()}function V_(){if(Zt!==5)return!1;var t=Qs,i=jd;jd=0;var a=Ta(no),l=$.T,h=W.p;try{W.p=32>a?32:a,$.T=null,a=Ld,Ld=null;var d=Qs,v=no;if(Zt=0,to=Qs=null,no=0,(st&6)!==0)throw Error(r(331));var S=st;if(st|=4,__(d.current),p_(d,d.current,v,a),st=S,Ml(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Tt,d)}catch{}return!0}finally{W.p=h,$.T=l,P_(t,i)}}function k_(t,i,a){i=qn(a,i),i=yd(t.stateNode,i,2),t=js(t,i,2),t!==null&&(Gi(t,2),Ii(t))}function ct(t,i,a){if(t.tag===3)k_(t,t,a);else for(;i!==null;){if(i.tag===3){k_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){t=qn(a,t),a=By(2),l=js(i,a,2),l!==null&&(zy(a,l,i,t),Gi(l,2),Ii(l));break}}i=i.return}}function Hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new PS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Md=!0,h.add(a),t=US.bind(null,t,i,a),i.then(t,t))}function US(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&($e&a)===a&&(At===4||At===3&&($e&62914560)===$e&&300>ye()-kd?(st&2)===0&&io(t,0):Pd|=a,eo===$e&&(eo=0)),Ii(t)}function j_(t,i){i===0&&(i=qo()),t=Ua(t,i),t!==null&&(Gi(t,i),Ii(t))}function BS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),j_(t,a)}function zS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),j_(t,a)}function qS(t,i){return Hi(t,i)}var Uc=null,ro=null,Fd=!1,Bc=!1,Gd=!1,ra=0;function Ii(t){t!==ro&&t.next===null&&(ro===null?Uc=ro=t:ro=ro.next=t),Bc=!0,Fd||(Fd=!0,FS())}function Ml(t,i){if(!Gd&&Bc){Gd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=$e,d=Ea(l,l===ft?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Nr(l,d)||(a=!0,z_(l,d));l=l.next}while(a);Gd=!1}}function HS(){L_()}function L_(){Bc=Fd=!1;var t=0;ra!==0&&(ZS()&&(t=ra),ra=0);for(var i=ye(),a=null,l=Uc;l!==null;){var h=l.next,d=U_(l,i);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(ro=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=h}Ml(t)}function U_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-an(d),S=1<<v,N=h[v];N===-1?((S&a)===0||(S&l)!==0)&&(h[v]=Bo(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=ft,a=$e,a=Ea(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ie(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Nr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ie(l),Ta(a)){case 2:case 8:a=_a;break;case 32:a=Rr;break;case 268435456:a=va;break;default:a=Rr}return l=B_.bind(null,t),a=Hi(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ie(l),t.callbackPriority=2,t.callbackNode=null,2}function B_(t,i){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=$e;return l=Ea(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S_(t,l,i),U_(t,ye()),t.callbackNode!=null&&t.callbackNode===a?B_.bind(null,t):null)}function z_(t,i){if(Lc())return null;S_(t,i,!0)}function FS(){eA(function(){(st&6)!==0?Hi(Lo,HS):L_()})}function $d(){return ra===0&&(ra=zo()),ra}function q_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function H_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function GS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=q_((h[It]||null).action),v=l.submitter;v&&(i=(i=v[It]||null)?q_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Ia("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var N=v?H_(h,v):new FormData(h);fd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=v?H_(h,v):new FormData(h),fd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Qd=0;Qd<Df.length;Qd++){var Kd=Df[Qd],$S=Kd.toLowerCase(),QS=Kd[0].toUpperCase()+Kd.slice(1);ii($S,"on"+QS)}ii(Sg,"onAnimationEnd"),ii(Ag,"onAnimationIteration"),ii(bg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(cS,"onTransitionRun"),ii(hS,"onTransitionStart"),ii(fS,"onTransitionCancel"),ii(wg,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function F_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){Cc(X)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(S=l[v],N=S.instance,H=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){Cc(X)}h.currentTarget=null,d=N}}}}function Ue(t,i){var a=i[Go];a===void 0&&(a=i[Go]=new Set);var l=t+"__bubble";a.has(l)||(G_(i,t,2,!1),a.add(l))}function Yd(t,i,a){var l=0;i&&(l|=4),G_(a,t,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[zc]){t[zc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(KS.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zc]||(i[zc]=!0,Yd("selectionchange",!1,i))}}function G_(t,i,a,l){switch(pv(i)){case 2:var h=TA;break;case 8:h=SA;break;default:h=cm}a=h.bind(null,i,a,t),h=void 0,!Bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=$i(S),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Hu(function(){var H=d,X=Un(a),te=[];e:{var G=Rg.get(t);if(G!==void 0){var Q=Ia,we=t;switch(t){case"keypress":if(vi(a)===0)break e;case"keydown":case"keyup":Q=Pa;break;case"focusin":we="focus",Q=Da;break;case"focusout":we="blur",Q=Da;break;case"beforeblur":case"afterblur":Q=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Xu;break;case Sg:case Ag:case bg:Q=Oa;break;case wg:Q=Ju;break;case"scroll":case"scrollend":Q=Fu;break;case"wheel":Q=Va;break;case"copy":case"cut":case"paste":Q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=sl;break;case"toggle":case"beforetoggle":Q=tc}var Ee=(i&4)!==0,ut=!Ee&&(t==="scroll"||t==="scrollend"),j=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var k=H,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||j===null||(J=Lr(k,j),J!=null&&Ee.push(Vl(k,J,q))),ut)break;k=k.return}0<Ee.length&&(G=new Q(G,we,null,a,X),te.push({event:G,listeners:Ee}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Wi&&(we=a.relatedTarget||a.fromElement)&&($i(we)||we[jn]))break e;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(we=a.relatedTarget||a.toElement,Q=H,we=we?$i(we):null,we!==null&&(ut=u(we),Ee=we.tag,we!==ut||Ee!==5&&Ee!==27&&Ee!==6)&&(we=null)):(Q=null,we=H),Q!==we)){if(Ee=zn,J="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=sl,J="onPointerLeave",j="onPointerEnter",k="pointer"),ut=Q==null?G:pi(Q),q=we==null?G:pi(we),G=new Ee(J,k+"leave",Q,a,X),G.target=ut,G.relatedTarget=q,J=null,$i(X)===H&&(Ee=new Ee(j,k+"enter",we,a,X),Ee.target=q,Ee.relatedTarget=ut,J=Ee),ut=J,Q&&we)t:{for(Ee=Q,j=we,k=0,q=Ee;q;q=ao(q))k++;for(q=0,J=j;J;J=ao(J))q++;for(;0<k-q;)Ee=ao(Ee),k--;for(;0<q-k;)j=ao(j),q--;for(;k--;){if(Ee===j||j!==null&&Ee===j.alternate)break t;Ee=ao(Ee),j=ao(j)}Ee=null}else Ee=null;Q!==null&&$_(te,G,Q,Ee,!1),we!==null&&ut!==null&&$_(te,ut,we,Ee,!0)}}e:{if(G=H?pi(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var de=hg;else if(jt(G))if(fg)de=oS;else{de=rS;var ke=sS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Xo(H.elementType)&&(de=hg):de=aS;if(de&&(de=de(t,H))){ts(te,de,a,X);break e}ke&&ke(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Os(G,"number",G.value)}switch(ke=H?pi(H):window,t){case"focusin":(jt(ke)||ke.contentEditable==="true")&&(ka=ke,If=H,ol=null);break;case"focusout":ol=If=ka=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Eg(te,a,X);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":Eg(te,a,X)}var ge;if(Si)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Fe?Y(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(Fe||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Fe&&(ge=Jo()):(_i=X,Ms="value"in _i?_i.value:_i.textContent,Fe=!0)),ke=qc(H,Te),0<ke.length&&(Te=new nl(Te,t,null,a,X),te.push({event:Te,listeners:ke}),ge?Te.data=ge:(ge=oe(a),ge!==null&&(Te.data=ge)))),(ge=y?kt(t,a):Ge(t,a))&&(Te=qc(H,"onBeforeInput"),0<Te.length&&(ke=new nl("onBeforeInput","beforeinput",null,a,X),te.push({event:ke,listeners:Te}),ke.data=ge)),GS(te,t,H,a,X)}F_(te,i)})}function Vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Lr(t,a),h!=null&&l.unshift(Vl(t,h,d)),h=Lr(t,i),h!=null&&l.push(Vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||H===null||(N=H,h?(H=Lr(a,d),H!=null&&v.unshift(Vl(a,H,N))):h||(H=Lr(a,d),H!=null&&v.push(Vl(a,H,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var YS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(YS,`
`).replace(WS,"")}function K_(t,i){return i=Q_(i),Q_(t)===i}function Hc(){}function lt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ln(t,""+l);break;case"className":gi(t,"class",l);break;case"tabIndex":gi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(t,a,l);break;case"style":Wo(t,l,d);break;case"data":if(i!=="object"){gi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&lt(t,i,"name",h.name,h,null),lt(t,i,"formEncType",h.formEncType,h,null),lt(t,i,"formMethod",h.formMethod,h,null),lt(t,i,"formTarget",h.formTarget,h,null)):(lt(t,i,"encType",h.encType,h,null),lt(t,i,"method",h.method,h,null),lt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ds(t,"popover",l);break;case"xlinkActuate":Yt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tf.get(a)||a,Ds(t,a,l))}}function Zd(t,i,a,l,h,d){switch(a){case"style":Wo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&Ln(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[It]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ds(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,d,v,a,null)}}h&&lt(t,i,"srcSet",a.srcSet,a,null),l&&lt(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var S=d=v=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:lt(t,i,l,X,a,null)}}Vr(t,d,S,N,H,v,h,!1),Ra(t);return;case"select":Ue("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:lt(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Yi(t,!!l,i,!1):a!=null&&Yi(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:lt(t,i,v,S,a,null)}kr(t,l,h,d),Ra(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(t,i,N,l,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ue(Pl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,H,l,a,null)}return;default:if(Xo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Zd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&lt(t,i,S,l,a,null))}function XS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,N=null,H=null,X=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Q)||lt(t,i,Q,null,l,te)}}for(var G in l){var Q=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Q!=null||te!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==te&&lt(t,i,G,Q,l,te)}}Rn(t,v,S,N,H,X,d,h);return;case"select":Q=v=S=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||lt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==N&&lt(t,i,h,d,l,N)}i=S,a=v,l=Q,G!=null?Yi(t,!!a,G,!1):!!l!=!!a&&(i!=null?Yi(t,!!a,i,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:lt(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&lt(t,i,v,h,l,d)}at(t,G,Q);return;case"option":for(var we in a)if(G=a[we],a.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:lt(t,i,we,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:lt(t,i,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&lt(t,i,Ee,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:lt(t,i,H,G,l,Q)}return;default:if(Xo(i)){for(var ut in a)G=a[ut],a.hasOwnProperty(ut)&&G!==void 0&&!l.hasOwnProperty(ut)&&Zd(t,i,ut,void 0,l,G);for(X in l)G=l[X],Q=a[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||Zd(t,i,X,G,l,Q);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&lt(t,i,j,null,l,G);for(te in l)G=l[te],Q=a[te],!l.hasOwnProperty(te)||G===Q||G==null&&Q==null||lt(t,i,te,G,l,Q)}var Jd=null,em=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function ZS(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(tA)}:X_;function tA(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function J_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&kl(v.documentElement),a&2&&kl(v.body),a&4)for(a=v.head,kl(a),v=a.firstChild;v;){var S=v.nextSibling,N=v.nodeName;v[Dr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(h===0){t.removeChild(d),Fl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Fl(i)}function im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function nA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Dr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ri(t.nextSibling),t===null)break}return null}function iA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ri(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ri(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var rm=null;function ev(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function tv(t,i,a){switch(i=Fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ns(t)}var Kn=new Map,nv=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=W.d;W.d={f:rA,r:aA,D:oA,C:lA,L:uA,m:cA,X:fA,S:hA,M:dA};function rA(){var t=ms.f(),i=kc();return t||i}function aA(t){var i=mi(t);i!==null&&i.tag===5&&i.type==="form"?Sy(i):ms.r(t)}var oo=typeof document>"u"?null:document;function iv(t,i,a){var l=oo;if(l&&typeof i=="string"&&i){var h=xt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),nv.has(h)||(nv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Jt(i,"link",t),bt(i),l.head.appendChild(i)))}}function oA(t){ms.D(t),iv("dns-prefetch",t,null)}function lA(t,i){ms.C(t,i),iv("preconnect",t,i)}function uA(t,i,a){ms.L(t,i,a);var l=oo;if(l&&t&&i){var h='link[rel="preload"][as="'+xt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+xt(a.imageSizes)+'"]')):h+='[href="'+xt(t)+'"]';var d=h;switch(i){case"style":d=lo(t);break;case"script":d=uo(t)}Kn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(Ll(d))||(i=l.createElement("link"),Jt(i,"link",t),bt(i),l.head.appendChild(i)))}}function cA(t,i){ms.m(t,i);var a=oo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(t)}if(!Kn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(d)))return}l=a.createElement("link"),Jt(l,"link",t),bt(l),a.head.appendChild(l)}}}function hA(t,i,a){ms.S(t,i,a);var l=oo;if(l&&t){var h=dn(l).hoistableStyles,d=lo(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(jl(d)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kn.get(d))&&am(t,a);var N=v=l.createElement("link");bt(N),Jt(N,"link",t),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,$c(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function fA(t,i){ms.X(t,i);var a=oo;if(a&&t){var l=dn(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(t=E({src:t,async:!0},i),(i=Kn.get(h))&&om(t,i),d=a.createElement("script"),bt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dA(t,i){ms.M(t,i);var a=oo;if(a&&t){var l=dn(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Kn.get(h))&&om(t,i),d=a.createElement("script"),bt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sv(t,i,a,l){var h=(h=me.current)?Gc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=dn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=dn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),d||mA(h,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(a),a=dn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function lo(t){return'href="'+xt(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function mA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),bt(i),t.head.appendChild(i))}function uo(t){return'[src="'+xt(t)+'"]'}function Ll(t){return"script[async]"+t}function av(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Jt(l,"style",h),$c(l,a.precedence,t),i.instance=l;case"stylesheet":h=lo(a.href);var d=t.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=rv(a),(h=Kn.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),Jt(d,"link",l),i.state.loading|=4,$c(d,a.precedence,t),i.instance=d;case"script":return d=uo(a.src),(h=t.querySelector(Ll(d)))?(i.instance=h,bt(h),h):(l=a,(h=Kn.get(d))&&(l=E({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,t));return i.instance}function $c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qc=null;function ov(t,i,a){if(Qc===null){var l=new Map,h=Qc=new Map;h.set(a,l)}else h=Qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Dr]||d[Vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function lv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function pA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function gA(){}function yA(t,i,a){if(Ul===null)throw Error(r(475));var l=Ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=lo(a.href),d=t.querySelector(jl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Kc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,bt(d);return}d=t.ownerDocument||t,a=rv(a),(h=Kn.get(h))&&am(a,h),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),Jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Kc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function _A(){if(Ul===null)throw Error(r(475));var t=Ul;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function lm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,i.forEach(vA,t),Yc=null,Kc.call(t))}function vA(t,i){if(!(i.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Bl={$$typeof:se,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function EA(t,i,a,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function cv(t,i,a,l,h,d,v,S,N,H,X,te){return t=new EA(t,i,a,v,S,N,H,te),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=Hf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),t}function hv(t){return t?(t=Ba,t):Ba}function fv(t,i,a,l,h,d){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=ks(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=js(t,l,i),a!==null&&(Mn(a,t,i),gl(a,t,i))}function dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){dv(t,i),(t=t.alternate)&&dv(t,i)}function mv(t){if(t.tag===13){var i=Ua(t,67108864);i!==null&&Mn(i,t,67108864),um(t,67108864)}}var Wc=!0;function TA(t,i,a,l){var h=$.T;$.T=null;var d=W.p;try{W.p=2,cm(t,i,a,l)}finally{W.p=d,$.T=h}}function SA(t,i,a,l){var h=$.T;$.T=null;var d=W.p;try{W.p=8,cm(t,i,a,l)}finally{W.p=d,$.T=h}}function cm(t,i,a,l){if(Wc){var h=hm(l);if(h===null)Xd(t,i,l,Xc,a),gv(t,l);else if(bA(h,t,i,a,l))l.stopPropagation();else if(gv(t,l),i&4&&-1<AA.indexOf(t)){for(;h!==null;){var d=mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ei(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var N=1<<31-an(v);S.entanglements[1]|=N,v&=~N}Ii(d),(st&6)===0&&(Pc=ye()+500,Ml(0))}}break;case 13:S=Ua(d,2),S!==null&&Mn(S,d,2),kc(),um(d,2)}if(d=hm(l),d===null&&Xd(t,i,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function hm(t){return t=Un(t),fm(t)}var Xc=null;function fm(t){if(Xc=null,t=$i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case Lo:return 2;case _a:return 8;case Rr:case gf:return 32;case va:return 268435456;default:return 32}default:return 32}}var dm=!1,Ws=null,Xs=null,Zs=null,zl=new Map,ql=new Map,Js=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,i){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Hl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=mi(i),i!==null&&mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function bA(t,i,a,l,h){switch(i){case"focusin":return Ws=Hl(Ws,t,i,a,l,h),!0;case"dragenter":return Xs=Hl(Xs,t,i,a,l,h),!0;case"mouseover":return Zs=Hl(Zs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,Hl(zl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,Hl(ql.get(d)||null,t,i,a,l,h)),!0}return!1}function yv(t){var i=$i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ku(t.priority,function(){if(a.tag===13){var l=On();l=Cs(l);var h=Ua(a,l);h!==null&&Mn(h,a,l),um(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wi=l,a.target.dispatchEvent(l),Wi=null}else return i=mi(a),i!==null&&mv(i),t.blockedOn=a,!1;i.shift()}return!0}function _v(t,i,a){Zc(t)&&a.delete(i)}function wA(){dm=!1,Ws!==null&&Zc(Ws)&&(Ws=null),Xs!==null&&Zc(Xs)&&(Xs=null),Zs!==null&&Zc(Zs)&&(Zs=null),zl.forEach(_v),ql.forEach(_v)}function Jc(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wA)))}var eh=null;function vv(t){eh!==t&&(eh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=mi(a);d!==null&&(t.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Fl(t){function i(N){return Jc(N,t)}Ws!==null&&Jc(Ws,t),Xs!==null&&Jc(Xs,t),Zs!==null&&Jc(Zs,t),zl.forEach(i),ql.forEach(i);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)yv(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[It]||null;if(typeof d=="function")v||vv(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[It]||null)S=v.formAction;else if(fm(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),vv(a)}}}function mm(t){this._internalRoot=t}th.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=On();fv(a,l,t,i,null,null)},th.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fv(t.current,2,null,t,null,null),kc(),i[jn]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=Is();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Js.length&&i!==0&&i<Js[a].priority;a++);Js.splice(a,0,t),a===0&&yv(t)}};var Ev=e.version;if(Ev!=="19.1.0")throw Error(r(527,Ev,"19.1.0"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var RA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Tt=nh.inject(RA),it=nh}catch{}}return $l.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=ky,d=jy,v=Ly,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=cv(t,1,!1,null,null,a,l,h,d,v,S,null),t[jn]=i.current,Wd(t),new mm(i)},$l.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=ky,v=jy,S=Ly,N=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=cv(t,1,!0,i,a??null,l,h,d,v,S,N,H),i.context=hv(null),a=i.current,l=On(),l=Cs(l),h=ks(l),h.callback=null,js(a,h,l),a=l,i.current.lanes=a,Gi(i,a),Ii(i),t[jn]=i.current,Wd(t),new th(i)},$l.version="19.1.0",$l}var Nv;function kA(){if(Nv)return ym.exports;Nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ym.exports=VA(),ym.exports}var jA=kA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dv="popstate";function LA(s={}){function e(o,u){let{pathname:f="/",search:p="",hash:g=""}=pa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Bm("",{pathname:f,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,m=g.indexOf("#");p=m===-1?g:g.slice(0,m)}return p+"#"+(typeof u=="string"?u:lu(u))}function r(o,u){ci(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return BA(e,n,r,s)}function vt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ci(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UA(){return Math.random().toString(36).substring(2,10)}function Ov(s,e){return{usr:s.state,key:s.key,idx:e}}function Bm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:n,key:e&&e.key||r||UA()}}function lu({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function pa(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function BA(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,p="POP",g=null,m=E();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function E(){return(f.state||{idx:null}).idx}function w(){p="POP";let U=E(),K=U==null?null:U-m;m=U,g&&g({action:p,location:F.location,delta:K})}function b(U,K){p="PUSH";let ie=Bm(F.location,U,K);n&&n(ie,U),m=E()+1;let se=Ov(ie,m),he=F.createHref(ie);try{f.pushState(se,"",he)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(he)}u&&g&&g({action:p,location:F.location,delta:1})}function L(U,K){p="REPLACE";let ie=Bm(F.location,U,K);n&&n(ie,U),m=E();let se=Ov(ie,m),he=F.createHref(ie);f.replaceState(se,"",he),u&&g&&g({action:p,location:F.location,delta:0})}function B(U){return zA(U)}let F={get action(){return p},get location(){return s(o,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,w),g=U,()=>{o.removeEventListener(Dv,w),g=null}},createHref(U){return e(o,U)},createURL:B,encodeLocation(U){let K=B(U);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:L,go(U){return f.go(U)}};return F}function zA(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:lu(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function m0(s,e,n="/"){return qA(s,e,n,!1)}function qA(s,e,n,r){let o=typeof e=="string"?pa(e):e,u=Ss(o.pathname||"/",n);if(u==null)return null;let f=p0(s);HA(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let m=eb(u);p=ZA(f[g],m,r)}return p}function p0(s,e=[],n=[],r=""){let o=(u,f,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(vt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let m=_s([r,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),p0(u.children,e,E,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:WA(m,u.index),routesMeta:E})};return s.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let p of g0(u.path))o(u,f,p)}),e}function g0(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=g0(r.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function HA(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:XA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FA=/^:[\w-]+$/,GA=3,$A=2,QA=1,KA=10,YA=-2,Mv=s=>s==="*";function WA(s,e){let n=s.split("/"),r=n.length;return n.some(Mv)&&(r+=YA),e&&(r+=$A),n.filter(o=>!Mv(o)).reduce((o,u)=>o+(FA.test(u)?GA:u===""?QA:KA),r)}function XA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function ZA(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",f=[];for(let p=0;p<r.length;++p){let g=r[p],m=p===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},E),b=g.route;if(!w&&m&&n&&!r[r.length-1].route.index&&(w=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:_s([u,w.pathname]),pathnameBase:sb(_s([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=_s([u,w.pathnameBase]))}return f}function Ah(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=JA(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:E,isOptional:w},b)=>{if(E==="*"){let B=p[b]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const L=p[b];return w&&!L?m[E]=void 0:m[E]=(L||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:s}}function JA(s,e=!1,n=!0){ci(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function eb(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ss(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function tb(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?pa(s):s;return{pathname:n?n.startsWith("/")?n:nb(n,e):e,search:rb(r),hash:ab(o)}}function nb(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ib(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y0(s){let e=ib(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _0(s,e,n,r=!1){let o;typeof s=="string"?o=pa(s):(o={...s},vt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let w=e.length-1;if(!r&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}p=w>=0?e[w]:"/"}let g=tb(o,p),m=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||E)&&(g.pathname+="/"),g}var _s=s=>s.join("/").replace(/\/\/+/g,"/"),sb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),rb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ab=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ob(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var v0=["POST","PUT","PATCH","DELETE"];new Set(v0);var lb=["GET",...v0];new Set(lb);var No=I.createContext(null);No.displayName="DataRouter";var Gh=I.createContext(null);Gh.displayName="DataRouterState";I.createContext(!1);var E0=I.createContext({isTransitioning:!1});E0.displayName="ViewTransition";var ub=I.createContext(new Map);ub.displayName="Fetchers";var cb=I.createContext(null);cb.displayName="Await";var Bi=I.createContext(null);Bi.displayName="Navigation";var vu=I.createContext(null);vu.displayName="Location";var zi=I.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var yp=I.createContext(null);yp.displayName="RouteError";function hb(s,{relative:e}={}){vt(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(Bi),{hash:o,pathname:u,search:f}=Tu(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:_s([n,u])),r.createHref({pathname:p,search:f,hash:o})}function Eu(){return I.useContext(vu)!=null}function vr(){return vt(Eu(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(vu).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S0(s){I.useContext(Bi).static||I.useLayoutEffect(s)}function Er(){let{isDataRoute:s}=I.useContext(zi);return s?wb():fb()}function fb(){vt(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(No),{basename:e,navigator:n}=I.useContext(Bi),{matches:r}=I.useContext(zi),{pathname:o}=vr(),u=JSON.stringify(y0(r)),f=I.useRef(!1);return S0(()=>{f.current=!0}),I.useCallback((g,m={})=>{if(ci(f.current,T0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=_0(g,JSON.parse(u),o,m.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:_s([e,E.pathname])),(m.replace?n.replace:n.push)(E,m.state,m)},[e,n,u,o,s])}I.createContext(null);function db(){let{matches:s}=I.useContext(zi),e=s[s.length-1];return e?e.params:{}}function Tu(s,{relative:e}={}){let{matches:n}=I.useContext(zi),{pathname:r}=vr(),o=JSON.stringify(y0(n));return I.useMemo(()=>_0(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function mb(s,e){return A0(s,e)}function A0(s,e,n,r){vt(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=I.useContext(Bi),{matches:u}=I.useContext(zi),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",m=f?f.pathnameBase:"/",E=f&&f.route;{let K=E&&E.path||"";b0(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=vr(),b;if(e){let K=typeof e=="string"?pa(e):e;vt(m==="/"||K.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${K.pathname}" was given in the \`location\` prop.`),b=K}else b=w;let L=b.pathname||"/",B=L;if(m!=="/"){let K=m.replace(/^\//,"").split("/");B="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let F=m0(s,{pathname:B});ci(E||F!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ci(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=vb(F&&F.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:_s([m,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?m:_s([m,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,r);return e&&U?I.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},U):U}function pb(){let s=bb(),e=ob(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:o},n):null,f)}var gb=I.createElement(pb,null),yb=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?I.createElement(zi.Provider,{value:this.props.routeContext},I.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _b({routeContext:s,match:e,children:n}){let r=I.useContext(No);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(zi.Provider,{value:s},n)}function vb(s,e=[],n=null,r=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let o=s,u=n?.errors;if(u!=null){let g=o.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);vt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,p=-1;if(n)for(let g=0;g<o.length;g++){let m=o[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:E,errors:w}=n,b=m.route.loader&&!E.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||b){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,m,E)=>{let w,b=!1,L=null,B=null;n&&(w=u&&m.route.id?u[m.route.id]:void 0,L=m.route.errorElement||gb,f&&(p<0&&E===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,B=null):p===E&&(b=!0,B=m.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),U=()=>{let K;return w?K=L:b?K=B:m.route.Component?K=I.createElement(m.route.Component,null):m.route.element?K=m.route.element:K=g,I.createElement(_b,{match:m,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:K})};return n&&(m.route.ErrorBoundary||m.route.errorElement||E===0)?I.createElement(yb,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:U(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):U()},null)}function _p(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eb(s){let e=I.useContext(No);return vt(e,_p(s)),e}function Tb(s){let e=I.useContext(Gh);return vt(e,_p(s)),e}function Sb(s){let e=I.useContext(zi);return vt(e,_p(s)),e}function vp(s){let e=Sb(s),n=e.matches[e.matches.length-1];return vt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Ab(){return vp("useRouteId")}function bb(){let s=I.useContext(yp),e=Tb("useRouteError"),n=vp("useRouteError");return s!==void 0?s:e.errors?.[n]}function wb(){let{router:s}=Eb("useNavigate"),e=vp("useNavigate"),n=I.useRef(!1);return S0(()=>{n.current=!0}),I.useCallback(async(o,u={})=>{ci(n.current,T0),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Pv={};function b0(s,e,n){!e&&!Pv[s]&&(Pv[s]=!0,ci(!1,n))}I.memo(Rb);function Rb({routes:s,future:e,state:n}){return A0(s,void 0,n,e)}function ch(s){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cb({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){vt(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=pa(n));let{pathname:g="/",search:m="",hash:E="",state:w=null,key:b="default"}=n,L=I.useMemo(()=>{let B=Ss(g,f);return B==null?null:{location:{pathname:B,search:m,hash:E,state:w,key:b},navigationType:r}},[f,g,m,E,w,b,r]);return ci(L!=null,`<Router basename="${f}"> is not able to match the URL "${g}${m}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:I.createElement(Bi.Provider,{value:p},I.createElement(vu.Provider,{children:e,value:L}))}function Vv({children:s,location:e}){return mb(zm(s),e)}function zm(s,e=[]){let n=[];return I.Children.forEach(s,(r,o)=>{if(!I.isValidElement(r))return;let u=[...e,o];if(r.type===I.Fragment){n.push.apply(n,zm(r.props.children,u));return}vt(r.type===ch,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=zm(r.props.children,u)),n.push(f)}),n}var hh="get",fh="application/x-www-form-urlencoded";function $h(s){return s!=null&&typeof s.tagName=="string"}function Ib(s){return $h(s)&&s.tagName.toLowerCase()==="button"}function xb(s){return $h(s)&&s.tagName.toLowerCase()==="form"}function Nb(s){return $h(s)&&s.tagName.toLowerCase()==="input"}function Db(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Ob(s,e){return s.button===0&&(!e||e==="_self")&&!Db(s)}var ih=null;function Mb(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var Pb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(s){return s!=null&&!Pb.has(s)?(ci(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):s}function Vb(s,e){let n,r,o,u,f;if(xb(s)){let p=s.getAttribute("action");r=p?Ss(p,e):null,n=s.getAttribute("method")||hh,o=Sm(s.getAttribute("enctype"))||fh,u=new FormData(s)}else if(Ib(s)||Nb(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?Ss(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||hh,o=Sm(s.getAttribute("formenctype"))||Sm(p.getAttribute("enctype"))||fh,u=new FormData(p,s),!Mb()){let{name:m,type:E,value:w}=s;if(E==="image"){let b=m?`${m}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else m&&u.append(m,w)}}else{if($h(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,r=null,o=fh,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function kb(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ss(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function jb(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ub(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jb(u,n);return f.links?f.links():[]}return[]}));return Hb(r.flat(1).filter(Lb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(s,e,n,r,o,u){let f=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>f(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let E=r.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Bb(s,e,{includeHydrateFallback:n}={}){return zb(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function zb(s){return[...new Set(s)]}function qb(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function Hb(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(qb(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function w0(){let s=I.useContext(No);return Ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Fb(){let s=I.useContext(Gh);return Ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Tp=I.createContext(void 0);Tp.displayName="FrameworkContext";function R0(){let s=I.useContext(Tp);return Ep(s,"You must render this element inside a <HydratedRouter> element"),s}function Gb(s,e){let n=I.useContext(Tp),[r,o]=I.useState(!1),[u,f]=I.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:E,onTouchStart:w}=e,b=I.useRef(null);I.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let F=K=>{K.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(F,{threshold:.5});return b.current&&U.observe(b.current),()=>{U.disconnect()}}},[s]),I.useEffect(()=>{if(r){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[r]);let L=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?s!=="intent"?[u,b,{}]:[u,b,{onFocus:Ql(p,L),onBlur:Ql(g,B),onMouseEnter:Ql(m,L),onMouseLeave:Ql(E,B),onTouchStart:Ql(w,L)}]:[!1,b,{}]}function Ql(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function $b({page:s,...e}){let{router:n}=w0(),r=I.useMemo(()=>m0(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?I.createElement(Kb,{page:s,matches:r,...e}):null}function Qb(s){let{manifest:e,routeModules:n}=R0(),[r,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return Ub(s,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,n]),r}function Kb({page:s,matches:e,...n}){let r=vr(),{manifest:o,routeModules:u}=R0(),{basename:f}=w0(),{loaderData:p,matches:g}=Fb(),m=I.useMemo(()=>kv(s,e,g,o,r,"data"),[s,e,g,o,r]),E=I.useMemo(()=>kv(s,e,g,o,r,"assets"),[s,e,g,o,r]),w=I.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let B=new Set,F=!1;if(e.forEach(K=>{let ie=o.routes[K.route.id];!ie||!ie.hasLoader||(!m.some(se=>se.route.id===K.route.id)&&K.route.id in p&&u[K.route.id]?.shouldRevalidate||ie.hasClientLoader?F=!0:B.add(K.route.id))}),B.size===0)return[];let U=kb(s,f,"data");return F&&B.size>0&&U.searchParams.set("_routes",e.filter(K=>B.has(K.route.id)).map(K=>K.route.id).join(",")),[U.pathname+U.search]},[f,p,r,o,m,e,s,u]),b=I.useMemo(()=>Bb(E,o),[E,o]),L=Qb(E);return I.createElement(I.Fragment,null,w.map(B=>I.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),b.map(B=>I.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),L.map(({key:B,link:F})=>I.createElement("link",{key:B,...F})))}function Yb(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var C0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C0&&(window.__reactRouterVersion="7.7.1")}catch{}function Wb({basename:s,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=LA({window:n,v5Compat:!0}));let o=r.current,[u,f]=I.useState({action:o.action,location:o.location}),p=I.useCallback(g=>{I.startTransition(()=>f(g))},[f]);return I.useLayoutEffect(()=>o.listen(p),[o,p]),I.createElement(Cb,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hi=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:m,preventScrollReset:E,viewTransition:w,...b},L){let{basename:B}=I.useContext(Bi),F=typeof m=="string"&&I0.test(m),U,K=!1;if(typeof m=="string"&&F&&(U=m,C0))try{let x=new URL(window.location.href),M=m.startsWith("//")?new URL(x.protocol+m):new URL(m),D=Ss(M.pathname,B);M.origin===x.origin&&D!=null?m=D+M.search+M.hash:K=!0}catch{ci(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=hb(m,{relative:o}),[se,he,ce]=Gb(r,b),Ce=ew(m,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:w});function V(x){e&&e(x),x.defaultPrevented||Ce(x)}let R=I.createElement("a",{...b,...ce,href:U||ie,onClick:K||u?e:V,ref:Yb(L,he),target:g,"data-discover":!F&&n==="render"?"true":void 0});return se&&!F?I.createElement(I.Fragment,null,R,I.createElement($b,{page:ie})):R});hi.displayName="Link";var Xb=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...m},E){let w=Tu(f,{relative:m.relative}),b=vr(),L=I.useContext(Gh),{navigator:B,basename:F}=I.useContext(Bi),U=L!=null&&rw(w)&&p===!0,K=B.encodeLocation?B.encodeLocation(w).pathname:w.pathname,ie=b.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),se=se?se.toLowerCase():null,K=K.toLowerCase()),se&&F&&(se=Ss(se,F)||se);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ce=ie===K||!o&&ie.startsWith(K)&&ie.charAt(he)==="/",Ce=se!=null&&(se===K||!o&&se.startsWith(K)&&se.charAt(K.length)==="/"),V={isActive:ce,isPending:Ce,isTransitioning:U},R=ce?e:void 0,x;typeof r=="function"?x=r(V):x=[r,ce?"active":null,Ce?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(V):u;return I.createElement(hi,{...m,"aria-current":R,className:x,ref:E,style:M,to:f,viewTransition:p},typeof g=="function"?g(V):g)});Xb.displayName="NavLink";var Zb=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:f=hh,action:p,onSubmit:g,relative:m,preventScrollReset:E,viewTransition:w,...b},L)=>{let B=iw(),F=sw(p,{relative:m}),U=f.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&I0.test(p),ie=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let he=se.nativeEvent.submitter,ce=he?.getAttribute("formmethod")||f;B(he||se.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:m,preventScrollReset:E,viewTransition:w})};return I.createElement("form",{ref:L,method:U,action:F,onSubmit:r?g:ie,...b,"data-discover":!K&&s==="render"?"true":void 0})});Zb.displayName="Form";function Jb(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x0(s){let e=I.useContext(No);return vt(e,Jb(s)),e}function ew(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Er(),g=vr(),m=Tu(s,{relative:u});return I.useCallback(E=>{if(Ob(E,e)){E.preventDefault();let w=n!==void 0?n:lu(g)===lu(m);p(s,{replace:w,state:r,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,m,n,r,e,s,o,u,f])}var tw=0,nw=()=>`__${String(++tw)}__`;function iw(){let{router:s}=x0("useSubmit"),{basename:e}=I.useContext(Bi),n=Ab();return I.useCallback(async(r,o={})=>{let{action:u,method:f,encType:p,formData:g,body:m}=Vb(r,e);if(o.navigate===!1){let E=o.fetcherKey||nw();await s.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,n])}function sw(s,{relative:e}={}){let{basename:n}=I.useContext(Bi),r=I.useContext(zi);vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Tu(s||".",{relative:e})},f=vr();if(s==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let E=p.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_s([n,u.pathname])),lu(u)}function rw(s,{relative:e}={}){let n=I.useContext(E0);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=x0("useViewTransitionState"),o=Tu(s,{relative:e});if(!n.isTransitioning)return!1;let u=Ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=Ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}const aw="_sbartabWrapper_1e2v8_36",ow={sbartabWrapper:aw},lw="_currentWrapper_1yfw8_1",uw="_currentBox_1yfw8_27",cw="_wrapper_1yfw8_127",Tn={currentWrapper:lw,currentBox:uw,wrapper:cw};function hw(){const s=Er(),{userData:e}=I.useContext(rn),[n,r]=I.useState(null),[o,u]=I.useState(null),[f,p]=I.useState(null);function g(m){s(`/subjects/${m.subject}#${m.typeOfWork}#${m.id}`)}return I.useEffect(()=>{e&&(r(e.activities),u(e.assignments),p(e.petas))},[e]),T.jsxs("div",{className:Tn.currentWrapper,children:[T.jsxs("h2",{children:[" ",T.jsx("i",{className:"	fa fa-pencil"})," Current Tasks"]}),T.jsxs("div",{className:Tn.currentBox,children:[n?.filter(m=>m.status=="pending").length!=0?T.jsxs("div",{className:Tn.curActBox,children:[T.jsx("h3",{children:"Current Activities"}),T.jsx("ul",{className:Tn.wrapper,children:n?.map(m=>{if(m.status=="pending")return T.jsxs("li",{onClick:()=>{g(m)},children:[" ",T.jsx("i",{className:"fa fa-thumb-tack"})," ",m.subject,": ",m.title]},Math.random()*1)})})]}):T.jsxs("div",{className:Tn.curActBox,children:[T.jsx("h3",{children:"Current Activities"}),T.jsxs("ul",{className:Tn.wrapper,children:[" ",T.jsx("li",{children:"There are no activities."})]})]}),o?.filter(m=>m.status=="pending").length!=0?T.jsxs("div",{className:Tn.curActBox,children:[T.jsx("h3",{children:"Current Assignments"}),T.jsx("ul",{className:Tn.wrapper,children:o?.map(m=>{if(m.status=="pending")return T.jsxs("li",{onClick:()=>{g(m)},children:[" ",T.jsx("i",{className:"fa fa-thumb-tack"})," ",m.subject,": ",m.title]},Math.random()*1)})})]}):T.jsxs("div",{className:Tn.curActBox,children:[T.jsx("h3",{children:"Current Assignments"}),T.jsxs("ul",{className:Tn.wrapper,children:[" ",T.jsx("li",{children:"There are no activities."})]})]}),f?.filter(m=>m.status=="pending").length!=0?T.jsxs("div",{className:Tn.curActBox,children:[T.jsx("h3",{children:"Current Projects"}),T.jsx("ul",{className:Tn.wrapper,children:f?.map(m=>{if(m.status=="pending")return T.jsxs("li",{onClick:()=>{g(m)},children:[" ",T.jsx("i",{className:"fa fa-thumb-tack"})," ",m.subject,": ",m.title]},Math.random()*1)})})]}):T.jsxs("div",{className:Tn.curActBox,children:[T.jsx("h3",{children:"Current Projects"}),T.jsxs("ul",{className:Tn.wrapper,children:[" ",T.jsx("li",{children:"There are no activities."})]})]})]})]})}const fw="_subjectsWrapper_1syz2_1",dw="_buttonWrapper_1syz2_45",mw="_subjects_1syz2_1",pw="_subjectBox_1syz2_135",gw="_subPicBox_1syz2_185",yw="_contentBox_1syz2_217",co={subjectsWrapper:fw,buttonWrapper:dw,subjects:mw,subjectBox:pw,subPicBox:gw,contentBox:yw},N0=[{subjectName:"Computer System Servicing",subjectNameAbbreviation:"CSS",subjectTeacher:"Sir. Enrico Dela Cruz",subjectSemester:"First",quarter:1,imgPath:"./Subjects/CSS.webp",color:"#3867F6",activities:[{id:"",quarter:"",semester:"",title:"",description:"",dueDate:"",state:"pending"}]},{subjectName:"Robotics",subjectNameAbbreviation:"Robotics",subjectTeacher:"Ma'am Sophia Magdangal",subjectSemester:"First",quarter:1,imgPath:"./Subjects/Robotics.webp",color:"#05A2FD"},{subjectName:"Practical Research 2",subjectNameAbbreviation:"PR2",subjectTeacher:"Sir. Renedict De Leon",subjectSemester:"First",quarter:1,imgPath:"./Subjects/PR2.jpg",color:"#B68209"},{subjectName:"Understanding Culuture, Society and Politics",subjectNameAbbreviation:"UCSP",subjectTeacher:"Sir. Justin Sebastian",subjectSemester:"First",quarter:1,imgPath:"./Subjects/UCSP.jpg",color:"#FD6405"},{subjectName:"Contemporary Philippines Art from the Region",subjectNameAbbreviation:"CPAR",subjectTeacher:"F. Galang",subjectSemester:"First",quarter:1,imgPath:"./Subjects/CPAR.webp",color:"#D5BA1F"},{subjectName:"Philosophy",subjectNameAbbreviation:"Philosophy",subjectTeacher:"Sir. Joshua Ramos",subjectSemester:"First",quarter:1,imgPath:"./Subjects/Philosophy.jpg",color:"#229961"},{subjectName:"Entrepreneurship",subjectNameAbbreviation:"Entrepreneurship",subjectTeacher:"Sir. Kennet Miranda",subjectSemester:"First",quarter:1,imgPath:"./Subjects/Entrepreneurship.jpg",color:"#0ED64D"},{subjectName:"21st Century Literature",subjectNameAbbreviation:"21stCL",subjectTeacher:"L. Leonolo",subjectSemester:"First",quarter:1,imgPath:"./Subjects/21st.jpg",color:"#AC0BD4"}];function _w(){const s=Er(),[e]=I.useState(N0),n=I.useRef(null);function r(o){const u=n.current,f=270;o==!1?u.scrollBy({left:f,behavior:"smooth"}):u.scrollBy({left:-f,behavior:"smooth"})}return T.jsxs("div",{className:co.subjectsWrapper,children:[T.jsxs("h2",{children:[T.jsxs("span",{children:[T.jsx("i",{className:"fa fa-book"}),"Subject Shortcuts"]}),T.jsxs("div",{className:co.buttonWrapper,children:[T.jsx("button",{onClick:()=>{r(!0)},children:T.jsx("i",{className:"	fa fa-angle-left"})}),T.jsx("button",{onClick:()=>{r(!1)},children:T.jsx("i",{className:"	fa fa-angle-right"})})]})]}),T.jsx("div",{className:co.subjects,ref:n,children:e?.map(o=>T.jsxs("div",{className:co.subjectBox,id:o.subjectNameAbbreviation,style:{borderLeft:`${o.color} .5rem solid`},children:[T.jsx("div",{className:co.subPicBox,children:T.jsx("img",{src:o.imgPath,title:o.subjectName})}),T.jsxs("div",{className:co.contentBox,children:[T.jsxs("span",{children:[o.subjectTeacher," "]}),T.jsxs("span",{children:["Semester ",o.subjectSemester]})]}),T.jsxs("button",{onClick:()=>{s(`subjects/${o.subjectNameAbbreviation}`)},children:["Go To ",o.subjectNameAbbreviation]})]},o.subjectName))})]})}const vw="_homeWrapper_1rbm8_1",Ew={homeWrapper:vw};function Tw(){const{pageDetector:s,userObject:e}=I.useContext(rn);return I.useEffect(()=>{e?.uid?s(null,0,!1):s(0,null,!0)},[]),T.jsxs("div",{className:Ew.homeWrapper,children:[T.jsx(hw,{}),T.jsx(_w,{})]})}const Sw="_subjectsWrapper_187uq_1",Aw={subjectsWrapper:Sw},bw="_subjectBox_1xvju_1",ww="_topWrapper_1xvju_95",Rw="_dropDownButton_1xvju_107",Cw="_showChoices_1xvju_149",Iw="_hideChoices_1xvju_157",xw="_choicesBox_1xvju_165",Nw="_subjectName_1xvju_217",Dw="_progressWrapper_1xvju_261",Ow="_progresses_1xvju_279",Mw="_top_1xvju_95",Pw="_bottom_1xvju_305",Vw="_barWrapper_1xvju_329",kw="_bar_1xvju_329",jw="_openSubject_1xvju_357",Xe={subjectBox:bw,topWrapper:ww,dropDownButton:Rw,showChoices:Cw,hideChoices:Iw,choicesBox:xw,subjectName:Nw,progressWrapper:Dw,progresses:Ow,top:Mw,bottom:Pw,barWrapper:Vw,bar:kw,openSubject:jw};function Lw({subData:s}){const{userData:e}=I.useContext(rn),[n,r]=I.useState(!1),[o,u]=I.useState(0),[f,p]=I.useState(0),[g,m]=I.useState(0),[E,w]=I.useState(0),[b,L]=I.useState(0),[B,F]=I.useState(0),[U,K]=I.useState(0),[ie,se]=I.useState(0),[he,ce]=I.useState(0),[Ce,V]=I.useState(),[R,x]=I.useState(),[M,D]=I.useState(),[P,C]=I.useState({quarter:"2nd",sem:"1st"}),[De]=I.useState([{quarter:"1st",sem:"1st"},{quarter:"2nd",sem:"1st"},{quarter:"3rd",sem:"2nd"},{quarter:"4th",sem:"2nd"}]);function Ve($){const W=Ce?.filter(Z=>Z.subject==s.subjectNameAbbreviation&&$.quarter==Z.quarter)?.length,le=R?.filter(Z=>Z.subject==s.subjectNameAbbreviation&&$.quarter==Z.quarter)?.length,Re=M?.filter(Z=>Z.subject==s.subjectNameAbbreviation&&$.quarter==Z.quarter)?.length,O=Ce?.filter(Z=>Z.status=="completed"&&Z.subject==s.subjectNameAbbreviation&&$.quarter==Z.quarter)?.length,ee=R?.filter(Z=>Z.status=="completed"&&Z.subject==s.subjectNameAbbreviation&&$.quarter==Z.quarter)?.length,ae=M?.filter(Z=>Z.status=="completed"&&Z.subject==s.subjectNameAbbreviation&&$.quarter==Z.quarter)?.length;u(W||0),p(O||0),w(le||0),L(ee||0),K(Re||0),se(ae||0)}return I.useEffect(()=>{const $=o>0?f/o*100:0,W=E>0?b/E*100:0,le=U>0?ie/U*100:0;m($),F(W),ce(le)},[o,f,E,b,U,ie]),I.useEffect(()=>{e&&(V(e.activities),x(e.assignments),D(e.petas))},[e]),T.jsxs("div",{className:`${Xe.subjectBox}`,children:[T.jsxs("div",{className:Xe.topWrapper,children:[T.jsx("h1",{className:Xe.subjectName,children:s.subjectNameAbbreviation}),T.jsxs("div",{className:Xe.dropDownButton,onClick:()=>{r(!n)},children:[P.sem," Semester: ",P.quarter," Quarter",T.jsx("i",{className:n?"fa fa-angle-up":"fa fa-angle-down"}),T.jsx("div",{className:n?`${Xe.choicesBox} ${Xe.showChoices}`:`${Xe.choicesBox} ${Xe.hideChoices}`,children:De.map($=>T.jsxs("button",{onClick:()=>{C($),Ve($),r(!1)},children:[$.sem," Sem: ",$.quarter," Quarter"]},Math.random()*1))})]})]}),T.jsxs("div",{className:Xe.progressWrapper,children:[T.jsxs("div",{className:`${Xe.actWrapper} ${Xe.progresses}`,children:[T.jsxs("div",{className:Xe.top,children:[T.jsx("p",{children:"Activities:"}),T.jsxs("p",{className:Xe.completed,children:[f," Completed"]})]}),T.jsx("div",{className:Xe.bottom,children:T.jsx("div",{className:Xe.barWrapper,children:T.jsx("div",{className:Xe.bar,style:{width:`${g}%`}})})})]}),T.jsxs("div",{className:`${Xe.assignWrapper} ${Xe.progresses}`,children:[T.jsxs("div",{className:Xe.top,children:[T.jsx("p",{children:"Assignments:"}),T.jsxs("p",{className:Xe.completed,children:[b," Completed"]})]}),T.jsx("div",{className:Xe.bottom,children:T.jsx("div",{className:Xe.barWrapper,children:T.jsx("div",{className:Xe.bar,style:{width:`${B}%`}})})})]}),T.jsxs("div",{className:`${Xe.projWrapper} ${Xe.progresses}`,children:[T.jsxs("div",{className:Xe.top,children:[T.jsx("p",{children:"Performance Tasks:"}),T.jsxs("p",{className:Xe.completed,children:[ie," Completed"]})]}),T.jsx("div",{className:Xe.bottom,children:T.jsx("div",{className:Xe.barWrapper,children:T.jsx("div",{className:Xe.bar,style:{width:`${he}%`}})})})]})]}),T.jsx(hi,{to:"/subjects/"+s.subjectNameAbbreviation,className:Xe.openSubject,children:"Open Subject"})]})}const Uw="_subConWrapper_1fnzp_1",Bw="_topComponent_1fnzp_23",zw="_backButt_1fnzp_1",qw="_right_1fnzp_77",Hw="_wrapMenusButton_1fnzp_89",Fw="_wrap_1fnzp_89",Gw="_hideWrap_1fnzp_99",$w="_selectedChoice_1fnzp_109",Qw="_showChoices_1fnzp_149",Kw="_hideChoices_1fnzp_157",Yw="_choicesBox_1fnzp_165",Ww="_contentWrapper_1fnzp_223",Xw="_subjectActs_1fnzp_267",Zw="_content_1fnzp_223",Jw="_selectAllButton_1fnzp_339",eR="_hideSelectAllButton_1fnzp_355",tR="_transparent_1fnzp_385",Ze={subConWrapper:Uw,topComponent:Bw,backButt:zw,right:qw,wrapMenusButton:Hw,wrap:Fw,hideWrap:Gw,selectedChoice:$w,showChoices:Qw,hideChoices:Kw,choicesBox:Yw,contentWrapper:Ww,subjectActs:Xw,content:Zw,selectAllButton:Jw,hideSelectAllButton:eR,transparent:tR},nR="_activity_8kmf6_1",iR="_pendingActivity_8kmf6_3",sR="_highlight_8kmf6_37",rR="_selected_8kmf6_47",aR="_notSelected_8kmf6_49",Kl={activity:nR,pendingActivity:iR,highlight:sR,selected:rR,notSelected:aR},oR="_showActDesc_3mluj_1",lR="_hideActDesc_3mluj_29",uR="_showActDescBox_3mluj_39",cR="_right_3mluj_77",hR="_stateWrapper_3mluj_85",fR="_showButton_3mluj_99",dR="_choices_3mluj_107",mR="_hideChoices_3mluj_107",pR="_showInfo_3mluj_117",gR="_highlight_3mluj_145",yR="_unhighlight_3mluj_165",_R="_hideButton_3mluj_177",yn={showActDesc:oR,hideActDesc:lR,showActDescBox:uR,right:cR,stateWrapper:hR,showButton:fR,choices:dR,hideChoices:mR,showInfo:pR,highlight:gR,unhighlight:yR,hideButton:_R},vR="_infoBox_xvtjn_1",ER="_showInfoBox_xvtjn_21",TR="_hideInfoBox_xvtjn_31",SR="_animHideInfo_xvtjn_41",Yn={infoBox:vR,showInfoBox:ER,hideInfoBox:TR,animHideInfo:SR};function AR({showInfo:s,setShowInfo:e}){const{actDesc:n}=I.useContext(qi);function r(o){const u=o.currentTarget.classList;u.contains(Yn.hideInfoBox)?(u.replace(`${Yn.hideInfoBox}`,`${Yn.animHideInfo}`),setTimeout(()=>{u.replace(`${Yn.animHideInfo}`,`${Yn.hideInfoBox}`)},1e3)):(u.add(`${Yn.animHideInfo}`),setTimeout(()=>{u.replace(`${Yn.animHideInfo}`,`${Yn.hideInfoBox}`)},1e3)),e(!1)}return T.jsx(T.Fragment,{children:T.jsx("div",{className:s?`${Yn.infoBox} ${Yn.showInfoBox}`:`${Yn.infoBox} ${Yn.hideInfoBox}`,onMouseLeave:r,children:T.jsxs("ul",{children:[T.jsxs("li",{children:["Created At: ",n?.createdAt]}),T.jsxs("li",{children:["Deadline: ",n?.dueDate]}),T.jsxs("li",{children:["Semester: ",n?.semester," Sem"]}),T.jsxs("li",{children:["Quarter: ",n?.quarter," Quarter"]}),T.jsxs("li",{children:["Type: ",n?.typeOfWork]})]})})})}function bR(){const{actDesc:s,showActDesc:e,setShowActDesc:n,setActDesc:r,defineTypeOfWork:o}=I.useContext(qi),[u,f]=I.useState(!1),[p,g]=I.useState(!1);return T.jsx(T.Fragment,{children:T.jsx("div",{className:e?yn.showActDesc:yn.hideActDesc,children:T.jsxs("div",{className:e?yn.showActDescBox:yn.hideActDescBox,children:[T.jsxs("h2",{children:["Description",T.jsxs("div",{className:yn.right,children:[T.jsxs("div",{className:yn.stateWrapper,children:[T.jsx("button",{className:yn.showButton,onClick:()=>{f(!u)},children:T.jsx("i",{className:"fa fa-navicon"})}),T.jsxs("div",{className:u?yn.choices:yn.hideChoices,children:[T.jsx("button",{className:s?.status=="completed"?yn.highlight:yn.unhighlight,onClick:()=>{s&&o(!1,"completed")},children:"Finish"}),T.jsx("button",{className:s?.status=="pending"?yn.highlight:yn.unhighlight,onClick:()=>{s&&o(!1,"pending")},children:"Pending"}),T.jsxs("button",{className:yn.showInfo,onClick:()=>{g(!p)},children:[T.jsx("i",{className:"fa fa-list-alt"}),T.jsx(AR,{showInfo:p,setShowInfo:g})]})]})]}),T.jsx("button",{onClick:()=>{n(!1),r(null)},className:yn.hideButton,children:"X"})]})]}),T.jsx("p",{children:s?.description})]})})})}const wR="_addSubjectWrapper_qzsae_1",RR="_addSubjectBox_qzsae_29",CR="_closeButton_qzsae_57",IR="_top_qzsae_123",xR="_submit_qzsae_189",tr={addSubjectWrapper:wR,addSubjectBox:RR,closeButton:CR,top:IR,submit:xR},NR=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DR=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,g=o+2<s.length,m=g?s[o+2]:0,E=u>>2,w=(u&3)<<4|p>>4;let b=(p&15)<<2|m>>6,L=m&63;g||(L=64,f||(b=64)),r.push(n[E],n[w],n[b],n[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(D0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):DR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const m=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||m==null||w==null)throw new OR;const b=u<<2|p>>4;if(r.push(b),m!==64){const L=p<<4&240|m>>2;if(r.push(L),w!==64){const B=m<<6&192|w;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MR=function(s){const e=D0(s);return O0.encodeByteArray(e,!0)},bh=function(s){return MR(s).replace(/\./g,"")},M0=function(s){try{return O0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>PR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof jv>"u")return;const s=jv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&M0(s[1]);return e&&JSON.parse(e)},Qh=()=>{try{return NR()||VR()||kR()||jR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},P0=s=>Qh()?.emulatorHosts?.[s],LR=s=>{const e=P0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V0=()=>Qh()?.config,k0=s=>Qh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const nu={};function zR(){const s={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?s.emulator.push(e):s.prod.push(e);return s}function qR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Lv=!1;function L0(s,e){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||nu[s]===e||nu[s]||Lv)return;nu[s]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=zR().prod.length>0;function f(){const b=document.getElementById(r);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Lv=!0,f()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=qR(r),L=n("text"),B=document.getElementById(L)||document.createElement("span"),F=n("learnmore"),U=document.getElementById(F)||document.createElement("a"),K=n("preprendIcon"),ie=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const se=b.element;p(se),E(U,F);const he=m();g(ie,K),se.append(ie,B,U,he),document.body.appendChild(se)}u?(B.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function FR(){const s=Qh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $R(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KR(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function YR(){return!FR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WR(){try{return typeof indexedDB=="object"}catch{return!1}}function XR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="FirebaseError";class bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZR,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?JR(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new bn(o,p,r)}}function JR(s,e){return s.replace(eC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const eC=/\{\$([^}]+)}/g;function tC(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(Uv(u)&&Uv(f)){if(!fr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Uv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Wl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function nC(s,e){const n=new iC(s,e);return n.subscribe.bind(n)}class iC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sC(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oC(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aC(s){return s===aa?void 0:s}function oC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const uC={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},cC=Be.INFO,hC={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},fC=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=hC[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=cC,this._logHandler=fC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const dC=(s,e)=>e.some(n=>s instanceof n);let Bv,zv;function mC(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pC(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,qm=new WeakMap,B0=new WeakMap,bm=new WeakMap,Ap=new WeakMap;function gC(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(or(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&U0.set(n,s)}).catch(()=>{}),Ap.set(e,s),e}function yC(s){if(qm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});qm.set(s,e)}let Hm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return qm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||B0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _C(s){Hm=s(Hm)}function vC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(wm(this),e,...n);return B0.set(r,e.sort?e.sort():[e]),or(r)}:pC().includes(s)?function(...e){return s.apply(wm(this),e),or(U0.get(this))}:function(...e){return or(s.apply(wm(this),e))}}function EC(s){return typeof s=="function"?vC(s):(s instanceof IDBTransaction&&yC(s),dC(s,mC())?new Proxy(s,Hm):s)}function or(s){if(s instanceof IDBRequest)return gC(s);if(bm.has(s))return bm.get(s);const e=EC(s);return e!==s&&(bm.set(s,e),Ap.set(e,s)),e}const wm=s=>Ap.get(s);function TC(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),p=or(f);return r&&f.addEventListener("upgradeneeded",g=>{r(or(f.result),g.oldVersion,g.newVersion,or(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const SC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],Rm=new Map;function qv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=AC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SC.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return Rm.set(e,u),u}_C(s=>({...s,get:(e,n,r)=>qv(e,n)||s.get(e,n,r),has:(e,n)=>!!qv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wC(s){return s.getComponent()?.type==="VERSION"}const Fm="@firebase/app",Hv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Sp("@firebase/app"),RC="@firebase/app-compat",CC="@firebase/analytics-compat",IC="@firebase/analytics",xC="@firebase/app-check-compat",NC="@firebase/app-check",DC="@firebase/auth",OC="@firebase/auth-compat",MC="@firebase/database",PC="@firebase/data-connect",VC="@firebase/database-compat",kC="@firebase/functions",jC="@firebase/functions-compat",LC="@firebase/installations",UC="@firebase/installations-compat",BC="@firebase/messaging",zC="@firebase/messaging-compat",qC="@firebase/performance",HC="@firebase/performance-compat",FC="@firebase/remote-config",GC="@firebase/remote-config-compat",$C="@firebase/storage",QC="@firebase/storage-compat",KC="@firebase/firestore",YC="@firebase/ai",WC="@firebase/firestore-compat",XC="firebase",ZC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",JC={[Fm]:"fire-core",[RC]:"fire-core-compat",[IC]:"fire-analytics",[CC]:"fire-analytics-compat",[NC]:"fire-app-check",[xC]:"fire-app-check-compat",[DC]:"fire-auth",[OC]:"fire-auth-compat",[MC]:"fire-rtdb",[PC]:"fire-data-connect",[VC]:"fire-rtdb-compat",[kC]:"fire-fn",[jC]:"fire-fn-compat",[LC]:"fire-iid",[UC]:"fire-iid-compat",[BC]:"fire-fcm",[zC]:"fire-fcm-compat",[qC]:"fire-perf",[HC]:"fire-perf-compat",[FC]:"fire-rc",[GC]:"fire-rc-compat",[$C]:"fire-gcs",[QC]:"fire-gcs-compat",[KC]:"fire-fst",[WC]:"fire-fst-compat",[YC]:"fire-vertex","fire-js":"fire-js",[XC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,e2=new Map,$m=new Map;function Fv(s,e){try{s.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function To(s){const e=s.name;if($m.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,s);for(const n of wh.values())Fv(n,s);for(const n of e2.values())Fv(n,s);return!0}function bp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Pn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Su("app","Firebase",t2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=ZC;function z0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Gm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(n||(n=V0()),!n)throw lr.create("no-options");const u=wh.get(o);if(u){if(fr(n,u.options)&&fr(r,u.config))return u;throw lr.create("duplicate-app",{appName:o})}const f=new lC(o);for(const g of $m.values())f.addComponent(g);const p=new n2(n,r,f);return wh.set(o,p),p}function q0(s=Gm){const e=wh.get(s);if(!e&&s===Gm&&V0())return z0();if(!e)throw lr.create("no-app",{appName:s});return e}function ur(s,e,n){let r=JC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(f.join(" "));return}To(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firebase-heartbeat-database",s2=1,uu="firebase-heartbeat-store";let Cm=null;function H0(){return Cm||(Cm=TC(i2,s2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Cm}async function r2(s){try{const n=(await H0()).transaction(uu),r=await n.objectStore(uu).get(F0(s));return await n.done,r}catch(e){if(e instanceof bn)As.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e?.message});As.warn(n.message)}}}async function Gv(s,e){try{const r=(await H0()).transaction(uu,"readwrite");await r.objectStore(uu).put(e,F0(s)),await r.done}catch(n){if(n instanceof bn)As.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n?.message});As.warn(r.message)}}}function F0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=1024,o2=30;class l2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>o2){const o=h2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$v(),{heartbeatsToSend:n,unsentEntries:r}=u2(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return As.warn(e),""}}}function $v(){return new Date().toISOString().substring(0,10)}function u2(s,e=a2){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class c2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WR()?XR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qv(s){return bh(JSON.stringify({version:2,heartbeats:s})).length}function h2(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(s){To(new ca("platform-logger",e=>new bC(e),"PRIVATE")),To(new ca("heartbeat",e=>new l2(e),"PRIVATE")),ur(Fm,Hv,s),ur(Fm,Hv,"esm2020"),ur("fire-js","")}f2("");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,G0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function x(){}x.prototype=R.prototype,V.D=R.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(M,D,P){for(var C=Array(arguments.length-2),De=2;De<arguments.length;De++)C[De-2]=arguments[De];return R.prototype[D].apply(M,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,x){x||(x=0);var M=Array(16);if(typeof R=="string")for(var D=0;16>D;++D)M[D]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(D=0;16>D;++D)M[D]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=V.g[0],x=V.g[1],D=V.g[2];var P=V.g[3],C=R+(P^x&(D^P))+M[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=P+(D^R&(x^D))+M[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(x^P&(R^x))+M[2]+606105819&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(R^D&(P^R))+M[3]+3250441966&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(P^x&(D^P))+M[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=P+(D^R&(x^D))+M[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(x^P&(R^x))+M[6]+2821735955&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(R^D&(P^R))+M[7]+4249261313&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(P^x&(D^P))+M[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=P+(D^R&(x^D))+M[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(x^P&(R^x))+M[10]+4294925233&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(R^D&(P^R))+M[11]+2304563134&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(P^x&(D^P))+M[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=P+(D^R&(x^D))+M[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(x^P&(R^x))+M[14]+2792965006&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(R^D&(P^R))+M[15]+1236535329&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(D^P&(x^D))+M[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(R^x))+M[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(P^R))+M[11]+643717713&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(D^P))+M[0]+3921069994&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^P&(x^D))+M[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(R^x))+M[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(P^R))+M[15]+3634488961&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(D^P))+M[4]+3889429448&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^P&(x^D))+M[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(R^x))+M[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(P^R))+M[3]+4107603335&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(D^P))+M[8]+1163531501&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^P&(x^D))+M[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(R^x))+M[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(P^R))+M[7]+1735328473&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^R&(D^P))+M[12]+2368359562&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(x^D^P)+M[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^D)+M[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^x)+M[11]+1839030562&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^R)+M[14]+4259657740&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^P)+M[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^D)+M[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^x)+M[7]+4139469664&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^R)+M[10]+3200236656&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^P)+M[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^D)+M[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^x)+M[3]+3572445317&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^R)+M[6]+76029189&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^P)+M[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=P+(R^x^D)+M[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^x)+M[15]+530742520&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^R)+M[2]+3299628645&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(D^(x|~P))+M[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~D))+M[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~x))+M[14]+2878612391&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~R))+M[5]+4237533241&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~P))+M[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~D))+M[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~x))+M[10]+4293915773&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~R))+M[1]+2240044497&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~P))+M[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~D))+M[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~x))+M[6]+2734768916&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~R))+M[13]+1309151649&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~P))+M[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=P+(x^(R|~D))+M[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~x))+M[2]+718787259&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~R))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+P&4294967295}r.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var x=R-this.blockSize,M=this.B,D=this.h,P=0;P<R;){if(D==0)for(;P<=x;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(M[D++]=V.charCodeAt(P++),D==this.blockSize){o(this,M),D=0;break}}else for(;P<R;)if(M[D++]=V[P++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=R},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var x=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=x&255,x/=256;for(this.u(V),V=Array(16),R=x=0;4>R;++R)for(var M=0;32>M;M+=8)V[x++]=this.g[R]>>>M&255;return V};function u(V,R){var x=p;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=R(V)}function f(V,R){this.h=R;for(var x=[],M=!0,D=V.length-1;0<=D;D--){var P=V[D]|0;M&&P==R||(x[D]=P,M=!1)}this.g=x}var p={};function g(V){return-128<=V&&128>V?u(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return U(m(-V));for(var R=[],x=1,M=0;V>=x;M++)R[M]=V/x|0,x*=4294967296;return new f(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return U(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(R,8)),M=w,D=0;D<V.length;D+=8){var P=Math.min(8,V.length-D),C=parseInt(V.substring(D,D+P),R);8>P?(P=m(Math.pow(R,P)),M=M.j(P).add(m(C))):(M=M.j(x),M=M.add(m(C)))}return M}var w=g(0),b=g(1),L=g(16777216);s=f.prototype,s.m=function(){if(F(this))return-U(this).m();for(var V=0,R=1,x=0;x<this.g.length;x++){var M=this.i(x);V+=(0<=M?M:4294967296+M)*R,R*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(B(this))return"0";if(F(this))return"-"+U(this).toString(V);for(var R=m(Math.pow(V,6)),x=this,M="";;){var D=he(x,R).g;x=K(x,D.j(R));var P=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=D,B(x))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function B(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function F(V){return V.h==-1}s.l=function(V){return V=K(this,V),F(V)?-1:B(V)?0:1};function U(V){for(var R=V.g.length,x=[],M=0;M<R;M++)x[M]=~V.g[M];return new f(x,~V.h).add(b)}s.abs=function(){return F(this)?U(this):this},s.add=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],M=0,D=0;D<=R;D++){var P=M+(this.i(D)&65535)+(V.i(D)&65535),C=(P>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);M=C>>>16,P&=65535,C&=65535,x[D]=C<<16|P}return new f(x,x[x.length-1]&-2147483648?-1:0)};function K(V,R){return V.add(U(R))}s.j=function(V){if(B(this)||B(V))return w;if(F(this))return F(V)?U(this).j(U(V)):U(U(this).j(V));if(F(V))return U(this.j(U(V)));if(0>this.l(L)&&0>V.l(L))return m(this.m()*V.m());for(var R=this.g.length+V.g.length,x=[],M=0;M<2*R;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<V.g.length;D++){var P=this.i(M)>>>16,C=this.i(M)&65535,De=V.i(D)>>>16,Ve=V.i(D)&65535;x[2*M+2*D]+=C*Ve,ie(x,2*M+2*D),x[2*M+2*D+1]+=P*Ve,ie(x,2*M+2*D+1),x[2*M+2*D+1]+=C*De,ie(x,2*M+2*D+1),x[2*M+2*D+2]+=P*De,ie(x,2*M+2*D+2)}for(M=0;M<R;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=R;M<2*R;M++)x[M]=0;return new f(x,0)};function ie(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function se(V,R){this.g=V,this.h=R}function he(V,R){if(B(R))throw Error("division by zero");if(B(V))return new se(w,w);if(F(V))return R=he(U(V),R),new se(U(R.g),U(R.h));if(F(R))return R=he(V,U(R)),new se(U(R.g),R.h);if(30<V.g.length){if(F(V)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var x=b,M=R;0>=M.l(V);)x=ce(x),M=ce(M);var D=Ce(x,1),P=Ce(M,1);for(M=Ce(M,2),x=Ce(x,2);!B(M);){var C=P.add(M);0>=C.l(V)&&(D=D.add(x),P=C),M=Ce(M,1),x=Ce(x,1)}return R=K(V,D.j(R)),new se(D,R)}for(D=w;0<=V.l(R);){for(x=Math.max(1,Math.floor(V.m()/R.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=m(x),C=P.j(R);F(C)||0<C.l(V);)x-=M,P=m(x),C=P.j(R);B(P)&&(P=b),D=D.add(P),V=K(V,C)}return new se(D,V)}s.A=function(V){return he(this,V).h},s.and=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)&V.i(M);return new f(x,this.h&V.h)},s.or=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)|V.i(M);return new f(x,this.h|V.h)},s.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)^V.i(M);return new f(x,this.h^V.h)};function ce(V){for(var R=V.g.length+1,x=[],M=0;M<R;M++)x[M]=V.i(M)<<1|V.i(M-1)>>>31;return new f(x,V.h)}function Ce(V,R){var x=R>>5;R%=32;for(var M=V.g.length-x,D=[],P=0;P<M;P++)D[P]=0<R?V.i(P+x)>>>R|V.i(P+x+1)<<32-R:V.i(P+x);return new f(D,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,G0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=E,cr=f}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,Xl,Q0,dh,Qm,K0,Y0,W0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var _=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,b.apply(null,arguments)}function L(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function B(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,Y){for(var oe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)oe[Fe-2]=arguments[Fe];return y.prototype[z].apply(A,oe)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const z=c.length||0,Y=A.length||0;c.length=z+Y;for(let oe=0;oe<Y;oe++)c[z+oe]=A[oe]}else c.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ce=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ce(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let Y=0;Y<x.length;Y++)_=x[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function D(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){p.setTimeout(()=>{throw c},0)}function C(){var c=Re;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,_){const A=Ve.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ve=new K(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let W,le=!1,Re=new De,O=()=>{const c=p.Promise.resolve(void 0);W=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){P(_)}var y=Ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}le=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function be(c,y){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{he(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}B(be,Z);var me={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),Me=0;function kn(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++Me,this.da=this.fa=!1}function fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Kt(c){this.src=c,this.g={},this.h=0}Kt.prototype.add=function(c,y,_,A,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=Hi(c,y,A,z);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new kn(y,this.src,Y,!!A,z),y.fa=_,c.push(y)),y};function Jn(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(fi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Hi(c,y,_,A){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return z}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),nt={};function ve(c,y,_,A,z){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)ve(c,y[Y],_,A,z);return null}return _=Pu(_),c&&c[He]?c.K(y,_,m(A)?!!A.capture:!1,z):ye(c,y,_,!1,A,z)}function ye(c,y,_,A,z,Y){if(!y)throw Error("Invalid event type");var oe=m(z)?!!z.capture:!!z,Fe=va(c);if(Fe||(c[Ie]=Fe=new Kt(c)),_=Fe.add(y,_,A,oe,Y),_.proxy)return _;if(A=Ke(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)fe||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(Rr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ke(){function c(_){return y.call(c.src,c.listener,_)}const y=gf;return c}function Lo(c,y,_,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Lo(c,y[Y],_,A,z);else A=m(A)?!!A.capture:!!A,_=Pu(_),c&&c[He]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=Hi(Y,_,A,z),-1<_&&(fi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=va(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Hi(y,_,A,z)),(_=-1<c?y[c]:null)&&_a(_))}function _a(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[He])Jn(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Rr(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=va(y))?(Jn(_,c),_.h==0&&(_.src=null,y[Ie]=null)):fi(c)}}}function Rr(c){return c in nt?nt[c]:nt[c]="on"+c}function gf(c,y){if(c.da)c=!0;else{y=new be(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&_a(c),c=_.call(A,y)}return c}function va(c){return c=c[Ie],c instanceof Kt?c:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(c){return typeof c=="function"?c:(c[Uo]||(c[Uo]=function(y){return c.handleEvent(y)}),c[Uo])}function Tt(){ae.call(this),this.i=new Kt(this),this.M=this,this.F=null}B(Tt,ae),Tt.prototype[He]=!0,Tt.prototype.removeEventListener=function(c,y,_,A){Lo(this,c,y,_,A)};function it(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new Z(y,c);else if(y instanceof Z)y.target=y.target||c;else{var z=y;y=new Z(A,c),M(y,z)}if(z=!0,_)for(var Y=_.length-1;0<=Y;Y--){var oe=y.g=_[Y];z=wn(oe,A,!0,y)&&z}if(oe=y.g=c,z=wn(oe,A,!0,y)&&z,z=wn(oe,A,!1,y)&&z,_)for(Y=0;Y<_.length;Y++)oe=y.g=_[Y],z=wn(oe,A,!1,y)&&z}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)fi(_[A]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Tt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function wn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==_){var Fe=oe.listener,kt=oe.ha||oe.src;oe.fa&&Jn(c.i,oe),z=Fe.call(kt,A)!==!1&&z}}return z&&!A.defaultPrevented}function an(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Vu(c){c.g=an(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yf extends ae{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(c){ae.call(this),this.h=c,this.g={}}B(Cr,ae);var Ir=[];function xr(c){Ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&_a(y)},c),c.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),xr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=p.JSON.stringify,Ea=p.JSON.parse,Nr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Bo(){}Bo.prototype.h=null;function zo(c){return c.h||(c.h=c.i())}function qo(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){Z.call(this,"d")}B(Gi,Z);function Ho(){Z.call(this,"c")}B(Ho,Z);var di={},Fo=null;function Cs(){return Fo=Fo||new Tt}di.La="serverreachability";function Ta(c){Z.call(this,di.La,c)}B(Ta,Z);function Is(c){const y=Cs();it(y,new Ta(y))}di.STAT_EVENT="statevent";function ku(c,y){Z.call(this,di.STAT_EVENT,c),this.stat=y}B(ku,Z);function pt(c){const y=Cs();it(y,new ku(y,c))}di.Ma="timingevent";function Vt(c,y){Z.call(this,di.Ma,c),this.size=y}B(Vt,Z);function It(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function Go(c,y,_,A,z,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Fe=Y.split("&"),kt=0;kt<Fe.length;kt++){var Ge=Fe[kt].split("=");if(1<Ge.length){var Ht=Ge[0];Ge=Ge[1];var jt=Ht.split("_");oe=2<=jt.length&&jt[1]=="type"?oe+(Ht+"="+Ge+"&"):oe+(Ht+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+oe})}function _f(c,y,_,A,z,Y,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+Y+" "+oe})}function xs(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Dr(c,_)+(A?" "+A:"")})}function ju(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Dr(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return ei(_)}catch{return y}}var Ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function pi(){}B(pi,Bo),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},mi=new pi;function dn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var $o={},Sa={};function ti(c,y,_){c.L=1,c.v=kr(Rn(y)),c.m=_,c.P=!0,Qi(c,null)}function Qi(c,y){c.F=Date.now(),Or(c),c.A=Rn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Zo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new bt,c.g=Ju(c.j,_?y:null,!c.m),0<c.O&&(c.M=new yf(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ir[0]=z.toString()),z=Ir);for(var Y=0;Y<z.length;Y++){var oe=ve(_,z[Y],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Is(),Go(c.i,c.u,c.A,c.l,c.R,c.m)}dn.prototype.ca=function(c){c=c.target;const y=this.M;y&&zn(c)==3?y.j():this.Y(c)},dn.prototype.Y=function(c){try{if(c==this.g)e:{const jt=zn(this.g);var y=this.g.Ba();const ts=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||jt!=4||y==7||(y==8||0>=ts?Is(3):Is(2)),Ds(this);var _=this.g.Z();this.X=_;t:if(Lu(this)){var A=Gu(this.g);c="";var z=A.length,Y=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),gi(this);var oe="";break t}this.h.i=new p.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,_f(this.i,this.u,this.A,this.l,this.R,jt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,kt=this.g;if((Fe=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Fe)){var Ge=Fe;break t}}Ge=null}if(_=Ge)xs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,_);else{this.o=!1,this.s=3,pt(12),Yt(this),gi(this);break e}}if(this.P){_=!0;let Wt;for(;!this.J&&this.C<oe.length;)if(Wt=Uu(this,oe),Wt==Sa){jt==4&&(this.s=4,pt(14),_=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==$o){this.s=4,pt(15),xs(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else xs(this.i,this.l,Wt,null),Mr(this,Wt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)xs(this.i,this.l,oe,"[Invalid Chunked Response]"),Yt(this),gi(this);else if(0<oe.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Fr(Ht),Ht.M=!0,pt(11))}}else xs(this.i,this.l,oe,null),Mr(this,oe);jt==4&&Yt(this),this.o&&!this.J&&(jt==4?Wu(this.j,this):(this.o=!1,Or(this)))}else Af(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Yt(this),gi(this)}}}catch{}finally{}};function Lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Uu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Sa:(_=Number(y.substring(_,A)),isNaN(_)?$o:(A+=1,A+_>y.length?Sa:(y=y.slice(A,A+_),c.C=A+_,y)))}dn.prototype.cancel=function(){this.J=!0,Yt(this)};function Or(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=It(b(c.ba,c),y)}function Ds(c){c.B&&(p.clearTimeout(c.B),c.B=null)}dn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ju(this.i,this.A),this.L!=2&&(Is(),pt(17)),Yt(this),this.s=2,gi(this)):Bu(this,this.S-c)};function gi(c){c.j.G==0||c.J||Wu(c.j,c)}function Yt(c){Ds(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,xr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Mr(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Qo(_.h,c))){if(!c.K&&Qo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Pa(_),Oa(_);else break e;il(_),pt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=It(b(_.Za,_),6e3));if(1>=ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else es(_,11)}else if((c.K||_.g==c)&&Pa(_),!ie(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Ge=z[y];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const Ht=Ge[3];Ht!=null&&(_.la=Ht,_.j.info("VER="+_.la));const jt=Ge[4];jt!=null&&(_.Aa=jt,_.j.info("SVER="+_.Aa));const ts=Ge[5];ts!=null&&typeof ts=="number"&&0<ts&&(A=1.5*ts,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Wt=c.g;if(Wt){const Ai=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var Y=A.h;Y.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(wa(Y,Y.h),Y.h=null))}if(A.D){const rl=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(A.ya=rl,at(A.I,A.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var oe=c;if(A.qa=Zu(A,A.J?A.ia:null,A.W),oe.K){mn(A.h,oe);var Fe=oe,kt=A.L;kt&&(Fe.I=kt),Fe.B&&(Ds(Fe),Or(Fe)),A.g=oe}else Ku(A);0<_.i.length&&Ma(_)}else Ge[0]!="stop"&&Ge[0]!="close"||es(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?es(_,7):tl(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}Is(4)}catch{}}var zu=class{constructor(c,y){this.g=c,this.map=y}};function Ki(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ba(c){return c.h?1:c.g?c.g.size:0}function Qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function wa(c,y){c.g?c.g.add(y):c.h=y}function mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ki.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Yo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ra(c),A=vf(c),z=A.length,Y=0;Y<z;Y++)y.call(void 0,A[Y],_&&_[Y],c)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var Y=c[_].substring(0,A);z=c[_].substring(A+1)}else Y=c[_];y(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function xt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xt){this.h=c.h,Vr(this,c.j),this.o=c.o,this.g=c.g,Os(this,c.s),this.l=c.l;var y=c.i,_=new Wi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Yi(this,_),this.m=c.m}else c&&(y=String(c).match(Pr))?(this.h=!1,Vr(this,y[1]||"",!0),this.o=Ln(y[2]||""),this.g=Ln(y[3]||"",!0),Os(this,y[4]),this.l=Ln(y[5]||"",!0),Yi(this,y[6]||"",!0),this.m=Ln(y[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}xt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(jr(y,Wo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(jr(y,Wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(jr(_,_.charAt(0)=="/"?Tf:Xo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",jr(_,Ca)),c.join("")};function Rn(c){return new xt(c)}function Vr(c,y,_){c.j=_?Ln(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Os(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Yi(c,y,_){y instanceof Wi?(c.i=y,Hu(c.i,c.h)):(_||(y=jr(y,Sf)),c.i=new Wi(y,c.h))}function at(c,y,_){c.i.set(y,_)}function kr(c){return at(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ln(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,qu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Xo=/[#\?:]/g,Tf=/[#\?]/g,Sf=/[#\?@]/g,Ca=/#/g;function Wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&Ef(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}s=Wi.prototype,s.add=function(c,y){Un(this),this.i=null,c=yi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Xi(c,y){Un(c),y=yi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zi(c,y){return Un(c),y=yi(c,y),c.g.has(y)}s.forEach=function(c,y){Un(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},s.na=function(){Un(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let Y=0;Y<z.length;Y++)_.push(y[A])}return _},s.V=function(c){Un(this);let y=[];if(typeof c=="string")Zi(this,c)&&(y=y.concat(this.g.get(yi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},s.set=function(c,y){return Un(this),this.i=null,c=yi(this,c),Zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Zo(c,y,_){Xi(c,y),0<_.length&&(c.i=null,c.g.set(yi(c,y),F(_)),c.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Y=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var z=Y;oe[A]!==""&&(z+="="+encodeURIComponent(String(oe[A]))),c.push(z)}}return this.i=c.join("&")};function yi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Hu(c,y){y&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(Xi(this,A),Zo(this,z,_))},c)),c.j=y}function Lr(c,y){const _=new jn;if(p.Image){const A=new Image;A.onload=L(Bn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=L(Bn,_,"TestLoadImage: error",!1,y,A),A.onabort=L(Bn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=L(Bn,_,"TestLoadImage: timeout",!1,y,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ni(c,y){const _=new jn,A=new AbortController,z=setTimeout(()=>{A.abort(),Bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Bn(_,"TestPingServer: ok",!0,y):Bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Bn(_,"TestPingServer: error",!1,y)})}function Bn(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Ur(){this.g=new Nr}function _i(c,y,_){const A=_||"";try{Yo(c,function(z,Y){let oe=z;m(z)&&(oe=ei(z)),y.push(A+Y+"="+encodeURIComponent(oe))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Ms(c){this.l=c.Ub||null,this.j=c.eb||!1}B(Ms,Bo),Ms.prototype.g=function(){return new Ji(this.l,this.j)},Ms.prototype.i=function(c){return function(){return c}}({});function Ji(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ji,Tt),s=Ji.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ei(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vi(this):Ei(this),this.readyState==3&&Jo(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,vi(this))},s.Qa=function(c){this.g&&(this.response=c,vi(this))},s.ga=function(){this.g&&vi(this)};function vi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ei(c)}s.setRequestHeader=function(c,y){this.u.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return Ce(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function qt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=el(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):at(c,y,_))}function et(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(et,Tt);var Ia=/^https?$/i,Br=["POST","PUT"];s=et.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?zo(this.o):zo(mi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Fu(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Br,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of _)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Fu(this,Y)}};function Fu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,xa(c),Ti(c)}function xa(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,it(this,"complete"),it(this,"abort"),Ti(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),et.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},s.bb=function(){Na(this)};function Na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)an(c.Ea,0,c);else if(it(c,"readystatechange"),zn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=oe===0){var z=String(c.D).match(Pr)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),A=!Ia.test(z?z.toLowerCase():"")}_=A}if(_)it(c,"complete"),it(c,"success");else{c.m=6;try{var Y=2<zn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",xa(c)}}finally{Ti(c)}}}}function Ti(c,y){if(c.g){zr(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||it(c,"ready");try{_.onreadystatechange=A}catch{}}}function zr(c){c.I&&(p.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ea(y)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Af(c){const y={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ie(c[A]))continue;var _=D(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[z]||[];y[z]=Y,Y.push(_)}V(y,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Da(c){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,c),this.cb=qr("retryDelaySeedMs",1e4,c),this.Wa=qr("forwardChannelMaxRetries",2,c),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(c&&c.concurrentRequestLimit),this.Da=new Ur,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Da.prototype,s.la=8,s.G=1,s.connect=function(c,y,_,A){pt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Zu(this,null,this.W),Ma(this)};function tl(c){if($u(c),c.G==3){var y=c.U++,_=Rn(c.I);if(at(_,"SID",c.K),at(_,"RID",y),at(_,"TYPE","terminate"),Hr(c,_),y=new dn(c,c.j,y),y.L=2,y.v=kr(Rn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Or(y)}Xu(c)}function Oa(c){c.g&&(Fr(c),c.g.cancel(),c.g=null)}function $u(c){Oa(c),c.u&&(p.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Ma(c){if(!Aa(c.h)&&!c.s){c.s=!0;var y=c.Ga;W||O(),le||(W(),le=!0),Re.add(y,c),c.B=0}}function bf(c,y){return ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=It(b(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new dn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Qu(this,z,y),_=Rn(this.I),at(_,"RID",c),at(_,"CVER",22),this.D&&at(_,"X-HTTP-Session-Id",this.D),Hr(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(el(Y)))+"&"+y:this.m&&qt(_,this.m,Y)),wa(this.h,z),this.Ua&&at(_,"TYPE","init"),this.P?(at(_,"$req",y),at(_,"SID","null"),z.T=!0,ti(z,_,null)):ti(z,_,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||Aa(this.h)||nl(this))};function nl(c,y){var _;y?_=y.l:_=c.U++;const A=Rn(c.I);at(A,"SID",c.K),at(A,"RID",_),at(A,"AID",c.T),Hr(c,A),c.m&&c.o&&qt(A,c.m,c.o),_=new dn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,_),ti(_,A,y)}function Hr(c,y){c.H&&Ce(c.H,function(_,A){at(y,A,_)}),c.l&&Yo({},function(_,A){at(y,A,_)})}function Qu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const oe=["count="+_];Y==-1?0<_?(Y=z[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Fe=!0;for(let kt=0;kt<_;kt++){let Ge=z[kt].g;const Ht=z[kt].map;if(Ge-=Y,0>Ge)Y=Math.max(0,z[kt].g-100),Fe=!1;else try{_i(Ht,oe,"req"+Ge+"_")}catch{A&&A(Ht)}}if(Fe){A=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;W||O(),le||(W(),le=!0),Re.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=It(b(c.Fa,c),sl(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=It(b(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Oa(this),Yu(this))};function Fr(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new dn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Rn(c.qa);at(y,"RID","rpc"),at(y,"SID",c.K),at(y,"AID",c.T),at(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&at(y,"TO",c.ja),at(y,"TYPE","xmlhttp"),Hr(c,y),c.m&&c.o&&qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=kr(Rn(y)),_.m=null,_.P=!0,Qi(_,c)}s.Za=function(){this.C!=null&&(this.C=null,Oa(this),il(this),pt(19))};function Pa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Wu(c,y){var _=null;if(c.g==y){Pa(c),Fr(c),c.g=null;var A=2}else if(Qo(c.h,y))_=y.D,mn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=Cs(),it(A,new Vt(A,_)),Ma(c)}else Ku(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&bf(c,y)||A==2&&il(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:es(c,5);break;case 4:es(c,10);break;case 3:es(c,6);break;default:es(c,2)}}}function sl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function es(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),A=c.Xa;const z=!A;A=new xt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Vr(A,"https"),kr(A),z?Lr(A.toString(),_):ni(A.toString(),_)}else pt(2);c.G=0,c.l&&c.l.sa(y),Xu(c),$u(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,_){var A=_ instanceof xt?Rn(_):new xt(_);if(A.g!="")y&&(A.g=y+"."+A.g),Os(A,A.s);else{var z=p.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Y=new xt(null);A&&Vr(Y,A),y&&(Y.g=y),z&&Os(Y,z),_&&(Y.l=_),A=Y}return _=c.D,y=c.ya,_&&y&&at(A,_,y),at(A,"VER",c.la),Hr(c,A),A}function Ju(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new et(new Ms({eb:_})):new et(c.pa),y.Ha(c.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}s=ec.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Va(){}Va.prototype.g=function(c,y){return new pn(c,y)};function pn(c,y){Tt.call(this),this.g=new Da(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}B(pn,Tt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){tl(this.g)},pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ei(c),c=_);y.i.push(new zu(y.Ya++,c)),y.G==3&&Ma(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,pn.aa.N.call(this)};function tc(c){Gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(tc,Gi);function nc(){Ho.call(this),this.status=1}B(nc,Ho);function Si(c){this.g=c}B(Si,ec),Si.prototype.ua=function(){it(this.g,"a")},Si.prototype.ta=function(c){it(this.g,new tc(c))},Si.prototype.sa=function(c){it(this.g,new nc)},Si.prototype.ra=function(){it(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,W0=function(){return new Va},Y0=function(){return Cs()},K0=di,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,dh=Ns,$i.COMPLETE="complete",Q0=$i,qo.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Xl=qo,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,$0=et}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",Wv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Sp("@firebase/firestore");function ho(){return ha.logLevel}function ue(s,...e){if(ha.logLevel<=Be.DEBUG){const n=e.map(wp);ha.debug(`Firestore (${Mo}): ${s}`,...n)}}function bs(s,...e){if(ha.logLevel<=Be.ERROR){const n=e.map(wp);ha.error(`Firestore (${Mo}): ${s}`,...n)}}function So(s,...e){if(ha.logLevel<=Be.WARN){const n=e.map(wp);ha.warn(`Firestore (${Mo}): ${s}`,...n)}}function wp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,X0(s,r,n)}function X0(s,e,n){let r=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function tt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||X0(e,o,r)}function Ne(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class m2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p2{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new Z0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class g2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=v2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function ze(s,e){return s<e?-1:s>e?1:0}function Km(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Im(o)===Im(u)?ze(o,u):Im(o)?1:-1}return ze(s.length,e.length)}const E2=55296,T2=57343;function Im(s){const e=s.charCodeAt(0);return e>=E2&&e<=T2}function Ao(s,e,n){return s.length===e.length&&s.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="__name__";class xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const r=xi.isNumericId(e),o=xi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class _t extends xi{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const S2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends xi{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return S2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zv}static keyField(){return new tn([Zv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(_t.fromString(e))}static fromName(e){return new _e(_t.fromString(e).popFirst(5))}static empty(){return new _e(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(s,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function b2(s,e,n,r){if(e===!0&&r===!0)throw new pe(re.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Jv(s){if(!_e.isDocumentKey(s))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function J0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Cp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cp(s);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(s,e){const n={typeString:s};return e&&(n.value=e),n}function bu(s,e){if(!J0(s))throw new pe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new pe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=-62135596800,tE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tE);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eE)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Mt("string",mt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new mt(0,0))}static max(){return new xe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function w2(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new dr(o,_e.empty(),e)}function R2(s){return new dr(s.readTime,s.key,cu)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(xe.min(),_e.empty(),cu)}static max(){return new dr(xe.max(),_e.empty(),cu)}}function C2(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(s.documentKey,e.documentKey),n!==0?n:ze(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==I2)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>r(g))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(o=>o?ne.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,u)=>{r.push(n.call(this,o,u))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next(E=>{f[m]=E,++p,p===u&&r(f)},E=>o(E))}})}static doWhile(e,n){return new ne((r,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):r()};u()})}}function N2(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Yh(s){return s==null}function Rh(s){return s===0&&1/s==-1/0}function D2(s){return typeof s=="number"&&Number.isInteger(s)&&!Rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="";function O2(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=nE(e)),e=M2(s.get(n),e);return nE(e)}function M2(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case eT:n+="";break;default:n+=u}}return n}function nE(s){return s+eT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Tr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function tT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new en(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new zt(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nT("Invalid base64 string: "+u):u}}(e);return new sn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const n=P2.exec(s);if(tt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="server_timestamp",sT="__type__",rT="__previous_value__",aT="__local_write_time__";function xp(s){return(s?.mapValue?.fields||{})[sT]?.stringValue===iT}function Wh(s){const e=s.mapValue.fields[rT];return xp(e)?Wh(e):e}function hu(s){const e=mr(s.mapValue.fields[aT].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r,o,u,f,p,g,m,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=E}}const Ch="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",k2="__max__",ah={mapValue:{}},lT="__vector__",Ih="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?xp(s)?4:L2(s)?9007199254740991:j2(s)?10:11:Ae(28295,{value:s})}function Li(s,e){if(s===e)return!0;const n=gr(s);if(n!==gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return hu(s).isEqual(hu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=mr(o.timestampValue),p=mr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,u){return pr(o.bytesValue).isEqual(pr(u.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)}(s,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ct(o.doubleValue),p=Ct(u.doubleValue);return f===p?Rh(f)===Rh(p):isNaN(f)&&isNaN(p)}return!1}(s,e);case 9:return Ao(s.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(iE(f)!==iE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Li(f[g],p[g])))return!1;return!0}(s,e);default:return Ae(52216,{left:s})}}function du(s,e){return(s.values||[]).find(n=>Li(n,e))!==void 0}function bo(s,e){if(s===e)return 0;const n=gr(s),r=gr(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return function(u,f){const p=Ct(u.integerValue||u.doubleValue),g=Ct(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(s,e);case 3:return rE(s.timestampValue,e.timestampValue);case 4:return rE(hu(s),hu(e));case 5:return Km(s.stringValue,e.stringValue);case 6:return function(u,f){const p=pr(u),g=pr(f);return p.compareTo(g)}(s.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let m=0;m<p.length&&m<g.length;m++){const E=ze(p[m],g[m]);if(E!==0)return E}return ze(p.length,g.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,f){const p=ze(Ct(u.latitude),Ct(f.latitude));return p!==0?p:ze(Ct(u.longitude),Ct(f.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return aE(s.arrayValue,e.arrayValue);case 10:return function(u,f){const p=u.fields||{},g=f.fields||{},m=p[Ih]?.arrayValue,E=g[Ih]?.arrayValue,w=ze(m?.values?.length||0,E?.values?.length||0);return w!==0?w:aE(m,E)}(s.mapValue,e.mapValue);case 11:return function(u,f){if(u===ah.mapValue&&f===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(f===ah.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=f.fields||{},E=Object.keys(m);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const b=Km(g[w],E[w]);if(b!==0)return b;const L=bo(p[g[w]],m[E[w]]);if(L!==0)return L}return ze(g.length,E.length)}(s.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function rE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const n=mr(s),r=mr(e),o=ze(n.seconds,r.seconds);return o!==0?o:ze(n.nanos,r.nanos)}function aE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=bo(n[o],r[o]);if(u)return u}return ze(n.length,r.length)}function wo(s){return Ym(s)}function Ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return pr(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return _e.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Ym(u);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"}(s.mapValue):Ae(61005,{value:s})}function mh(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(s);return e?16+mh(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+mh(u),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return Tr(r.fields,(u,f)=>{o+=u.length+mh(f)}),o}(s.mapValue);default:throw Ae(13486,{value:s})}}function Wm(s){return!!s&&"integerValue"in s}function Np(s){return!!s&&"arrayValue"in s}function oE(s){return!!s&&"nullValue"in s}function lE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ph(s){return!!s&&"mapValue"in s}function j2(s){return(s?.mapValue?.fields||{})[oT]?.stringValue===lT}function iu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,(n,r)=>e.mapValue.fields[n]=iu(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(s.arrayValue.values[n]);return e}return{...s}}function L2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===k2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=tn.emptyPath(),r={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=iu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Tr(n,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new An(iu(this.value))}}function uT(s){const e=[];return Tr(s.fields,(n,r)=>{const o=new tn([n]);if(ph(r)){const u=uT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,o,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new hn(e,0,xe.min(),xe.min(),xe.min(),An.empty(),0)}static newFoundDocument(e,n,r,o){return new hn(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new hn(e,2,n,xe.min(),xe.min(),An.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,xe.min(),xe.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function uE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=_e.comparator(_e.fromName(f.referenceValue),n.key):r=bo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Li(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function U2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{}class Bt extends cT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z2(e,n,r):n==="array-contains"?new F2(e,r):n==="in"?new G2(e,r):n==="not-in"?new $2(e,r):n==="array-contains-any"?new Q2(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q2(e,r):new H2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&gr(this.value)===gr(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return hT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hT(s){return s.op==="and"}function fT(s){return B2(s)&&hT(s)}function B2(s){for(const e of s.filters)if(e instanceof Ui)return!1;return!0}function Xm(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+wo(s.value);if(fT(s))return s.filters.map(e=>Xm(e)).join(",");{const e=s.filters.map(n=>Xm(n)).join(",");return`${s.op}(${e})`}}function dT(s,e){return s instanceof Bt?function(r,o){return o instanceof Bt&&r.op===o.op&&r.field.isEqual(o.field)&&Li(r.value,o.value)}(s,e):s instanceof Ui?function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,f,p)=>u&&dT(f,o.filters[p]),!0):!1}(s,e):void Ae(19439)}function mT(s){return s instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(s):s instanceof Ui?function(n){return n.op.toString()+" {"+n.getFilters().map(mT).join(" ,")+"}"}(s):"Filter"}class z2 extends Bt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class q2 extends Bt{constructor(e,n){super(e,"in",n),this.keys=pT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H2 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=pT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pT(s,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class F2 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&du(n.arrayValue,this.value)}}class G2 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class $2 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class Q2 extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n=null,r=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function hE(s,e=null,n=[],r=[],o=null,u=null,f=null){return new K2(s,e,n,r,o,u,f)}function Dp(s){const e=Ne(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.Te=n}return e.Te}function Op(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!U2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!dT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!cE(s.startAt,e.startAt)&&cE(s.endAt,e.endAt)}function Zm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n=null,r=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y2(s,e,n,r,o,u,f,p){return new Xh(s,e,n,r,o,u,f,p)}function Zh(s){return new Xh(s)}function fE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function W2(s){return s.collectionGroup!==null}function su(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new zt(tn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(m=>{m.isInequality()&&(p=p.add(m.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Nh(u,r))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new Nh(tn.keyField(),r))}return e.Ie}function Oi(s){const e=Ne(s);return e.Ee||(e.Ee=X2(e,su(s))),e.Ee}function X2(s,e){if(s.limitType==="F")return hE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nh(o.field,u)});const n=s.endAt?new xh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new xh(s.startAt.position,s.startAt.inclusive):null;return hE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Jm(s,e,n){return new Xh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Jh(s,e){return Op(Oi(s),Oi(e))&&s.limitType===e.limitType}function gT(s){return`${Dp(Oi(s))}|lt:${s.limitType}`}function fo(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>mT(o)).join(", ")}]`),Yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>wo(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>wo(o)).join(",")),`Target(${r})`}(Oi(s))}; limitType=${s.limitType})`}function ef(s,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_e.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(s,e)&&function(r,o){for(const u of su(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(s,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(s,e)&&function(r,o){return!(r.startAt&&!function(f,p,g){const m=uE(f,p,g);return f.inclusive?m<=0:m<0}(r.startAt,su(r),o)||r.endAt&&!function(f,p,g){const m=uE(f,p,g);return f.inclusive?m>=0:m>0}(r.endAt,su(r),o))}(s,e)}function Z2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yT(s){return(e,n)=>{let r=!1;for(const o of su(s)){const u=J2(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function J2(s,e,n){const r=s.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,p){const g=f.data.field(u),m=p.data.field(u);return g!==null&&m!==null?bo(g,m):Ae(42886)}(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,(n,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new Et(_e.comparator);function ws(){return eI}const _T=new Et(_e.comparator);function Zl(...s){let e=_T;for(const n of s)e=e.insert(n.key,n);return e}function vT(s){let e=_T;return s.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oa(){return ru()}function ET(){return ru()}function ru(){return new ga(s=>s.toString(),(s,e)=>s.isEqual(e))}const tI=new Et(_e.comparator),nI=new zt(_e.comparator);function qe(...s){let e=nI;for(const n of s)e=e.add(n);return e}const iI=new zt(ze);function sI(){return iI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function TT(s){return{integerValue:""+s}}function rI(s,e){return D2(e)?TT(e):Mp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function aI(s,e,n){return s instanceof Dh?function(o,u){const f={fields:{[sT]:{stringValue:iT},[aT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=Wh(u)),u&&(f.fields[rT]=u),{mapValue:f}}(n,e):s instanceof Ro?AT(s,e):s instanceof mu?bT(s,e):function(o,u){const f=ST(o,u),p=dE(f)+dE(o.Ae);return Wm(f)&&Wm(o.Ae)?TT(p):Mp(o.serializer,p)}(s,e)}function oI(s,e,n){return s instanceof Ro?AT(s,e):s instanceof mu?bT(s,e):n}function ST(s,e){return s instanceof Oh?function(r){return Wm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class Dh extends tf{}class Ro extends tf{constructor(e){super(),this.elements=e}}function AT(s,e){const n=wT(e);for(const r of s.elements)n.some(o=>Li(o,r))||n.push(r);return{arrayValue:{values:n}}}class mu extends tf{constructor(e){super(),this.elements=e}}function bT(s,e){let n=wT(e);for(const r of s.elements)n=n.filter(o=>!Li(o,r));return{arrayValue:{values:n}}}class Oh extends tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dE(s){return Ct(s.integerValue||s.doubleValue)}function wT(s){return Np(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.field=e,this.transform=n}}function uI(s,e){return s.field.isEqual(e.field)&&function(r,o){return r instanceof Ro&&o instanceof Ro||r instanceof mu&&o instanceof mu?Ao(r.elements,o.elements,Li):r instanceof Oh&&o instanceof Oh?Li(r.Ae,o.Ae):r instanceof Dh&&o instanceof Dh}(s.transform,e.transform)}class cI{constructor(e,n){this.version=e,this.transformResults=n}}class Mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class nf{}function RT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new IT(s.key,Mi.none()):new wu(s.key,s.data,Mi.none());{const n=s.data,r=An.empty();let o=new zt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Sr(s.key,r,new Vn(o.toArray()),Mi.none())}}function hI(s,e,n){s instanceof wu?function(o,u,f){const p=o.value.clone(),g=pE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(s,e,n):s instanceof Sr?function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=pE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(CT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(s,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function au(s,e,n,r){return s instanceof wu?function(u,f,p,g){if(!gh(u.precondition,f))return p;const m=u.value.clone(),E=gE(u.fieldTransforms,g,f);return m.setAll(E),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null}(s,e,n,r):s instanceof Sr?function(u,f,p,g){if(!gh(u.precondition,f))return p;const m=gE(u.fieldTransforms,g,f),E=f.data;return E.setAll(CT(u)),E.setAll(m),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(s,e,n,r):function(u,f,p){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(s,e,n)}function fI(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=ST(r.transform,o||null);u!=null&&(n===null&&(n=An.empty()),n.set(r.field,u))}return n||null}function mE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ao(r,o,(u,f)=>uI(u,f))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class wu extends nf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends nf{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CT(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}}),e}function pE(s,e,n){const r=new Map;tt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=e.data.field(u.field);r.set(u.field,oI(f,p,n[o]))}return r}function gE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,aI(u,f,e))}return r}class IT extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dI extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hI(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ET();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=RT(f,p);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,r)=>mE(n,r))&&Ao(this.baseMutations,e.baseMutations,(n,r)=>mE(n,r))}}class Pp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return tI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Pp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Qe;function yI(s){switch(s){case re.OK:return Ae(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function xT(s){if(s===void 0)return bs("GRPC error has no .code"),re.UNKNOWN;switch(s){case Ot.OK:return re.OK;case Ot.CANCELLED:return re.CANCELLED;case Ot.UNKNOWN:return re.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return re.INTERNAL;case Ot.UNAVAILABLE:return re.UNAVAILABLE;case Ot.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ot.NOT_FOUND:return re.NOT_FOUND;case Ot.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ot.ABORTED:return re.ABORTED;case Ot.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ot.DATA_LOSS:return re.DATA_LOSS;default:return Ae(39323,{code:s})}}(Qe=Ot||(Ot={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new cr([4294967295,4294967295],0);function yE(s){const e=_I().encode(s),n=new G0;return n.update(e),new Uint8Array(n.digest())}function _E(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cr([n,r],0),new cr([o,u],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(cr.fromNumber(r)));return o.compare(vI)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yE(e),[r,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return r.forEach(p=>f.insert(p)),f}insert(e){if(this.ge===0)return;const n=yE(e),[r,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sf(xe.min(),o,new Et(ze),ws(),qe())}}class Ru{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class NT{constructor(e,n){this.targetId=e,this.Ce=n}}class DT{constructor(e,n,r=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class vE{constructor(){this.ve=0,this.Fe=EE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:u})}}),new Ru(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=EE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=oh(),this.He=oh(),this.Ye=new Et(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zm(u))if(r===0){const f=new _e(u.path);this.et(n,f,hn.newNoDocument(f,xe.min()))}else tt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=pr(r).toUint8Array()}catch(g){if(g instanceof nT)return So("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Vp(f,o,u)}catch(g){return So(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Zm(p.target)){const g=new _e(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,hn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let r=qe();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new sf(e,n,this.Ye,this.je,r);return this.je=ws(),this.Je=oh(),this.He=oh(),this.Ye=new Et(ze),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new vE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new Et(_e.comparator)}function EE(){return new Et(_e.comparator)}const TI={asc:"ASCENDING",desc:"DESCENDING"},SI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AI={and:"AND",or:"OR"};class bI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(s,e){return s.useProto3Json||Yh(e)?e:{value:e}}function Mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function wI(s,e){return Mh(s,e.toTimestamp())}function Pi(s){return tt(!!s,49232),xe.fromTimestamp(function(n){const r=mr(n);return new mt(r.seconds,r.nanos)}(s))}function kp(s,e){return tp(s,e).canonicalString()}function tp(s,e){const n=function(o){return new _t(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?n:n.child(e)}function MT(s){const e=_t.fromString(s);return tt(LT(e),10190,{key:e.toString()}),e}function np(s,e){return kp(s.databaseId,e.path)}function xm(s,e){const n=MT(e);if(n.get(1)!==s.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new _e(VT(n))}function PT(s,e){return kp(s.databaseId,e)}function RI(s){const e=MT(s);return e.length===4?_t.emptyPath():VT(e)}function ip(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function VT(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function TE(s,e,n){return{name:np(s,e),fields:n.value.mapValue.fields}}function CI(s,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(m,E){return m.useProto3Json?(tt(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(tt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(m){const E=m.code===void 0?re.UNKNOWN:xT(m.code);return new pe(E,m.message||"")}(f);n=new DT(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=xm(s,r.document.name),u=Pi(r.document.updateTime),f=r.document.createTime?Pi(r.document.createTime):xe.min(),p=new An({mapValue:{fields:r.document.fields}}),g=hn.newFoundDocument(o,u,f,p),m=r.targetIds||[],E=r.removedTargetIds||[];n=new yh(m,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=xm(s,r.document),u=r.readTime?Pi(r.readTime):xe.min(),f=hn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new yh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=xm(s,r.document),u=r.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new gI(o,u),p=r.targetId;n=new NT(p,f)}}return n}function II(s,e){let n;if(e instanceof wu)n={update:TE(s,e.key,e.value)};else if(e instanceof IT)n={delete:np(s,e.key)};else if(e instanceof Sr)n={update:TE(s,e.key,e.data),updateMask:jI(e.fieldMask)};else{if(!(e instanceof dI))return Ae(16599,{Vt:e.type});n={verify:np(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(u,f){const p=f.transform;if(p instanceof Dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ro)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:f.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(s,e.precondition)),n}function xI(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map(n=>function(o,u){let f=o.updateTime?Pi(o.updateTime):Pi(u);return f.isEqual(xe.min())&&(f=Pi(u)),new cI(f,o.transformResults||[])}(n,e))):[]}function NI(s,e){return{documents:[PT(s,e.path)]}}function DI(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PT(s,o);const u=function(m){if(m.length!==0)return jT(Ui.create(m,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(m){if(m.length!==0)return m.map(E=>function(b){return{field:mo(b.field),direction:PI(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=ep(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:n,parent:o}}function OI(s){let e=RI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){tt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const b=kT(w);return b instanceof Ui&&fT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(b=>function(B){return new Nh(po(B.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(b))}(n.orderBy));let p=null;n.limit&&(p=function(w){let b;return b=typeof w=="object"?w.value:w,Yh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(w){const b=!!w.before,L=w.values||[];return new xh(L,b)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const b=!w.before,L=w.values||[];return new xh(L,b)}(n.endAt)),Y2(e,o,f,u,p,"F",g,m)}function MI(s,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return Bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(s):s.fieldFilter!==void 0?function(n){return Bt.create(po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Ui.create(n.compositeFilter.filters.map(r=>kT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(s):Ae(30097,{filter:s})}function PI(s){return TI[s]}function VI(s){return SI[s]}function kI(s){return AI[s]}function mo(s){return{fieldPath:s.canonicalString()}}function po(s){return tn.fromServerFormat(s.fieldPath)}function jT(s){return s instanceof Bt?function(n){if(n.op==="=="){if(lE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:VI(n.op),value:n.value}}}(s):s instanceof Ui?function(n){const r=n.getFilters().map(o=>jT(o));return r.length===1?r[0]:{compositeFilter:{op:kI(n.op),filters:r}}}(s):Ae(54877,{filter:s})}function jI(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,o,u=xe.min(),f=xe.min(),p=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.yt=e}}function UI(s){const e=OI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.Cn=new zI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(dr.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class zI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new zt(_t.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new zt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(UT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="LruGarbageCollector",qI=1048576;function bE([s,e],[n,r]){const o=ze(s,n);return o===0?ze(e,r):o}class HI{constructor(e){this.Ir=e,this.buffer=new zt(bE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(AE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?ue(AE,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Vr(3e5)})}}class GI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Kh.ce);const r=new HI(n);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(SE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,f,p,g,m;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,p=Date.now(),this.removeTargets(e,r,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),ho()<=Be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(m-g)+`ms
Total Duration: ${m-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function $I(s,e){return new GI(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&au(r.mutation,o,Vn.empty(),mt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const o=oa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(u=>{let f=Zl();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const o=[];return r.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,r,o){let u=ws();const f=ru(),p=function(){return ru()}();return n.forEach((g,m)=>{const E=r.get(m.key);o.has(m.key)&&(E===void 0||E.mutation instanceof Sr)?u=u.insert(m.key,m):E!==void 0?(f.set(m.key,E.mutation.getFieldMask()),au(E.mutation,m,E.mutation.getFieldMask(),mt.now())):f.set(m.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((m,E)=>f.set(m,E)),n.forEach((m,E)=>p.set(m,new KI(E,f.get(m)??null))),p))}recalculateAndSaveOverlays(e,n){const r=ru();let o=new Et((f,p)=>f-p),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const m=n.get(g);if(m===null)return;let E=r.get(g)||Vn.empty();E=p.applyToLocalView(m,E),r.set(g,E);const w=(o.get(p.batchId)||qe()).add(g);o=o.insert(p.batchId,w)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,E=g.value,w=ET();E.forEach(b=>{if(!u.has(b)){const L=RT(n.get(b),r.get(b));L!==null&&w.set(b,L),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,m,w))}return ne.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ne.resolve(oa());let p=cu,g=u;return f.next(m=>ne.forEach(m,(E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{g=g.insert(E,b)}))).next(()=>this.populateOverlays(e,m,u)).next(()=>this.computeViews(e,g,m,qe())).next(E=>({batchId:p,changes:vT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let o=Zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next(p=>ne.forEach(p,g=>{const m=function(w,b){return new Xh(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(E=>{E.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o))).next(f=>{u.forEach((g,m)=>{const E=m.getKey();f.get(E)===null&&(f=f.insert(E,hn.newInvalidDocument(E)))});let p=Zl();return f.forEach((g,m)=>{const E=u.get(g);E!==void 0&&au(E.mutation,m,Vn.empty(),mt.now()),ef(n,m)&&(p=p.insert(g,m))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:UI(o.bundledQuery),readTime:Pi(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.overlays=new Et(_e.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const o=oa(),u=n.length+1,f=new _e(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Et((m,E)=>m-E);const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let E=u.get(m.largestBatchId);E===null&&(E=oa(),u=u.insert(m.largestBatchId,E)),E.set(m.getKey(),m)}}const p=oa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((m,E)=>p.set(m,E)),!(p.size()>=o)););return ne.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new pI(n,r));let u=this.qr.get(n);u===void 0&&(u=qe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Qr=new zt(Qt.$r),this.Ur=new zt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new _e(new _t([])),r=new Qt(n,e),o=new Qt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new _t([])),r=new Qt(n,e),o=new Qt(n,e+1);let u=qe();return this.Ur.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Qt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new mI(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(ze);return n.forEach(o=>{const u=new Qt(o,0),f=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{r=r.add(p.Yr)})}),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;_e.isDocumentKey(u)||(u=u.child(""));const f=new Qt(new _e(u),0);let p=new zt(ze);return this.Zr.forEachWhile(g=>{const m=g.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)},f),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,o=>{const u=new Qt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Qt(n,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.ri=e,this.docs=function(){return new Et(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=ws();return n.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():hn.newInvalidDocument(o))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=ws();const f=n.path,p=new _e(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:E}}=g.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||C2(R2(E),r)<=0||(o.has(E.key)||ef(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ae(9500)}ii(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tx(this)}getSize(e){return ne.resolve(this.size)}}class tx extends QI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.persistence=e,this.si=new ga(n=>Dp(n),Op),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,n){return this.si.forEach((r,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new ZI,this.referenceDelegate=e(this),this.Pi=new nx(this),this.indexManager=new BI,this.remoteDocumentCache=function(o){return new ex(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new LI(n),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new JI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new ix(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ne.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class ix extends x2{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new jp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,r=>{const o=_e.fromPath(r);return this.gi(e,o).next(u=>{u||n.removeEntry(o,xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new ga(r=>O2(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=$I(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(r,o)=>this.br(e,r,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(p=>{p||(r++,u.removeEntry(f,xe.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YR()?8:N2(fn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new sx;return this.Ss(e,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)})}).next(()=>u.result)}bs(e,n,r,o){return r.documentReadCount<this.fs?(ho()<=Be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ho()<=Be.DEBUG&&ue("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ho()<=Be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):ne.resolve())}ys(e,n){if(fE(n))return ne.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const f=qe(...u);return this.ps.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,r).next(g=>{const m=this.Ds(n,p);return this.Cs(n,m,f,g.readTime)?this.ys(e,Jm(n,null,"F")):this.vs(e,m,n,g)}))})))}ws(e,n,r,o){return fE(n)||o.isEqual(xe.min())?ne.resolve(null):this.ps.getDocuments(e,r).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?ne.resolve(null):(ho()<=Be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,f,n,w2(o,cu)).next(p=>p))})}Ds(e,n){let r=new zt(yT(e));return n.forEach((o,u)=>{ef(e,u)&&(r=r.add(u))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return ho()<=Be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,dr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",ax=3e8;class ox{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Et(ze),this.xs=new ga(u=>Dp(u),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function lx(s,e,n,r){return new ox(s,e,n,r)}async function zT(s,e){const n=Ne(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],p=[];let g=qe();for(const m of o){f.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}for(const m of u){p.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next(m=>({Ls:m,removedBatchIds:f,addedBatchIds:p}))})})}function ux(s,e){const n=Ne(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,g,m,E){const w=m.batch,b=w.keys();let L=ne.resolve();return b.forEach(B=>{L=L.next(()=>E.getEntry(g,B)).next(F=>{const U=m.docVersions.get(B);tt(U!==null,48541),F.version.compareTo(U)<0&&(w.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),E.addEntry(F)))})}),L.next(()=>p.mutationQueue.removeMutationBatch(g,w))}(n,r,e,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let g=qe();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function qT(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function cx(s,e){const n=Ne(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach((E,w)=>{const b=o.get(w);if(!b)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w)));let L=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(sn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),o=o.insert(w,L),function(F,U,K){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=ax?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,L,E)&&p.push(n.Pi.updateTargetData(u,L))});let g=ws(),m=qe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(hx(u,f,e.documentUpdates).next(E=>{g=E.ks,m=E.qs})),!r.isEqual(xe.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(E)}return ne.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,m)).next(()=>g)}).then(u=>(n.Ms=o,u))}function hx(s,e,n){let r=qe(),o=qe();return n.forEach(u=>r=r.add(u)),e.getEntries(s,r).next(u=>{let f=ws();return n.forEach((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ue(Bp,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)}),{ks:f,qs:o}})}function fx(s,e){const n=Ne(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dx(s,e){const n=Ne(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Pi.getTargetData(r,e).next(u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(r).next(f=>(o=new ar(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sp(s,e,n){const r=Ne(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Vo(f))throw f;ue(Bp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function wE(s,e,n){const r=Ne(s);let o=xe.min(),u=qe();return r.persistence.runTransaction("Execute query","readwrite",f=>function(g,m,E){const w=Ne(g),b=w.xs.get(E);return b!==void 0?ne.resolve(w.Ms.get(b)):w.Pi.getTargetData(m,E)}(r,f,Oi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next(g=>{u=g})}).next(()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:qe())).next(p=>(mx(r,Z2(e),p),{documents:p,Qs:u})))}function mx(s,e,n){let r=s.Os.get(e)||xe.min();n.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),s.Os.set(e,r)}class RE{constructor(){this.activeTargetIds=sI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class px{constructor(){this.Mo=new RE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="ConnectivityMonitor";class IE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(CE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(CE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function rp(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _x{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const f=rp(),p=this.zo(e,n.toUriEncodedString());ue(Nm,`Sending RPC '${e}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),E=Do(m);return this.Jo(e,p,g,r,E).then(w=>(ue(Nm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw So(Nm,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",r),w})}Ho(e,n,r,o,u,f){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const r=yx[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Ex extends _x{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const f=rp();return new Promise((p,g)=>{const m=new $0;m.setWithCredentials(!0),m.listenOnce(Q0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case dh.NO_ERROR:const w=m.getResponseJson();ue(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),p(w);break;case dh.TIMEOUT:ue(un,`RPC '${e}' ${f} timed out`),g(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const b=m.getStatus();if(ue(un,`RPC '${e}' ${f} failed with status:`,b,"response text:",m.getResponseText()),b>0){let L=m.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L?.error;if(B&&B.status&&B.message){const F=function(K){const ie=K.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ie)>=0?ie:re.UNKNOWN}(B.status);g(new pe(F,B.message))}else g(new pe(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new pe(re.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(un,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(un,`RPC '${e}' ${f} sending request:`,o),m.send(n,"POST",E,r,15)})}T_(e,n,r){const o=rp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=W0(),p=Y0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(un,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);this.I_(w);let b=!1,L=!1;const B=new vx({Yo:U=>{L?ue(un,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(b||(ue(un,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),ue(un,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Zo:()=>w.close()}),F=(U,K,ie)=>{U.listen(K,se=>{try{ie(se)}catch(he){setTimeout(()=>{throw he},0)}})};return F(w,Xl.EventType.OPEN,()=>{L||(ue(un,`RPC '${e}' stream ${o} transport opened.`),B.o_())}),F(w,Xl.EventType.CLOSE,()=>{L||(L=!0,ue(un,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(w))}),F(w,Xl.EventType.ERROR,U=>{L||(L=!0,So(un,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),B.a_(new pe(re.UNAVAILABLE,"The operation could not be completed")))}),F(w,Xl.EventType.MESSAGE,U=>{if(!L){const K=U.data[0];tt(!!K,16349);const ie=K,se=ie?.error||ie[0]?.error;if(se){ue(un,`RPC '${e}' stream ${o} received error:`,se);const he=se.status;let ce=function(R){const x=Ot[R];if(x!==void 0)return xT(x)}(he),Ce=se.message;ce===void 0&&(ce=re.INTERNAL,Ce="Unknown error status: "+he+" with message "+se.message),L=!0,B.a_(new pe(ce,Ce)),w.close()}else ue(un,`RPC '${e}' stream ${o} received:`,K),B.u_(K)}}),F(p,K0.STAT_EVENT,U=>{U.stat===Qm.PROXY?ue(un,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Qm.NOPROXY&&ue(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.__()},0),B}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(s){return new bI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="PersistentStream";class FT{constructor(e,n,r,o,u,f,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===n&&this.G_(r,o)},r=>{e(()=>{const o=new pe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(xE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tx extends FT{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CI(this.serializer,e),r=function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Pi(f.readTime):xe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=function(u,f){let p;const g=f.target;if(p=Zm(g)?{documents:NI(u,g)}:{query:DI(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=OT(u,f.resumeToken);const m=ep(u,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(xe.min())>0){p.readTime=Mh(u,f.snapshotVersion.toTimestamp());const m=ep(u,f.expectedCount);m!==null&&(p.expectedCount=m)}return p}(this.serializer,e);const r=MI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class Sx extends FT{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xI(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>II(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{}class bx extends Ax{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,tp(n,r),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(re.UNKNOWN,u.toString())})}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(e,tp(n,r),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(re.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class Rx{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{r.enqueueAndForget(async()=>{ya(this)&&(ue(fa,"Restarting streams for network reachability change."),await async function(g){const m=Ne(g);m.Ea.add(4),await Cu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await af(m)}(this))})}),this.Ra=new wx(r,o)}}async function af(s){if(ya(s))for(const e of s.da)await e(!0)}async function Cu(s){for(const e of s.da)await e(!1)}function GT(s,e){const n=Ne(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fp(n)?Hp(n):ko(n).O_()&&qp(n,e))}function zp(s,e){const n=Ne(s),r=ko(n);n.Ia.delete(e),r.O_()&&$T(n,e),n.Ia.size===0&&(r.O_()?r.L_():ya(n)&&n.Ra.set("Unknown"))}function qp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(s).Y_(e)}function $T(s,e){s.Va.Ue(e),ko(s).Z_(e)}function Hp(s){s.Va=new EI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ko(s).start(),s.Ra.ua()}function Fp(s){return ya(s)&&!ko(s).x_()&&s.Ia.size>0}function ya(s){return Ne(s).Ea.size===0}function QT(s){s.Va=void 0}async function Cx(s){s.Ra.set("Online")}async function Ix(s){s.Ia.forEach((e,n)=>{qp(s,e)})}async function xx(s,e){QT(s),Fp(s)?(s.Ra.ha(e),Hp(s)):s.Ra.set("Unknown")}async function Nx(s,e,n){if(s.Ra.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(s,e)}catch(r){ue(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(s,r)}else if(e instanceof yh?s.Va.Ze(e):e instanceof NT?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const r=await qT(s.localStore);n.compareTo(r)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(m);E&&u.Ia.set(m,E.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,m)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),$T(u,g);const w=new ar(E.target,g,m,E.sequenceNumber);qp(u,w)}),u.remoteSyncer.applyRemoteEvent(p)}(s,n)}catch(r){ue(fa,"Failed to raise snapshot:",r),await Vh(s,r)}}async function Vh(s,e,n){if(!Vo(e))throw e;s.Ea.add(1),await Cu(s),s.Ra.set("Offline"),n||(n=()=>qT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ue(fa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await af(s)})}function KT(s,e){return e().catch(n=>Vh(s,n,e))}async function of(s){const e=Ne(s),n=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;Dx(e);)try{const o=await fx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Ox(e,o)}catch(o){await Vh(e,o)}YT(e)&&WT(e)}function Dx(s){return ya(s)&&s.Ta.length<10}function Ox(s,e){s.Ta.push(e);const n=yr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function YT(s){return ya(s)&&!yr(s).x_()&&s.Ta.length>0}function WT(s){yr(s).start()}async function Mx(s){yr(s).ra()}async function Px(s){const e=yr(s);for(const n of s.Ta)e.ea(n.mutations)}async function Vx(s,e,n){const r=s.Ta.shift(),o=Pp.from(r,e,n);await KT(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await of(s)}async function kx(s,e){e&&yr(s).X_&&await async function(r,o){if(function(f){return yI(f)&&f!==re.ABORTED}(o.code)){const u=r.Ta.shift();yr(r).B_(),await KT(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(r)}}(s,e),YT(s)&&WT(s)}async function NE(s,e){const n=Ne(s);n.asyncQueue.verifyOperationInProgress(),ue(fa,"RemoteStore received new credentials");const r=ya(n);n.Ea.add(3),await Cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await af(n)}async function jx(s,e){const n=Ne(s);e?(n.Ea.delete(2),await af(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function ko(s){return s.ma||(s.ma=function(n,r,o){const u=Ne(n);return u.sa(),new Tx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(s.datastore,s.asyncQueue,{Xo:Cx.bind(null,s),t_:Ix.bind(null,s),r_:xx.bind(null,s),H_:Nx.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Fp(s)?Hp(s):s.Ra.set("Unknown")):(await s.ma.stop(),QT(s))})),s.ma}function yr(s){return s.fa||(s.fa=function(n,r,o){const u=Ne(n);return u.sa(),new Sx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mx.bind(null,s),r_:kx.bind(null,s),ta:Px.bind(null,s),na:Vx.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await of(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(fa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,p=new Gp(e,n,f,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Vo(s))return new pe(re.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.ga=new Et(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,o,u,f,p,g,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Io(e,n,go.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ux{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),u=o.queries;o.queries=OE(),u.forEach((f,p)=>{for(const g of p.Sa)g.onError(r)})})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function OE(){return new ga(s=>gT(s),Jh)}async function XT(s,e){const n=Ne(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new Lx,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=$p(f,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Qp(n)}async function ZT(s,e){const n=Ne(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bx(s,e){const n=Ne(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&Qp(n)}function zx(s,e,n){const r=Ne(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Qp(s){s.Ca.forEach(e=>{e.next()})}var ap,ME;(ME=ap||(ap={})).Ma="default",ME.Cache="cache";class JT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.key=e}}class t1{constructor(e){this.key=e}}class qx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=yT(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new DE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const b=o.get(E),L=ef(this.query,w)?w:null,B=!!b&&this.mutatedKeys.has(b.key),F=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;b&&L?b.data.isEqual(L.data)?B!==F&&(r.track({type:3,doc:L}),U=!0):this.su(b,L)||(r.track({type:2,doc:L}),U=!0,(g&&this.eu(L,g)>0||m&&this.eu(L,m)<0)&&(p=!0)):!b&&L?(r.track({type:0,doc:L}),U=!0):b&&!L&&(r.track({type:1,doc:b}),U=!0,(g||m)&&(p=!0)),U&&(L?(f=f.add(L),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,w)=>function(L,B){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:U})}};return F(L)-F(B)}(E.type,w.type)||this.eu(E.doc,w.doc)),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,f.length!==0||m?{snapshot:new Io(this.query,e.tu,u,f,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new t1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new e1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kp="SyncEngine";class Hx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fx{constructor(e){this.key=e,this.hu=!1}}class Gx{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ga(p=>gT(p),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new Et(_e.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $x(s,e,n=!0){const r=o1(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await n1(r,e,n,!0),o}async function Qx(s,e){const n=o1(s);await n1(n,e,!0,!1)}async function n1(s,e,n,r){const o=await dx(s.localStore,Oi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await Kx(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&GT(s.remoteStore,o),p}async function Kx(s,e,n,r,o){s.pu=(w,b,L)=>async function(F,U,K,ie){let se=U.view.ru(K);se.Cs&&(se=await wE(F.localStore,U.query,!1).then(({documents:V})=>U.view.ru(V,se)));const he=ie&&ie.targetChanges.get(U.targetId),ce=ie&&ie.targetMismatches.get(U.targetId)!=null,Ce=U.view.applyChanges(se,F.isPrimaryClient,he,ce);return VE(F,U.targetId,Ce.au),Ce.snapshot}(s,w,b,L);const u=await wE(s.localStore,e,!0),f=new qx(e,u.Qs),p=f.ru(u.documents),g=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),m=f.applyChanges(p,s.isPrimaryClient,g);VE(s,n,m.au);const E=new Hx(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),m.snapshot}async function Yx(s,e,n){const r=Ne(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter(f=>!Jh(f,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&zp(r.remoteStore,o.targetId),op(r,o.targetId)}).catch(Po)):(op(r,o.targetId),await sp(r.localStore,o.targetId,!0))}async function Wx(s,e){const n=Ne(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zp(n.remoteStore,r.targetId))}async function Xx(s,e,n){const r=sN(s);try{const o=await function(f,p){const g=Ne(f),m=mt.now(),E=p.reduce((L,B)=>L.add(B.key),qe());let w,b;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=ws(),F=qe();return g.Ns.getEntries(L,E).next(U=>{B=U,B.forEach((K,ie)=>{ie.isValidDocument()||(F=F.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,B)).next(U=>{w=U;const K=[];for(const ie of p){const se=fI(ie,w.get(ie.key).overlayedDocument);se!=null&&K.push(new Sr(ie.key,se,uT(se.value.mapValue),Mi.exists(!0)))}return g.mutationQueue.addMutationBatch(L,m,K,p)}).next(U=>{b=U;const K=U.applyToLocalDocumentSet(w,F);return g.documentOverlayCache.saveOverlays(L,U.batchId,K)})}).then(()=>({batchId:b.batchId,changes:vT(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let m=f.Vu[f.currentUser.toKey()];m||(m=new Et(ze)),m=m.insert(p,g),f.Vu[f.currentUser.toKey()]=m}(r,o.batchId,n),await Iu(r,o.changes),await of(r.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function i1(s,e){const n=Ne(s);try{const r=await cx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?tt(f.hu,14607):o.removedDocuments.size>0&&(tt(f.hu,42227),f.hu=!1))}),await Iu(n,r,e)}catch(r){await Po(r)}}function PE(s,e,n){const r=Ne(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Ne(f);g.onlineState=p;let m=!1;g.queries.forEach((E,w)=>{for(const b of w.Sa)b.va(p)&&(m=!0)}),m&&Qp(g)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zx(s,e,n){const r=Ne(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new Et(_e.comparator);f=f.insert(u,hn.newNoDocument(u,xe.min()));const p=qe().add(u),g=new sf(xe.min(),new Map,new Et(ze),f,p);await i1(r,g),r.du=r.du.remove(u),r.Au.delete(e),Yp(r)}else await sp(r.localStore,e,!1).then(()=>op(r,e,n)).catch(Po)}async function Jx(s,e){const n=Ne(s),r=e.batch.batchId;try{const o=await ux(n.localStore,e);r1(n,r,null),s1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,o)}catch(o){await Po(o)}}async function eN(s,e,n){const r=Ne(s);try{const o=await function(f,p){const g=Ne(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let E;return g.mutationQueue.lookupMutationBatch(m,p).next(w=>(tt(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(m,w))).next(()=>g.mutationQueue.performConsistencyCheck(m)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(m,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,E)).next(()=>g.localDocuments.getDocuments(m,E))})}(r.localStore,e);r1(r,e,n),s1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,o)}catch(o){await Po(o)}}function s1(s,e){(s.mu.get(e)||[]).forEach(n=>{n.resolve()}),s.mu.delete(e)}function r1(s,e,n){const r=Ne(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function op(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(r=>{s.Ru.containsKey(r)||a1(s,r)})}function a1(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(zp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Yp(s))}function VE(s,e,n){for(const r of n)r instanceof e1?(s.Ru.addReference(r.key,e),tN(s,r)):r instanceof t1?(ue(Kp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||a1(s,r.key)):Ae(19791,{wu:r})}function tN(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ue(Kp,"New document in limbo: "+n),s.Eu.add(r),Yp(s))}function Yp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new _e(_t.fromString(e)),r=s.fu.next();s.Au.set(r,new Fx(n)),s.du=s.du.insert(n,r),GT(s.remoteStore,new ar(Oi(Zh(n.path)),r,"TargetPurposeLimboResolution",Kh.ce))}}async function Iu(s,e,n){const r=Ne(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach((p,g)=>{f.push(r.pu(g,e,n).then(m=>{if((m||n)&&r.isPrimaryClient){const E=m?!m.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(m){o.push(m);const E=Up.As(g.targetId,m);u.push(E)}}))}),await Promise.all(f),r.Pu.H_(o),await async function(g,m){const E=Ne(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(m,b=>ne.forEach(b.Es,L=>E.persistence.referenceDelegate.addReference(w,b.targetId,L)).next(()=>ne.forEach(b.ds,L=>E.persistence.referenceDelegate.removeReference(w,b.targetId,L)))))}catch(w){if(!Vo(w))throw w;ue(Bp,"Failed to update sequence numbers: "+w)}for(const w of m){const b=w.targetId;if(!w.fromCache){const L=E.Ms.get(b),B=L.snapshotVersion,F=L.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(b,F)}}}(r.localStore,u))}async function nN(s,e){const n=Ne(s);if(!n.currentUser.isEqual(e)){ue(Kp,"User change. New user:",e.toKey());const r=await zT(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(p=>{p.forEach(g=>{g.reject(new pe(re.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.Ls)}}function iN(s,e){const n=Ne(s),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function o1(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=i1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zx.bind(null,e),e.Pu.H_=Bx.bind(null,e.eventManager),e.Pu.yu=zx.bind(null,e.eventManager),e}function sN(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eN.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lx(this.persistence,new rx,e.initialUser,this.serializer)}Cu(e){return new BT(Lp.mi,this.serializer)}Du(e){return new px}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class rN extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new BT(r=>Ph.mi(r,n),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nN.bind(null,this.syncEngine),await jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ux}()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),r=function(u){return new Ex(u)}(e.databaseInfo);return function(u,f,p,g){return new bx(u,f,p,g)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,u,f,p){return new Rx(r,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>PE(this.syncEngine,n,0),function(){return IE.v()?new IE:new gx}())}createSyncEngine(e,n){return function(o,u,f,p,g,m,E){const w=new Gx(o,u,f,p,g,m);return E&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Ne(n);ue(fa,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class aN{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{ue(_r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(ue(_r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$p(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Om(s,e){s.asyncQueue.verifyOperationInProgress(),ue(_r,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await zT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function kE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await oN(s);ue(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(r=>NE(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>NE(e.remoteStore,o)),s._onlineComponents=e}async function oN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(_r,"Using user provided OfflineComponentProvider");try{await Om(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Om(s,new kh)}}else ue(_r,"Using default OfflineComponentProvider"),await Om(s,new rN(void 0));return s._offlineComponents}async function u1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(_r,"Using user provided OnlineComponentProvider"),await kE(s,s._uninitializedComponentsProvider._online)):(ue(_r,"Using default OnlineComponentProvider"),await kE(s,new lp))),s._onlineComponents}function lN(s){return u1(s).then(e=>e.syncEngine)}async function up(s){const e=await u1(s),n=e.eventManager;return n.onListen=$x.bind(null,e.syncEngine),n.onUnlisten=Yx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wx.bind(null,e.syncEngine),n}function uN(s,e,n={}){const r=new hr;return s.asyncQueue.enqueueAndForget(async()=>function(u,f,p,g,m){const E=new l1({next:b=>{E.Nu(),f.enqueueAndForget(()=>ZT(u,w));const L=b.docs.has(p);!L&&b.fromCache?m.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&b.fromCache&&g&&g.source==="server"?m.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),w=new JT(Zh(p.path),E,{includeMetadataChanges:!0,qa:!0});return XT(u,w)}(await up(s),s.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firestore.googleapis.com",LE=!0;class UE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=LE}else this.host=e.host,this.ssl=e.ssl??LE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qI)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wp{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new d2;switch(r.type){case"firstParty":return new y2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jE.get(n);r&&(ue("ComponentProvider","Removing Datastore"),jE.delete(n),r.terminate())}(this),Promise.resolve()}}function cN(s,e,n,r={}){s=Di(s,Wp);const o=Do(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(j0(`https://${p}`),L0("Firestore",!0)),u.host!==h1&&u.host!==p&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!fr(g,f)&&(s._setSettings(g),r.mockUserToken)){let m,E;if(typeof r.mockUserToken=="string")m=r.mockUserToken,E=cn.MOCK_USER;else{m=BR(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(w)}s._authCredentials=new m2(new Z0(m,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lf(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,Pt._jsonSchema))return new Pt(e,r||null,new _e(_t.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Mt("string",Pt._jsonSchemaVersion),referencePath:Mt("string")};class pu extends lf{constructor(e,n,r){super(e,n,Zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new _e(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function ai(s,e,...n){if(s=nn(s),arguments.length===1&&(e=Rp.newId()),A2("doc","path",e),s instanceof Wp){const r=_t.fromString(e,...n);return Jv(r),new Pt(s,null,new _e(r))}{if(!(s instanceof Pt||s instanceof pu))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(_t.fromString(e,...n));return Jv(r),new Pt(s.firestore,s instanceof pu?s.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HT(this,"async_queue_retry"),this._c=()=>{const r=Dm();r&&ue(BE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;ue(BE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",qE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,r,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(s){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(s,["next","error","complete"])}class xo extends Wp{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new zE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function hN(s,e){const n=typeof s=="object"?s:q0(),r=typeof s=="string"?s:Ch,o=bp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=LR("firestore");u&&cN(o,...u)}return o}function Xp(s){if(s._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fN(s),s._firestoreClient}function fN(s){const e=s._freezeSettings(),n=function(o,u,f,p){return new V2(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,c1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new aN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(sn.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Mt("string",Xn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Mt("string",Vi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ki(e.vectorValues);throw new pe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Mt("string",ki._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/^__.*__$/;class mN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class f1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class hf{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(d1(this.Ac)&&dN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rf(e)}Cc(e,n,r,o=!1){return new hf({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m1(s){const e=s._freezeSettings(),n=rf(s._databaseId);return new pN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function gN(s,e,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);Jp("Data must be an object, but it was:",f,r);const p=p1(r,f);let g,m;if(u.merge)g=new Vn(f.fieldMask),m=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const b=cp(e,w,n);if(!f.contains(b))throw new pe(re.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);y1(E,b)||E.push(b)}g=new Vn(E),m=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,m=f.fieldTransforms;return new mN(new An(p),g,m)}class ff extends cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function yN(s,e,n){return new hf({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zp extends cf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=yN(this,e,!0),r=this.vc.map(u=>xu(u,n)),o=new Ro(r);return new lI(e.path,o)}isEqual(e){return e instanceof Zp&&fr(this.vc,e.vc)}}function _N(s,e,n,r){const o=s.Cc(1,e,n);Jp("Data must be an object, but it was:",o,r);const u=[],f=An.empty();Tr(r,(g,m)=>{const E=eg(e,g,n);m=nn(m);const w=o.yc(E);if(m instanceof ff)u.push(E);else{const b=xu(m,w);b!=null&&(u.push(E),f.set(E,b))}});const p=new Vn(u);return new f1(f,p,o.fieldTransforms)}function vN(s,e,n,r,o,u){const f=s.Cc(1,e,n),p=[cp(e,r,n)],g=[o];if(u.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)p.push(cp(e,u[b])),g.push(u[b+1]);const m=[],E=An.empty();for(let b=p.length-1;b>=0;--b)if(!y1(m,p[b])){const L=p[b];let B=g[b];B=nn(B);const F=f.yc(L);if(B instanceof ff)m.push(L);else{const U=xu(B,F);U!=null&&(m.push(L),E.set(L,U))}}const w=new Vn(m);return new f1(E,w,f.fieldTransforms)}function xu(s,e){if(g1(s=nn(s)))return Jp("Unsupported field value:",e,s),p1(s,e);if(s instanceof cf)return function(r,o){if(!d1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const u=[];let f=0;for(const p of r){let g=xu(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(s,e)}return function(r,o){if((r=nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:Mh(o.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:OT(o.serializer,r._byteString)};if(r instanceof Pt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return function(f,p){return{mapValue:{fields:{[oT]:{stringValue:lT},[Ih]:{arrayValue:{values:f.toArray().map(m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mp(p.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${Cp(r)}`)}(s,e)}function p1(s,e){const n={};return tT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,(r,o)=>{const u=xu(o,e.mc(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function g1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Vi||s instanceof Xn||s instanceof Pt||s instanceof cf||s instanceof ki)}function Jp(s,e,n){if(!g1(n)||!J0(n)){const r=Cp(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function cp(s,e,n){if((e=nn(e))instanceof uf)return e._internalPath;if(typeof e=="string")return eg(s,e);throw jh("Field path arguments must be of type string or ",s,!1,void 0,n)}const EN=new RegExp("[~\\*/\\[\\]]");function eg(s,e,n){if(e.search(EN)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new uf(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function jh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new pe(re.INVALID_ARGUMENT,p+s+g)}function y1(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TN extends _1{data(){return super.data()}}function v1(s,e){return typeof e=="string"?eg(s,e):e instanceof uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AN{convertValue(e,n="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tr(e,(o,u)=>{r[o]=this.convertValue(u,n)}),r}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map(r=>Ct(r.doubleValue));return new ki(n)}convertGeoPoint(e){return new Vi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=mr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);tt(LT(r),9688,{name:e});const o=new fu(r.get(1),r.get(3)),u=new _e(r.popFirst(5));return o.isEqual(n)||bs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends _1{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Mt("string",ua._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class _h extends ua{data(e={}){return super.data(e)}}class yo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _h(this._firestore,this._userDataWriter,r.key,r,new eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new _h(o._firestore,o._userDataWriter,p.doc.key,p.doc,new eu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new _h(o._firestore,o._userDataWriter,p.doc.key,p.doc,new eu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,E=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:wN(p.type),doc:g,oldIndex:m,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(s){s=Di(s,Pt);const e=Di(s.firestore,xo);return uN(Xp(e),s._key).then(n=>S1(e,s,n))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Mt("string",yo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class E1 extends AN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function Lh(s,e,n){s=Di(s,Pt);const r=Di(s.firestore,xo),o=bN(s.converter,e);return T1(r,[gN(m1(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Mi.none())])}function gu(s,e,n,...r){s=Di(s,Pt);const o=Di(s.firestore,xo),u=m1(o);let f;return f=typeof(e=nn(e))=="string"||e instanceof uf?vN(u,"updateDoc",s._key,e,n,r):_N(u,"updateDoc",s._key,e),T1(o,[f.toMutation(s._key,Mi.exists(!0))])}function FE(s,...e){s=nn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||HE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(HE(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,f,p;if(s instanceof Pt)f=Di(s.firestore,xo),p=Zh(s._key.path),u={next:g=>{e[r]&&e[r](S1(f,s,g))},error:e[r+1],complete:e[r+2]};else{const g=Di(s,lf);f=Di(g.firestore,xo),p=g._query;const m=new E1(f);u={next:E=>{e[r]&&e[r](new yo(f,m,g,E))},error:e[r+1],complete:e[r+2]},SN(s._query)}return function(m,E,w,b){const L=new l1(b),B=new JT(E,L,w);return m.asyncQueue.enqueueAndForget(async()=>XT(await up(m),B)),()=>{L.Nu(),m.asyncQueue.enqueueAndForget(async()=>ZT(await up(m),B))}}(Xp(f),p,o,u)}function T1(s,e){return function(r,o){const u=new hr;return r.asyncQueue.enqueueAndForget(async()=>Xx(await lN(r),o,u)),u.promise}(Xp(s),e)}function S1(s,e,n){const r=n.docs.get(e._key),o=new E1(s);return new ua(s,o,e._key,r,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function hp(...s){return new Zp("arrayUnion",s)}(function(e,n=!0){(function(o){Mo=o})(Oo),To(new ca("firestore",(r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new xo(new p2(r.getProvider("auth-internal")),new _2(f,r.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(m.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),ur(Yv,Wv,e),ur(Yv,Wv,"esm2020")})();var RN="firebase",CN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(RN,CN,"app");function A1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IN=A1,b1=new Su("auth","Firebase",A1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Sp("@firebase/auth");function xN(s,...e){Uh.logLevel<=Be.WARN&&Uh.warn(`Auth (${Oo}): ${s}`,...e)}function vh(s,...e){Uh.logLevel<=Be.ERROR&&Uh.error(`Auth (${Oo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(s,...e){throw ng(s,...e)}function ui(s,...e){return ng(s,...e)}function tg(s,e,n){const r={...IN(),[e]:n};return new Su("auth","Firebase",r).create(e,{appName:s.name})}function vs(s){return tg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NN(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(s,"argument-error"),tg(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ng(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return b1.create(s,...e)}function Se(s,e,...n){if(!s)throw ng(e,...n)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw vh(e),new Error(e)}function Rs(s,e){s||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){return typeof self<"u"&&self.location?.href||""}function DN(){return GE()==="http:"||GE()==="https:"}function GE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DN()||$R()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=HR()||QR()}get(){return ON()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(s,e){Rs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kN=new Nu(3e4,6e4);function Ar(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function br(s,e,n,r,o={}){return R1(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=Au({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const m={method:e,headers:g,...u};return GR()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&Do(s.emulatorConfig.host)&&(m.credentials="include"),w1.fetch()(await C1(s,s.config.apiHost,n,p),m)})}async function R1(s,e,n){s._canInitEmulator=!1;const r={...PN,...e};try{const o=new LN(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw uh(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,m]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw uh(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw uh(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw tg(s,E,m);Zn(s,E)}}catch(o){if(o instanceof bn)throw o;Zn(s,"network-request-failed",{message:String(o)})}}async function Du(s,e,n,r,o={}){const u=await br(s,e,n,r,o);return"mfaPendingCredential"in u&&Zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function C1(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?ig(s.config,o):`${s.config.apiScheme}://${o}`;return VN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function jN(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),kN.get())})}}function uh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ui(s,e,r);return o.customData._tokenResponse=n,o}function $E(s){return s!==void 0&&s.enterprise!==void 0}class UN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BN(s,e){return br(s,"GET","/v2/recaptchaConfig",Ar(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(s,e){return br(s,"POST","/v1/accounts:delete",e)}async function Bh(s,e){return br(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(s,e=!1){const n=nn(s),r=await n.getIdToken(e),o=sg(r);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:ou(Mm(o.auth_time)),issuedAtTime:ou(Mm(o.iat)),expirationTime:ou(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Mm(s){return Number(s)*1e3}function sg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=M0(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function QE(s){const e=sg(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bn&&HN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function HN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(s){const e=s.auth,n=await s.getIdToken(),r=await yu(s,Bh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?I1(o.providerUserInfo):[],f=$N(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,m=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(s,E)}async function GN(s){const e=nn(s);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $N(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function I1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(s,e){const n=await R1(s,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await C1(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Do(s.emulatorConfig.host)&&(g.credentials="include"),w1.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KN(s,e){return br(s,"POST","/v2/accounts:revokeToken",Ar(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=QE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await QN(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new _o;return r&&(Se(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new FN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qN(this,e)}reload(){return GN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await yu(this,zN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,m=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:b,isAnonymous:L,providerData:B,stsTokenManager:F}=n;Se(w&&F,e,"internal-error");const U=_o.fromJSON(this.name,F);Se(typeof w=="string",e,"internal-error"),nr(r,e.name),nr(o,e.name),Se(typeof b=="boolean",e,"internal-error"),Se(typeof L=="boolean",e,"internal-error"),nr(u,e.name),nr(f,e.name),nr(p,e.name),nr(g,e.name),nr(m,e.name),nr(E,e.name);const K=new li({uid:w,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:U,createdAt:m,lastLoginAt:E});return B&&Array.isArray(B)&&(K.providerData=B.map(ie=>({...ie}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new _o;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await zh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?I1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new _o;p.updateFromIdToken(r);const g=new li({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,m),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;function ys(s){Rs(s instanceof Function,"Expected a class definition");let e=KE.get(s);return e?(Rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,KE.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x1.type="NONE";const YE=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(s,e,n){return`firebase:${s}:${e}:${n}`}class vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vo(ys(YE),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||ys(YE);const f=Eh(r,e.config.apiKey,e.name);let p=null;for(const m of n)try{const E=await m._get(f);if(E){let w;if(typeof E=="string"){const b=await Bh(e,{idToken:E}).catch(()=>{});if(!b)break;w=await li._fromGetAccountInfoResponse(e,b,E)}else w=li._fromJSON(e,E);m!==u&&(p=w),u=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new vo(u,e,r):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new vo(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V1(e))return"Blackberry";if(k1(e))return"Webos";if(D1(e))return"Safari";if((e.includes("chrome/")||O1(e))&&!e.includes("edge/"))return"Chrome";if(P1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function N1(s=fn()){return/firefox\//i.test(s)}function D1(s=fn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O1(s=fn()){return/crios\//i.test(s)}function M1(s=fn()){return/iemobile/i.test(s)}function P1(s=fn()){return/android/i.test(s)}function V1(s=fn()){return/blackberry/i.test(s)}function k1(s=fn()){return/webos/i.test(s)}function rg(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function YN(s=fn()){return rg(s)&&!!window.navigator?.standalone}function WN(){return KR()&&document.documentMode===10}function j1(s=fn()){return rg(s)||P1(s)||k1(s)||V1(s)||/windows phone/i.test(s)||M1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(s,e=[]){let n;switch(s){case"Browser":n=WE(fn());break;case"Worker":n=`${WE(fn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(s,e={}){return br(s,"GET","/v2/passwordPolicy",Ar(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class eD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(vs(this));const n=e?nn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZN(this),n=new eD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wr(s){return nn(s)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nD(s){df=s}function U1(s){return df.loadJS(s)}function iD(){return df.recaptchaEnterpriseScript}function sD(){return df.gapiScript}function rD(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class aD{constructor(){this.enterprise=new oD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lD="recaptcha-enterprise",B1="NO_RECAPTCHA";class uD{constructor(e){this.type=lD,this.auth=wr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{BN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new UN(g);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;$E(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(B1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(p=>{if(!n&&$E(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=iD();g.length!==0&&(g+=p),U1(g).then(()=>{o(p,u,f)}).catch(m=>{f(m)})}}).catch(p=>{f(p)})})}}async function ZE(s,e,n,r=!1,o=!1){const u=new uD(s);let f;if(o)f=B1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function mp(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ZE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ZE(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(s,e){const n=bp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fr(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function hD(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function fD(s,e,n){const r=wr(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=z1(e),{host:f,port:p}=dD(e),g=p===null?"":`:${p}`,m={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(fr(m,r.config.emulator)&&fr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Do(f)?(j0(`${u}//${f}${g}`),L0("Auth",!0)):mD()}function z1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dD(s){const e=z1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:JE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:JE(f)}}}function JE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mD(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function pD(s,e){return br(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(s,e){return Du(s,"POST","/v1/accounts:signInWithPassword",Ar(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(s,e){return Du(s,"POST","/v1/accounts:signInWithEmailLink",Ar(s,e))}async function _D(s,e){return Du(s,"POST","/v1/accounts:signInWithEmailLink",Ar(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends ag{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new _u(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _u(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,n,"signInWithPassword",gD);case"emailLink":return yD(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,r,"signUpPassword",pD);case"emailLink":return _D(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(s,e){return Du(s,"POST","/v1/accounts:signInWithIdp",Ar(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="http://localhost";class da extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new da(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:vD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TD(s){const e=Yl(Wl(s)).link,n=e?Yl(Wl(e)).deep_link_id:null,r=Yl(Wl(s)).deep_link_id;return(r?Yl(Wl(r)).link:null)||r||n||e||s}class og{constructor(e){const n=Yl(Wl(e)),r=n.apiKey??null,o=n.oobCode??null,u=ED(n.mode??null);Se(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TD(e);try{return new og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return _u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=og.parseLink(n);return Se(r,"argument-error"),_u._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ou{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Ou{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Ou{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(s,e){return Du(s,"POST","/v1/accounts:signUp",Ar(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await li._fromIdTokenResponse(e,r,o),f=e0(r);return new ma({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=e0(r);return new ma({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function e0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends bn{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new qh(e,n,r,o)}}function q1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(s,u,e,r):u})}async function AD(s,e,n=!1){const r=await yu(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ma._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(s,e,n=!1){const{auth:r}=s;if(Pn(r.app))return Promise.reject(vs(r));const o="reauthenticate";try{const u=await yu(s,q1(r,o,e,s),n);Se(u.idToken,r,"internal-error");const f=sg(u.idToken);Se(f,r,"internal-error");const{sub:p}=f;return Se(s.uid===p,r,"user-mismatch"),ma._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(s,e,n=!1){if(Pn(s.app))return Promise.reject(vs(s));const r="signIn",o=await q1(s,r,e),u=await ma._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function wD(s,e){return H1(wr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(s){const e=wr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RD(s,e,n){if(Pn(s.app))return Promise.reject(vs(s));const r=wr(s),f=await mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&F1(s),g}),p=await ma._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(p.user),p}function CD(s,e,n){return Pn(s.app)?Promise.reject(vs(s)):wD(nn(s),jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F1(s),r})}function ID(s,e,n,r){return nn(s).onIdTokenChanged(e,n,r)}function xD(s,e,n){return nn(s).beforeAuthStateChanged(e,n)}function ND(s,e,n,r){return nn(s).onAuthStateChanged(e,n,r)}function DD(s){return nn(s).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1e3,MD=10;class $1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);WN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MD):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$1.type="LOCAL";const PD=$1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q1.type="SESSION";const K1=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async m=>m(n.origin,u)),g=await VD(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const m=ug("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function jD(s){ji().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function LD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UD(){return navigator?.serviceWorker?.controller||null}function BD(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firebaseLocalStorageDb",zD=1,Fh="firebaseLocalStorage",X1="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(s,e){return s.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function qD(){const s=indexedDB.deleteDatabase(W1);return new Mu(s).toPromise()}function pp(){const s=indexedDB.open(W1,zD);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Fh,{keyPath:X1})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await qD(),e(await pp()))})})}async function t0(s,e,n){const r=pf(s,!0).put({[X1]:e,value:n});return new Mu(r).toPromise()}async function HD(s,e){const n=pf(s,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function n0(s,e){const n=pf(s,!0).delete(e);return new Mu(n).toPromise()}const FD=800,GD=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(BD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LD(),!this.activeServiceWorker)return;this.sender=new kD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await t0(e,Hh,"1"),await n0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>t0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const $D=Z1;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(s,e){return e?ys(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QD(s){return H1(s.auth,new cg(s),s.bypassAuthState)}function KD(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),bD(n,new cg(s),s.bypassAuthState)}async function YD(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),AD(n,new cg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QD;case"linkViaPopup":case"linkViaRedirect":return YD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:Zn(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Nu(2e3,1e4);async function i0(s,e,n){if(Pn(s.app))return Promise.reject(ui(s,"operation-not-supported-in-this-environment"));const r=wr(s);NN(s,e,lg);const o=J1(r,n);return new la(r,"signInViaPopup",e,o).executeNotNull()}class la extends eS{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WD.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="pendingRedirect",Th=new Map;class ZD extends eS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await JD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(s,e){const n=nO(e),r=tO(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function eO(s,e){Th.set(s._key(),e)}function tO(s){return ys(s._redirectPersistence)}function nO(s){return Eh(XD,s.config.apiKey,s.name)}async function iO(s,e,n=!1){if(Pn(s.app))return Promise.reject(vs(s));const r=wr(s),o=J1(r,e),f=await new ZD(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=600*1e3;class rO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ui(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sO&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function tS({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aO(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(s,e={}){return br(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uO=/^https?/;async function cO(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oO(s);for(const n of e)try{if(hO(n))return}catch{}Zn(s,"unauthorized-domain")}function hO(s){const e=fp(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!uO.test(n))return!1;if(lO.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new Nu(3e4,6e4);function r0(){const s=ji().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function dO(s){return new Promise((e,n)=>{function r(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(ui(s,"network-request-failed"))},timeout:fO.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)r();else{const o=rD("iframefcb");return ji()[o]=()=>{gapi.load?r():n(ui(s,"network-request-failed"))},U1(`${sD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function mO(s){return Sh=Sh||dO(s),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Nu(5e3,15e3),gO="__/auth/iframe",yO="emulator/auth/iframe",_O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EO(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?ig(e,yO):`https://${s.config.authDomain}/${gO}`,r={apiKey:e.apiKey,appName:s.name,v:Oo},o=vO.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Au(r).slice(1)}`}async function TO(s){const e=await mO(s),n=ji().gapi;return Se(n,s,"internal-error"),e.open({where:document.body,url:EO(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_O,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ui(s,"network-request-failed"),p=ji().setTimeout(()=>{u(f)},pO.get());function g(){ji().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AO=500,bO=600,wO="_blank",RO="http://localhost";class a0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CO(s,e,n,r=AO,o=bO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...SO,width:r.toString(),height:o.toString(),top:u,left:f},m=fn().toLowerCase();n&&(p=O1(m)?wO:n),N1(m)&&(e=e||RO,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[L,B])=>`${b}${L}=${B},`,"");if(YN(m)&&p!=="_self")return IO(e||"",p),new a0(null);const w=window.open(e||"",p,E);Se(w,s,"popup-blocked");try{w.focus()}catch{}return new a0(w)}function IO(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="__/auth/handler",NO="emulator/auth/handler",DO=encodeURIComponent("fac");async function o0(s,e,n,r,o,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Oo,eventId:o};if(e instanceof lg){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",tC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ou){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),m=g?`#${DO}=${encodeURIComponent(g)}`:"";return`${OO(s)}?${Au(p).slice(1)}${m}`}function OO({config:s}){return s.emulator?ig(s,NO):`https://${s.authDomain}/${xO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class MO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=iO,this._overrideRedirectResult=eO}async _openPopup(e,n,r,o){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await o0(e,n,r,fp(),o);return CO(e,u,ug())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await o0(e,n,r,fp(),o);return jD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Rs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TO(e),r=new rO(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{const u=o?.[0]?.[Pm];u!==void 0&&n(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j1()||D1()||rg()}}const PO=MO;var l0="@firebase/auth",u0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jO(s){To(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L1(s)},m=new tD(r,o,u,g);return hD(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),To(new ca("auth-internal",e=>{const n=wr(e.getProvider("auth").getImmediate());return(r=>new VO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(l0,u0,kO(s)),ur(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=300,UO=k0("authIdTokenMaxAge")||LO;let c0=null;const BO=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UO)return;const o=n?.token;c0!==o&&(c0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zO(s=q0()){const e=bp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=cD(s,{popupRedirectResolver:PO,persistence:[$D,PD,K1]}),r=k0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=BO(u.toString());xD(n,f,()=>f(n.currentUser)),ID(n,p=>f(p))}}const o=P0("auth");return o&&fD(n,`http://${o}`),n}function qO(){return document.getElementsByTagName("head")?.[0]??document}nD({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=ui("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",qO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jO("Browser");const HO={apiKey:"AIzaSyAKcCWk_hS2I5PRmN6C0DqPc7PIyAsXQxM",authDomain:"activity-60d78.firebaseapp.com",projectId:"activity-60d78",storageBucket:"activity-60d78.firebasestorage.app",messagingSenderId:"784214109781",appId:"1:784214109781:web:cfcb864780520b4e1a2edc",measurementId:"G-77F988Z08Z"},nS=z0(HO),oi=hN(nS),Es=zO(nS),FO="_subjectBox_e3r8s_1",GO="_choices_e3r8s_49",$O="_show_e3r8s_85",QO="_subject_e3r8s_1",Wn={subjectBox:FO,choices:GO,show:$O,subject:QO};function KO({subject:s,setSubject:e}){const[n]=I.useState(["CSS","Philosophy","CPAR","UCSP","PEH3","Entrepreneurship","21stCL","Robotics"]),[r,o]=I.useState(!1);return T.jsxs(T.Fragment,{children:[T.jsx("h2",{className:Wn.subName,children:"Subject"}),T.jsxs("button",{className:Wn.subjectBox,onClick:()=>{o(!r)},children:[s,T.jsx("i",{className:r?"fa fa-angle-up":"fa fa-angle-down"}),T.jsx("ul",{className:r?`${Wn.choices} ${Wn.show}`:Wn.choices,children:n.map(u=>T.jsx("li",{className:Wn.subject,onClick:()=>{e(u)},children:u},Math.random()*1))})]})]})}function YO(){const{quarterAndSemChoices:s,quarter:e,setQuarter:n,semester:r,setSemester:o}=I.useContext(qi),[u,f]=I.useState(!1);return T.jsxs(T.Fragment,{children:[T.jsx("h2",{className:Wn.subName,children:"Semester and Quarter"}),T.jsxs("button",{className:Wn.subjectBox,onClick:()=>{f(!u)},children:[r+" Sem: "+e+" Quarter",T.jsx("i",{className:u?"fa fa-angle-up":"fa fa-angle-down"}),T.jsx("ul",{className:u?`${Wn.choices} ${Wn.show}`:Wn.choices,children:s.map(p=>T.jsx("li",{className:Wn.subject,onClick:()=>{n(p.quarter),o(p.sem)},children:p.sem+" Sem: "+p.quarter+" Quarter"},Math.random()*1))})]})]})}function WO(){const{typeOfWork:s,showAddPrompt:e,setShowAddPrompt:n,setTypeOfWork:r,params:o,quarter:u,semester:f}=I.useContext(qi),{userData:p}=I.useContext(rn),[g,m]=I.useState(""),[E,w]=I.useState(""),[b,L]=I.useState(null),[B,F]=I.useState(o?.toUpperCase());async function U(){const K=new Date,ie={id:Math.random()*1,title:g,description:E,typeOfWork:s,status:"pending",createdBy:"Pajarillaga, Bryan",createdAt:`${K?.getFullYear()}-${K?.getMonth()}-${K?.getDate()}`,dueDate:b,subject:B,semester:f,quarter:u,isSelected:!1,timeCreated:Date.now()};try{const se=ai(oi,"Main_Database","School_Activities");(await tu(se)).exists()?await gu(se,{[s]:hp(ie)}):await Lh(se,{[s]:hp(ie)}),m(""),w(""),L(null),r(""),n(!1)}catch(se){se instanceof bn&&console.log(se)}}if(I.useEffect(()=>{F(o)},[o]),e&&p?.user.status=="Owner")return T.jsx("div",{className:tr.addSubjectWrapper,children:T.jsxs("div",{className:tr.addSubjectBox,children:[T.jsx("button",{className:tr.closeButton,onClick:()=>{r(""),n(!1)},children:"X"}),T.jsxs("h1",{children:["Create ",s]}),T.jsxs("div",{className:tr.top,children:[T.jsx(KO,{subject:B,setSubject:F}),T.jsx(YO,{}),T.jsx("h2",{className:tr.deadline,children:"Deadline: "}),T.jsx("input",{type:"date",onChange:K=>{console.log(K.currentTarget.value),L(K.currentTarget.value)}}),T.jsxs("h2",{className:tr.actTitle,children:[s," Title"]}),T.jsx("input",{type:"text",value:g,onChange:K=>{m(K.currentTarget.value)}}),T.jsxs("h2",{className:tr.actDesc,children:[s," Description"]}),T.jsx("textarea",{rows:5,value:E,onChange:K=>{w(K.currentTarget.value)}})]}),T.jsx("button",{className:tr.submit,onClick:U,children:"Submit"})]})})}const XO="_noActivities_1bced_1",ZO="_showMenu_1bced_11",JO="_hideMenu_1bced_69",e4="_addActivity_1bced_77",t4="_hamWrapper_1bced_143",n4="_dropDownMenus_1bced_183",i4="_hideDropDown_1bced_235",Ts={noActivities:XO,showMenu:ZO,hideMenu:JO,addActivity:e4,hamWrapper:t4,dropDownMenus:n4,hideDropDown:i4};function s4({task:s}){const{setShowActDesc:e,setCanSelect:n,defineTypeOfWork:r,actDesc:o,menu:u,showMenu:f,menuPos:p,canSelect:g,handleRightClick:m,setActivities:E,setAssignments:w,setProjects:b,handleSelectAll:L}=I.useContext(qi);function B(K){if(g)switch(s?.typeOfWork){case"Activity":E(ie=>ie?ie.map(se=>se.id==s?.id?{...se,isSelected:K}:se):[]);break;case"Assignment":w(ie=>ie?ie.map(se=>se.id==s?.id?{...se,isSelected:K}:se):[]);break;case"Project":b(ie=>ie?ie.map(se=>se.id==s?.id?{...se,isSelected:K}:se):[]);break}}function F(K){switch(K){case 1:e(!0);break;case 2:n(!g),g&&(B(!1),L("All",!1));break;case 3:o&&r(!0,"pending");break;case 4:o&&r(!0,"completed");break;case 5:s?.isSelected?B(!1):B(!0);break}}function U(){if(g)return T.jsxs("button",{onClick:()=>F(5),children:[T.jsx("i",{className:"fa fa-hand-o-up"}),o?.isSelected?"Unselect":"Select"]})}return T.jsxs("div",{ref:u,onClick:K=>m(K,null,!1),className:f?Ts.showMenu:Ts.hideMenu,style:{left:p.x,top:p.y},children:[T.jsxs("button",{onClick:()=>F(1),children:[T.jsx("i",{className:"fa fa-envelope-open"}),"Open"]}),T.jsxs("button",{onClick:()=>F(2),children:[T.jsx("i",{className:g?"fa fa-close":"fa fa-hand-o-up"}),g?"Cancel":"Select"]}),T.jsx(U,{}),T.jsxs("button",{onClick:()=>F(3),children:[T.jsx("i",{className:"	fa fa-edit"}),"Mark As Pending"]}),T.jsxs("button",{onClick:()=>F(4),children:[T.jsx("i",{className:"	fa fa-edit"}),"Mark As Finish"]})]})}function r4(){const{setSortingType:s}=I.useContext(qi),[e,n]=I.useState(!1),[r,o]=I.useState([{classname:"fa fa-sort-numeric-asc",functionName:"Newest-Oldest"},{classname:"fa fa-sort-numeric-desc",functionName:"Oldest-Newest"},{classname:"fa fa-sort-alpha-asc",functionName:"A-Z"},{classname:"fa fa-sort-alpha-desc",functionName:"Z-A"}]),[u,f]=I.useState({classname:"fa fa-sort-alpha-asc",functionName:"A-Z"});return I.useEffect(()=>{u&&s(u?.functionName)},[u]),T.jsxs("button",{className:Ts.hamWrapper,onClick:()=>{n(!e)},children:[T.jsxs("p",{children:["Sort",T.jsx("i",{className:u?.classname}),T.jsx("i",{className:e?"fa fa-angle-up":"fa fa-angle-down"})]}),T.jsx("ul",{className:e?Ts.dropDownMenus:Ts.hideDropDown,children:r.map(p=>T.jsxs("li",{onClick:()=>{o(g=>g.map(m=>(p.classname==m.classname&&f(m),m)))},children:[T.jsx("i",{className:p.classname}),T.jsx("p",{children:p.functionName})]},p.functionName))})]})}function Vm({type:s}){const{userData:e}=I.useContext(rn),{setTypeOfWork:n,setShowAddPrompt:r}=I.useContext(qi);if(e?.user?.status=="Owner")return T.jsx("div",{className:Ts.addActivity,onClick:()=>{n(s),r(!0)},children:T.jsx("h1",{children:"+"})})}function km({task:s,handleRightClick:e,setActDesc:n}){const{canSelect:r,setActivities:o}=I.useContext(qi),u=()=>{if(r)return T.jsx("input",{type:"checkbox",checked:s?.isSelected,onChange:()=>{f(null)},className:s?.isSelected?Kl.selected:Kl.notSelected})};function f(p){r&&o(g=>g?g.map(m=>m.id==p?.id?{...m,isSelected:!m.isSelected}:m):[])}return T.jsxs("div",{id:`${s?.id}`,className:s?.status=="completed"?Kl.activity:Kl.pendingActivity,onContextMenu:p=>e(p,s,!1),onDoubleClick:p=>e(p,s,!0),onClick:()=>{n(s),f(s)},children:[T.jsx("h2",{children:s?.title}),T.jsx("p",{children:s?.description}),T.jsx(u,{})]})}function jm({typeOfWork:s,sortingType:e}){const{activities:n,assignments:r,projects:o,selectedChoice:u,handleRightClick:f,setActDesc:p}=I.useContext(qi);if(s=="Activity"){let g=[...n||[]];return e==="Newest-Oldest"?g.sort((m,E)=>E.timeCreated-m.timeCreated):e==="Oldest-Newest"?g.sort((m,E)=>m.timeCreated-E.timeCreated):e==="A-Z"?g.sort((m,E)=>(m.title||"").localeCompare(E.title||"")):e==="Z-A"&&g.sort((m,E)=>(E.title||"").localeCompare(m.title||"")),g=g.filter(m=>m.quarter==u.quarter),console.log(g),g.length!=0?T.jsx(T.Fragment,{children:g.filter(m=>m.quarter===u.quarter&&m.semester===u.sem).map(m=>T.jsx(km,{task:m,handleRightClick:f,setActDesc:p},m.id||m.timeCreated))}):T.jsx("h2",{className:Ts.noActivities,children:"There are no Activites!"})}else if(s=="Assignment"){let g=[...r||[]];return e==="Newest-Oldest"?g.sort((m,E)=>E.timeCreated-m.timeCreated):e==="Oldest-Newest"?g.sort((m,E)=>m.timeCreated-E.timeCreated):e==="A-Z"?g.sort((m,E)=>m.title.localeCompare(E.title)):e==="Z-A"&&g.sort((m,E)=>E.title.localeCompare(m.title)),g=g.filter(m=>m.quarter==u.quarter),g.length!=0?T.jsx(T.Fragment,{children:g.filter(m=>m.quarter===u.quarter&&m.semester===u.sem).map(m=>(console.log(m.timeCreated),T.jsx(km,{task:m,handleRightClick:f,setActDesc:p},m.id||m.timeCreated)))}):T.jsx("h2",{className:Ts.noActivities,children:"There are no Assignments!"})}else if(s=="Project"){let g=[...o||[]];return e==="Newest-Oldest"?g.sort((m,E)=>E.timeCreated-m.timeCreated):e==="Oldest-Newest"?g.sort((m,E)=>m.timeCreated-E.timeCreated):e==="A-Z"?g.sort((m,E)=>(m.title||"").localeCompare(E.title||"")):e==="Z-A"&&g.sort((m,E)=>(E.title||"").localeCompare(m.title||"")),g=g.filter(m=>m.quarter==u.quarter),g.length!=0?T.jsx(T.Fragment,{children:g.filter(m=>m.quarter===u.quarter&&m.semester===u.sem).map(m=>T.jsx(km,{task:m,handleRightClick:f,setActDesc:p},m.id||m.timeCreated))}):T.jsx("h2",{className:Ts.noActivities,children:"There are no Projects!"})}}const qi=I.createContext({});function a4({params:s,subjects:e}){const{userData:n,userObject:r,setUserData:o}=I.useContext(rn),{selectedQuarter:u,selectedSemester:f}=I.useContext(iS),p=I.useRef(null),g=vr(),[m,E]=I.useState(null),[w,b]=I.useState(null),[L,B]=I.useState(null),[F,U]=I.useState(!1),[K,ie]=I.useState(!1),[se,he]=I.useState(!1),[ce,Ce]=I.useState(!1),[V,R]=I.useState(!1),[x,M]=I.useState(!1),[D,P]=I.useState(""),[C,De]=I.useState("2nd"),[Ve,$]=I.useState("1st"),[W,le]=I.useState(null),[Re,O]=I.useState({x:0,y:0}),[ee,ae]=I.useState([{quarter:"1st",sem:"1st"},{quarter:"2nd",sem:"1st"},{quarter:"3rd",sem:"2nd"},{quarter:"4th",sem:"2nd"}]),[Z,fe]=I.useState({quarter:"2nd",sem:"1st"}),[be,me]=I.useState({Activity:!1,Assignment:!1,Project:!1}),[He,Me]=I.useState("A-Z");function kn(Ie,nt,ve){ve&&Ie.preventDefault(),ie(!0),O({x:Ie.clientX,y:Ie.clientY}),nt&&(console.log(ve),P(nt.typeOfWork),le(nt))}function fi(Ie,nt){switch(D){case"Activity":o(ve=>ve?(ve?.activities.map(ye=>(m?.map(Ke=>{ye.id==Ke.id&&((Ke.isSelected||W?.id==Ke.id)&&(ye.status=nt),le(Ie?null:Ke))}),ye)),Jn(ve.activities,"activities"),me(ye=>({...ye,Activity:!1})),ve):null);break;case"Assignment":o(ve=>ve?(ve?.assignments.map(ye=>(w?.map(Ke=>{ye.id==Ke.id&&((Ke.isSelected||W?.id==Ke.id)&&(ye.status=nt),le(Ie?null:Ke))}),ye)),Jn(ve.assignments,"petas"),me(ye=>({...ye,Assignment:!1})),ve):null);break;case"Project":o(ve=>ve?(ve?.petas.map(ye=>(L?.map(Ke=>{ye.id==Ke.id&&((Ke.isSelected||W?.id==Ke.id)&&(ye.status=nt),le(Ie?null:Ke))}),ye)),Jn(ve.petas,"petas"),me(ye=>({...ye,Project:!1})),ve):null);break}}function Kt(Ie,nt){if(V)switch(Ie){case"Activity":E(ve=>ve?ve?.map(ye=>({...ye,isSelected:ye.quarter==C?nt:!1})):[]);break;case"Assignment":b(ve=>ve?ve?.map(ye=>({...ye,isSelected:ye.quarter==C?nt:!1})):[]);break;case"Project":B(ve=>ve?ve?.map(ye=>({...ye,isSelected:ye.quarter==C?nt:!1})):[]);break;case"All":E(ve=>ve?ve?.map(ye=>({...ye,isSelected:ye.quarter==C?nt:!1})):[]),b(ve=>ve?ve?.map(ye=>({...ye,isSelected:ye.quarter==C?nt:!1})):[]),B(ve=>ve?ve?.map(ye=>({...ye,isSelected:ye.quarter==C?nt:!1})):[]);break}}async function Jn(Ie,nt){try{if(Ie&&nt){const ve=ai(oi,"McCarthy",`${r?.uid}`);await gu(ve,{[nt]:Ie})}}catch{}}I.useEffect(()=>{(n?.activities!=null||n?.assignments!=null||n?.petas!=null)&&(console.log(n),E(n.activities.filter(Ie=>Ie.subject===s)),b(n.assignments.filter(Ie=>Ie.subject===s)),B(n.petas.filter(Ie=>Ie.subject===s)))},[n,s]),I.useEffect(()=>{De(Z.quarter),$(Z.sem)},[Z]),I.useEffect(()=>{fe({quarter:u,sem:f})},[u,f]),I.useEffect(()=>{if(g.hash&&m!=null){const Ie=g.hash.substring(1).split("#"),[nt,ve]=Ie;if(nt&&document.getElementById(nt)?.scrollIntoView({behavior:"smooth"}),ve){const ye=document.getElementById(ve);switch(ye?.scrollIntoView({behavior:"smooth"}),ye&&ye.classList.add(`${Kl.highlight}`),nt){case"Activity":m?.map(Ke=>{Ke.id==ve&&fe({quarter:Ke.quarter,sem:Ke.semester})});break;case"Assignment":w?.map(Ke=>{Ke.id==ve&&fe({quarter:Ke.quarter,sem:Ke.semester})});break;case"Project":console.log("Project"),L?.map(Ke=>{Ke.id==ve&&(console.log("Project"),fe({quarter:Ke.quarter,sem:Ke.semester}))});break}}}},[g,m]);const Hi={canSelect:V,setCanSelect:R,showMenu:K,setShowMenu:ie,showActDesc:se,showAddPrompt:ce,setShowAddPrompt:Ce,typeOfWork:D,setTypeOfWork:P,selectedChoice:Z,setSelectedChoice:fe,setShowActDesc:he,actDesc:W,setActDesc:le,activities:m,setActivities:E,assignments:w,setAssignments:b,projects:L,setProjects:B,quarterAndSemChoices:ee,setQuarterAndSemChoices:ae,quarter:C,setQuarter:De,semester:Ve,setSemester:$,params:s,sortingType:He,setSortingType:Me,menuPos:Re,setMenuPos:O,defineTypeOfWork:fi,handleRightClick:kn,handleSelectAll:Kt,menu:p};return T.jsx(qi.Provider,{value:Hi,children:T.jsxs("div",{className:Ze.subConWrapper,onClick:()=>{ie(!1)},children:[T.jsx(s4,{task:W}),T.jsx(bR,{}),T.jsx(WO,{}),T.jsxs("div",{className:Ze.topComponent,children:[T.jsx(hi,{to:"/subjects",id:Ze.backButt,children:"Back"}),T.jsx("h1",{children:e.map(Ie=>Ie.subjectNameAbbreviation.toLowerCase()==s.toLowerCase()?Ie.subjectNameAbbreviation:"")}),T.jsxs("div",{className:Ze.right,children:[T.jsx("button",{className:Ze.wrapMenusButton,onClick:()=>{M(!x)},children:T.jsx("i",{className:"fa fa-bars"})}),T.jsxs("div",{className:x?Ze.wrap:Ze.hideWrap,children:[T.jsxs("div",{className:Ze.selectedChoice,children:[T.jsxs("button",{onClick:()=>{U(!F)},children:[Z.sem," Sem: ",Z.quarter," Quarter",T.jsx("i",{className:F?"fa fa-angle-up":"fa fa-angle-down"})]}),T.jsx("div",{className:F?`${Ze.choicesBox} ${Ze.showChoices}`:`${Ze.choicesBox} ${Ze.hideChoices}`,children:ee.map((Ie,nt)=>T.jsxs("button",{onClick:()=>{ae(ve=>ve.map((ye,Ke)=>(nt==Ke&&fe(ye),ye))),U(!1)},children:[Ie.sem," Sem: ",Ie.quarter," Quarter"]},Math.random()*1))})]}),T.jsx(r4,{})]})]})]}),T.jsxs("div",{className:Ze.contentWrapper,children:[T.jsxs("div",{className:`${Ze.subjectActs} ${Ze.subjectActivities}`,id:"Activity",children:[T.jsxs("h1",{children:[T.jsx("i",{className:"	fa fa-leanpub"}),T.jsx("span",{children:"Activities"})]}),T.jsxs("div",{className:Ze.content,children:[T.jsx(Vm,{type:"Activity"},Math.random()*1),T.jsx("button",{className:V?Ze.selectAllButton:Ze.hideSelectAllButton,onClick:()=>{be.Activity?(Kt("Activity",!1),me(Ie=>({...Ie,Activity:!1}))):(Kt("Activity",!0),me(Ie=>({...Ie,Activity:!0})))},children:T.jsx("i",{className:be.Activity?"fa fa-check":Ze.transparent})}),T.jsx(jm,{typeOfWork:"Activity",sortingType:He})]})]}),T.jsxs("div",{className:`${Ze.subjectActs} ${Ze.subjectAssignments}`,id:"Assignment",children:[T.jsxs("h1",{children:[T.jsx("i",{className:"	fa fa-leanpub"}),T.jsx("span",{children:"Assignment"})]}),T.jsxs("div",{className:Ze.content,children:[T.jsx(Vm,{type:"Assignment"},Math.random()*1),T.jsx("button",{className:V?Ze.selectAllButton:Ze.hideSelectAllButton,onClick:()=>{be.Assignment?(Kt("Assignment",!1),me(Ie=>({...Ie,Assignment:!1}))):(Kt("Assignment",!0),me(Ie=>({...Ie,Assignment:!0})))},children:T.jsx("i",{className:be.Assignment?"fa fa-check":Ze.transparent})}),T.jsx(jm,{typeOfWork:"Assignment",sortingType:He})]})]}),T.jsxs("div",{className:`${Ze.subjectActs} ${Ze.subjectProjects}`,id:"Project",children:[T.jsxs("h1",{children:[T.jsx("i",{className:"	fa fa-leanpub"}),T.jsx("span",{children:"Performance Tasks"})]}),T.jsxs("div",{className:Ze.content,children:[T.jsx(Vm,{type:"Project"},Math.random()*1),T.jsx("button",{className:V?Ze.selectAllButton:Ze.hideSelectAllButton,onClick:()=>{be.Project?(Kt("Project",!1),me(Ie=>({...Ie,Project:!1}))):(Kt("Project",!0),me(Ie=>({...Ie,Project:!0})))},children:T.jsx("i",{className:be.Project?"fa fa-check":Ze.transparent})}),T.jsx(jm,{typeOfWork:"Project",sortingType:He})]})]})]})]})})}const iS=I.createContext({});function h0(){const{pageDetector:s,userObject:e}=I.useContext(rn),{subjectName:n}=db(),[r]=I.useState(N0),[o,u]=I.useState("2nd"),[f,p]=I.useState("1st");I.useEffect(()=>{s(null,1,!1)},[n]),I.useEffect(()=>{e?.uid?s(null,1,!1):s(0,null,!0)},[]);const g={selectedQuarter:o,setSelectedQuarter:u,selectedSemester:f,setSelectedSemester:p};return T.jsx(T.Fragment,{children:T.jsx(iS.Provider,{value:g,children:n?T.jsx(a4,{params:n,subjects:r}):T.jsx("div",{className:Aw.subjectsWrapper,children:r.map(m=>T.jsx(Lw,{subData:m},Math.random()*1))})})})}function o4(){return T.jsx("div",{children:"Recap"})}function l4(){return T.jsx("div",{children:"Account"})}const u4="_nav_1ry9h_7",c4="_navWithLogForm_1ry9h_9",h4="_left_1ry9h_49",f4="_iconImage_1ry9h_1",d4="_title_1ry9h_1",m4="_right_1ry9h_93",p4="_searchWrapper_1ry9h_109",g4="_searchLogo_1ry9h_1",y4="_searchInput_1ry9h_1",_4="_searchButton_1ry9h_1",v4="_authButts_1ry9h_175",E4="_HyperLink_1ry9h_203",T4="_signUp_1ry9h_1",S4="_signUpLink_1ry9h_1",A4="_logIn_1ry9h_1",b4="_logInLink_1ry9h_1",w4="_bell_1ry9h_1",R4="_hamburgerButton_1ry9h_1",C4="_showDropDown_1ry9h_309",I4="_dropDown_1ry9h_317",x4="_Links_1ry9h_409",N4="_hideDropDown_1ry9h_461",dt={nav:u4,navWithLogForm:c4,left:h4,iconImage:f4,title:d4,right:m4,searchWrapper:p4,searchLogo:g4,searchInput:y4,searchButton:_4,authButts:v4,HyperLink:E4,signUp:T4,signUpLink:S4,logIn:A4,logInLink:b4,bell:w4,hamburgerButton:R4,showDropDown:C4,dropDown:I4,Links:x4,hideDropDown:N4};function D4(){const{showLogForm:s}=I.useContext(rn),e=I.useRef(null),[n,r]=I.useState(!1);function o(){}function u(){}return T.jsxs("div",{className:s?dt.navWithLogForm:dt.nav,children:[T.jsxs("div",{className:dt.left,children:[T.jsx("img",{src:"./icon.jpg",id:dt.iconImage}),T.jsx("h1",{id:dt.title,children:"12 - MCCARTHY"})]}),T.jsxs("div",{className:dt.right,children:[T.jsxs("div",{className:dt.searchWrapper,children:[T.jsx("i",{className:"fa fa-search",id:dt.searchLogo}),T.jsx("input",{type:"text",id:dt.searchInput,ref:e,onKeyDown:f=>{f.key=="Enter"&&void 0},placeholder:"Search..."}),T.jsx("button",{onClick:()=>{},id:dt.searchButton,children:"Search"})]}),T.jsx("button",{id:dt.hamburgerButton,onClick:()=>{r(!n)},children:T.jsx("i",{className:"fa fa-navicon"})}),T.jsx(d0,{handleBellClick:u,setShowDropDown:r})]}),T.jsxs("div",{className:n?`${dt.dropDown} ${dt.showDropDown}`:`${dt.dropDown} ${dt.hideDropDown}  `,children:[T.jsx(d0,{handleBellClick:u,setShowDropDown:r}),T.jsx("button",{onClick:()=>{r(!1)},children:"Hide Menu"})]})]})}function f0(){return T.jsx(T.Fragment,{children:T.jsx(hi,{to:"/",className:dt.HyperLink,children:T.jsx("button",{className:dt.authButts,children:"Home"})})})}function d0({handleBellClick:s,setShowDropDown:e}){const{userObject:n,showLogForm:r,setShowLogForm:o,setShowLogOutPrompt:u}=I.useContext(rn);return T.jsx(T.Fragment,{children:n?.uid?T.jsx(T.Fragment,{children:r?T.jsx(f0,{}):T.jsxs(T.Fragment,{children:[T.jsxs("button",{id:dt.bell,onClick:()=>{s(),e(!1)},children:[T.jsx("i",{className:"fa fa-bell-o"}),T.jsx("p",{children:"Notifications"})]}),T.jsx("button",{onClick:()=>{u(!0),e(!1)},children:"Sign Out"})]})}):T.jsx(T.Fragment,{children:r?T.jsx(f0,{}):T.jsxs(T.Fragment,{children:[T.jsx(hi,{to:"/register",id:dt.signUpLink,className:dt.Links,children:T.jsx("button",{className:dt.authButts,id:dt.signUp,onClick:()=>{o(!0),e(!1)},children:"Sign Up"})}),T.jsx(hi,{to:"/login",id:dt.logInLink,className:dt.Links,children:T.jsx("button",{className:dt.authButts,id:dt.logIn,onClick:()=>{o(!0),e(!1)},children:"Log In"})})]})})})}const O4="_sideBarWrapper_nyk5d_9",M4="_hideSidebar_nyk5d_41",P4="_linkWrapper_nyk5d_49",V4="_simplifySidebar_nyk5d_81",k4="_active_nyk5d_121",j4="_link_nyk5d_49",ir={sideBarWrapper:O4,hideSidebar:M4,linkWrapper:P4,simplifySidebar:V4,active:k4,link:j4};function L4(){const{tabs:s,setTabs:e,setPathTo:n,showSideBar:r,setShowSideBar:o,showLogForm:u}=I.useContext(rn),f=Er();if(!u)return T.jsx("div",{className:r?`${ir.sideBarWrapper} `:`${ir.sideBarWrapper} ${ir.hideSidebar}`,children:T.jsxs("ul",{className:ir.linkWrapper,children:[T.jsxs("button",{className:ir.simplifySidebar,onClick:()=>{o(!r)},children:[T.jsx("i",{className:r?"fa fa-chevron-left":"fa fa-chevron-right"}),T.jsx("p",{children:"Hide"})]}),s?.map(p=>T.jsxs("li",{className:p.focus?`${ir.active} ${ir.link}`:`${ir.link}`,title:p.pageName,onClick:()=>{e(g=>g.map(m=>p.pageName==m.pageName?{...m,focus:!0}:{...m,focus:!1})),n(p.path),f(p.path)},children:[T.jsx("i",{className:p.icon}),T.jsx("p",{children:p.pageName})]},p.keyId))]})})}const U4="_errorWrapper_1xn5w_1",B4="_errorBox_1xn5w_29",z4="_buttons_1xn5w_79",Lm={errorWrapper:U4,errorBox:B4,buttons:z4};function q4(){const{errorDescription:s,setErrorDescription:e}=I.useContext(rn);if(s.length!=0)return T.jsx("div",{className:Lm.errorWrapper,children:T.jsxs("div",{className:Lm.errorBox,children:[T.jsx("h1",{children:"Error Occured!"}),T.jsx("p",{children:s}),T.jsx("div",{className:Lm.buttons,children:T.jsx("button",{onClick:()=>{e("")},children:"Try Again"})})]})})}const H4={};function F4(){const{pageDetector:s}=I.useContext(rn);return I.useEffect(()=>{s(2,null,!0)},[]),T.jsx("div",{className:H4.forgotPassBox,children:"Forgot Password"})}const G4="_logInWrapper_1sl5h_1",$4="_logInBox_1sl5h_31",Q4="_top_1sl5h_69",K4="_middle_1sl5h_115",Y4="_inputBoxes_1sl5h_127",W4="_inputBoxesFocused_1sl5h_151",X4="_focused_1sl5h_215",Z4="_bottomLinks_1sl5h_245",J4="_links_1sl5h_255",e3="_bottom_1sl5h_245",t3="_platforms_1sl5h_363",Je={logInWrapper:G4,logInBox:$4,top:Q4,middle:K4,inputBoxes:Y4,inputBoxesFocused:W4,focused:X4,bottomLinks:Z4,links:J4,bottom:e3,platforms:t3};function n3(){const{pageDetector:s,signInWithFacebook:e,signInWithGoogle:n,setErrorDescription:r,userObject:o,userData:u,setBasicInfo:f}=I.useContext(rn),p=Er(),g=I.useRef(null),m=I.useRef(null),[E,w]=I.useState(""),[b,L]=I.useState(""),[B,F]=I.useState(!1),[U,K]=I.useState(!1);async function ie(){if(se())try{await CD(Es,E,b),window.location.reload()}catch(ce){ce instanceof bn&&(ce.code=="auth/invalid-credential"&&r("Email or Password is Not Correct"),g.current&&m.current&&(g.current.innerText="Username may not be correct",m.current.innerText="Password may not be correct"))}}function se(){let he=!1;return E.length==0?(g?.current&&(g.current.innerHTML="This input field is blank!"),he=!0):E.length<=7&&(g?.current&&(g.current.innerHTML="Characters must be 8 and above"),he=!0),b.length==0?(m?.current&&(m.current.innerHTML="This input field is blank!"),he=!0):b.length<=7&&(m?.current&&(m.current.innerHTML="Characters must be 8 and above"),he=!0),!he}return I.useEffect(()=>{o==null?s(0,null,!0):s(null,0,!0)},[]),I.useEffect(()=>{u!=null&&o!=null&&(console.log("true"),u?.user.firstName?window.location.href.includes("/login")&&p("/"):(p("/register"),f(!0)))},[u,o]),T.jsx("div",{className:Je.logInWrapper,children:T.jsxs("div",{className:Je.logInBox,children:[T.jsxs("div",{className:Je.top,children:[T.jsx("h1",{children:"LOG IN"}),T.jsx("span",{children:"12-McCarthy"})]}),T.jsxs("div",{className:Je.middle,children:[T.jsxs("label",{className:E?`${Je.inputBoxes} ${Je.inputBoxesFocused}`:`${Je.inputBoxes} ${Je.inputBoxesNot}`,htmlFor:"log-in-username",children:[T.jsx("input",{type:"text",id:"log-in-username",value:E||"",onChange:he=>{w(he.target.value),g.current&&(g.current.innerText="")}}),T.jsx("span",{className:E?Je.focused:Je.unfocus,children:"Email"}),T.jsx("i",{className:B==!0?`${Je.eyeIcon} "fa fa-eye"`:`${Je.slashEye} "fa fa-eye-slash"`,onClick:()=>{F(!B)}})]}),T.jsx("span",{ref:g,className:Je.violation}),T.jsxs("label",{className:b?`${Je.inputBoxes} ${Je.inputBoxesFocused}`:`${Je.inputBoxes} ${Je.inputBoxesNot}`,htmlFor:"log-in-password",children:[T.jsx("input",{type:U?"type":"password",id:"log-in-password",value:b||"",onChange:he=>{L(he.target.value),m.current&&(m.current.innerText="")}}),T.jsx("span",{className:b?Je.focused:Je.unfocus,children:"Password"}),T.jsx("i",{className:U==!0?`${Je.eyeIcon} fa fa-eye`:`${Je.slashEye} fa fa-eye-slash`,onClick:()=>{K(!U)}})]}),T.jsx("span",{ref:m,className:Je.violation}),T.jsxs("div",{className:Je.bottomLinks,children:[T.jsx(hi,{to:"/forgot_password",className:Je.links,children:"Forgot Password"}),T.jsx(hi,{to:"/register",className:Je.links,children:"Create Account"})]}),T.jsx("button",{onClick:ie,id:Je.logInButton,children:"Log In"})]}),T.jsxs("div",{className:Je.bottom,children:[T.jsx("h4",{children:"Sign In With Different Accounts"}),T.jsxs("div",{className:Je.platforms,children:[T.jsx("button",{className:Je.diffAccButt,onClick:n,children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"80%",height:"90%",viewBox:"0 0 48 48",children:[T.jsx("path",{fill:"#4caf50",d:"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"}),T.jsx("path",{fill:"#1e88e5",d:"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"}),T.jsx("polygon",{fill:"#e53935",points:"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"}),T.jsx("path",{fill:"#c62828",d:"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"}),T.jsx("path",{fill:"#fbc02d",d:"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"})]})}),T.jsx("button",{className:Je.diffAccButt,onClick:e,children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 48 48",children:[T.jsx("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),T.jsx("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})]})}),T.jsx("button",{className:Je.diffAccButt,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 30 30",children:T.jsx("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})})})]})]})]})})}const i3="_logInWrapper_1laus_1",s3="_logInBox_1laus_31",r3="_top_1laus_69",a3="_middle_1laus_115",o3="_inputBoxes_1laus_127",l3="_inputBoxesFocused_1laus_151",u3="_focused_1laus_215",c3="_bottomLinks_1laus_245",h3="_links_1laus_255",f3="_bottom_1laus_245",d3="_platforms_1laus_363",je={logInWrapper:i3,logInBox:s3,top:r3,middle:a3,inputBoxes:o3,inputBoxesFocused:l3,focused:u3,bottomLinks:c3,links:h3,bottom:f3,platforms:d3},m3="_signUpWrapper_nrego_1",p3="_signUpBox_nrego_31",g3="_top_nrego_97",y3="_middle_nrego_143",_3="_inputBoxes_nrego_155",v3="_inputBoxesFocused_nrego_179",E3="_focused_nrego_231",T3="_buttons_nrego_307",ht={signUpWrapper:m3,signUpBox:p3,top:g3,middle:y3,inputBoxes:_3,inputBoxesFocused:v3,focused:E3,buttons:T3};function S3({basicInfo:s,firstName:e,setFirstName:n,middleInitial:r,setMiddleInitial:o,lastName:u,setLastName:f,firstnameRef:p,middleInitialRef:g,lastnameRef:m,checkBasicInputs:E}){const{setUserData:w,userData:b}=I.useContext(rn),L=Er();async function B(){try{const F=ai(oi,"McCarthy",`${Es?.currentUser?.uid}`);w(U=>(U?.user!=null&&(U.user.firstName=e),U?.user!=null&&(U.user.middleInitial=r),U?.user!=null&&(U.user.lastName=u),U)),await gu(F,{user:b?.user}),L("/")}catch(F){console.log(F)}}if(s)return T.jsx(T.Fragment,{children:T.jsx("div",{className:ht.signUpWrapper,children:T.jsxs("div",{className:ht.signUpBox,children:[T.jsxs("div",{className:ht.top,children:[T.jsx("h1",{children:"SIGN UP"}),T.jsx("span",{children:"12-McCarthy"})]}),T.jsxs("div",{className:ht.middle,children:[T.jsxs("label",{className:e?`${ht.inputBoxes} ${ht.inputBoxesFocused}`:`${ht.inputBoxes} ${ht.inputBoxesNot}`,htmlFor:"firstname",children:[T.jsx("input",{type:"text",id:"firstname",value:e||"",onChange:F=>{n(F.target.value),p.current&&(p.current.innerText="")}}),T.jsx("span",{className:e?ht.focused:ht.unfocus,children:"First Name"})]}),T.jsx("span",{ref:p,className:ht.violation}),T.jsxs("label",{className:r?`${ht.inputBoxes} ${ht.inputBoxesFocused}`:`${ht.inputBoxes} ${ht.inputBoxesNot}`,htmlFor:"middleInitial",children:[T.jsx("input",{type:"text",id:"middleInitial",value:r||"",onChange:F=>{o(F.target.value),g.current&&(g.current.innerText="")}}),T.jsx("span",{className:r?ht.focused:ht.unfocus,children:"Middle Initial"})]}),T.jsx("span",{ref:g,className:ht.violation}),T.jsxs("label",{className:u?`${ht.inputBoxes} ${ht.inputBoxesFocused}`:`${ht.inputBoxes} ${ht.inputBoxesNot}`,htmlFor:"lastName",children:[T.jsx("input",{type:"text",id:"lastName",value:u||"",onChange:F=>{f(F.target.value),m.current&&(m.current.innerText="")}}),T.jsx("span",{className:u?ht.focused:ht.unfocus,children:"Last Name"})]}),T.jsx("span",{ref:m,className:ht.violation}),T.jsx("div",{className:ht.buttons,children:T.jsx("button",{onClick:()=>{E()&&B()},id:ht.logInButton,children:"Confirm"})})]})]})})})}function A3(){const{pageDetector:s,basicInfo:e,setBasicInfo:n,userData:r,userObject:o,signInWithFacebook:u,signInWithGoogle:f}=I.useContext(rn),p=Er(),g=I.useRef(null),m=I.useRef(null),E=I.useRef(null),w=I.useRef(null),b=I.useRef(null),L=I.useRef(null),[B,F]=I.useState(""),[U,K]=I.useState(""),[ie,se]=I.useState(""),[he,ce]=I.useState(""),[Ce,V]=I.useState(""),[R,x]=I.useState(""),[M,D]=I.useState(!1),[P,C]=I.useState(!1);async function De(){const W=Ve(),le={email:B,password:U,firstName:he,middleInitial:Ce,lastName:R};if(W)try{await RD(Es,B,U);const Re=ai(oi,"McCarthy",`${Es?.currentUser?.uid}`);await Lh(Re,{user:le,activities:[],assignments:[],petas:[],reviewers:[]});const O=ai(oi,"Main_Database","Users");await Lh(O,{userList:le}),n(!0),window.location.reload()}catch(Re){Re instanceof bn&&Re.code.includes("(auth/invalid-email)")&&g.current&&(g.current.innerHTML="Invalid Email!")}}function Ve(){let W=!1;return B.length==0?(g?.current&&(g.current.innerHTML="This input field is blank!"),W=!0):B.length<=7&&(g?.current&&(g.current.innerHTML="Characters must be 8 and above"),W=!0),U.length==0?(m?.current&&(m.current.innerHTML="This input field is blank!"),W=!0):U.length<=7&&(m?.current&&(m.current.innerHTML="Characters must be 8 and above"),W=!0),!W}function $(){let W=!1;return he.length==0&&(w.current&&(w.current.innerText="The Input Field is Blank!"),W=!0),Ce.length==0&&(b.current&&(b.current.innerText="The Input Field is Blank!"),W=!0),R.length==0&&(L.current&&(L.current.innerText="The Input Field is Blank!"),W=!0),!W}return I.useEffect(()=>{s(1,null,!0)},[Es,r]),I.useEffect(()=>{r!=null&&o!=null&&(r?.user.firstName?window.location.href.includes("register")&&p("/"):(p("/register"),n(!0)))},[r,o]),T.jsxs(T.Fragment,{children:[T.jsx("div",{className:je.logInWrapper,style:e?{opacity:"0"}:{opacity:"1"},children:T.jsxs("div",{className:je.logInBox,children:[T.jsxs("div",{className:je.top,children:[T.jsx("h1",{children:"SIGN UP"}),T.jsx("span",{children:"12-McCarthy"})]}),T.jsxs("div",{className:je.middle,children:[T.jsxs("label",{className:B?`${je.inputBoxes} ${je.inputBoxesFocused}`:`${je.inputBoxes} ${je.inputBoxesNot}`,htmlFor:"log-in-username",children:[T.jsx("input",{type:"text",id:"log-in-username",value:B||"",onChange:W=>{F(W.target.value),g.current&&(g.current.innerText="")}}),T.jsx("span",{className:B?je.focused:je.unfocus,children:"Email"})]}),T.jsx("span",{ref:g,className:je.violation}),T.jsxs("label",{className:U?`${je.inputBoxes} ${je.inputBoxesFocused}`:`${je.inputBoxes} ${je.inputBoxesNot}`,htmlFor:"log-in-password",children:[T.jsx("input",{type:M?"type":"password",id:"log-in-password",value:U||"",onChange:W=>{m.current&&(m.current.innerText=""),K(W.target.value)}}),T.jsx("span",{className:U?je.focused:je.unfocus,children:"Password"}),T.jsx("i",{className:M==!0?`${je.eyeIcon} fa fa-eye`:`${je.slashEye} fa fa-eye-slash`,onClick:()=>{D(!M)}})]}),T.jsx("span",{ref:m,className:je.violation}),T.jsxs("label",{className:ie?`${je.inputBoxes} ${je.inputBoxesFocused}`:`${je.inputBoxes} ${je.inputBoxesNot}`,htmlFor:"log-in-confirm-password",children:[T.jsx("input",{type:P?"type":"password",id:"log-in-confirm-password",value:ie||"",onChange:W=>{E.current&&(E.current.innerText=""),se(W.target.value)}}),T.jsx("span",{className:ie?je.focused:je.unfocus,children:"Confirm Password"}),T.jsx("i",{className:P==!0?`${je.eyeIcon} fa fa-eye`:`${je.slashEye} fa fa-eye-slash`,onClick:()=>{C(!P)}})]}),T.jsx("span",{ref:E,className:je.violation}),T.jsxs("div",{className:je.bottomLinks,children:[T.jsx(hi,{to:"/forgot_password",className:je.links,children:"Forgot Password"}),T.jsx(hi,{to:"/login",className:je.links,children:"Already Have an Account"})]}),T.jsx("button",{onClick:De,id:je.logInButton,children:"Sign Up"})]}),T.jsxs("div",{className:je.bottom,children:[T.jsx("h4",{children:"Sign In With Different Accounts"}),T.jsxs("div",{className:je.platforms,onClick:f,children:[T.jsx("button",{className:je.diffAccButt,children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"80%",height:"90%",viewBox:"0 0 48 48",children:[T.jsx("path",{fill:"#4caf50",d:"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"}),T.jsx("path",{fill:"#1e88e5",d:"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"}),T.jsx("polygon",{fill:"#e53935",points:"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"}),T.jsx("path",{fill:"#c62828",d:"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"}),T.jsx("path",{fill:"#fbc02d",d:"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"})]})}),T.jsx("button",{className:je.diffAccButt,onClick:u,children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 48 48",children:[T.jsx("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),T.jsx("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})]})}),T.jsx("button",{className:je.diffAccButt,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 30 30",children:T.jsx("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})})})]})]})]})}),T.jsx(S3,{basicInfo:e,firstName:he,setFirstName:ce,middleInitial:Ce,setMiddleInitial:V,lastName:R,setLastName:x,createAccount:De,firstnameRef:w,middleInitialRef:b,lastnameRef:L,checkBasicInputs:$})]})}const b3="_LogOutWrapper_7qnt8_1",w3="_LogOutBox_7qnt8_25",R3="_buttons_7qnt8_71",Um={LogOutWrapper:b3,LogOutBox:w3,buttons:R3};function C3(){const{showLogOutPrompt:s,setShowLogOutPrompt:e,setUserObject:n,setUserData:r,setBasicInfo:o}=I.useContext(rn);async function u(){try{await DD(Es),n(null),r(null),e(!1),o(!1),localStorage.removeItem("User")}catch{e(!1)}}if(s)return T.jsx("div",{className:Um.LogOutWrapper,children:T.jsxs("div",{className:Um.LogOutBox,children:[T.jsx("h1",{children:"Sign Out?"}),T.jsx("p",{children:"Are you going to sign out?"}),T.jsxs("div",{className:Um.buttons,children:[T.jsx("button",{onClick:()=>{e(!1)},children:"No"}),T.jsx("button",{onClick:()=>{u()},children:"Yes"})]})]})})}const rn=I.createContext({});function I3(){const s=Er();let e={};const n=JSON.parse(localStorage.getItem("User")),[r,o]=I.useState(!1),[u,f]=I.useState(!1),[p,g]=I.useState(!1),[m,E]=I.useState(!1),[w,b]=I.useState(window.location.href),[L,B]=I.useState(""),[F,U]=I.useState(n||null),[K,ie]=I.useState(null),[se,he]=I.useState([{pageName:"Home",path:"/",element:T.jsx(Tw,{}),keyId:Math.random()*1,icon:"fa fa-home",focus:!0},{pageName:"Subjects",path:"/subjects",element:T.jsx(h0,{}),keyId:Math.random()*1,icon:"fa fa-book",focus:!1},{pageName:"Recap",path:"/Recap",element:T.jsx(o4,{}),keyId:Math.random()*1,icon:"	fa fa-check-square-o",focus:!1},{pageName:"Account",path:"/account",element:T.jsx(l4,{}),keyId:Math.random()*1,icon:"	fa fa-user",focus:!1}]),[ce,Ce]=I.useState([{path:"/login",element:T.jsx(n3,{}),keyId:Math.random()*1,icon:"fa fa-book",focus:!1},{path:"/register",element:T.jsx(A3,{}),keyId:Math.random()*1,icon:"fa fa-home",focus:!1},{path:"/forgot_password",element:T.jsx(F4,{}),keyId:Math.random()*1,icon:"	fa fa-check-square-o",focus:!1}]);function V(D,P,C){console.log(C,P,D),Ce(De=>De.map((Ve,$)=>$===D&&D!=null?(s(Ve.path),{...Ve,focus:!0}):{...Ve,focus:!1})),he(De=>De.map((Ve,$)=>({...Ve,focus:$===P&&P!=null}))),f(C)}async function R(){try{const D=new ps,P=await i0(Es,D);M(P.user)}catch(D){D instanceof bn&&B(D.code)}}const x=async()=>{const D=new Ni;D.addScope("public_profile"),i0(Es,D).then(P=>{const C=Ni.credentialFromResult(P);window.alert(P),console.log(C);const De=P.user;De&&(U(De),M(De))}).catch(P=>{P instanceof bn&&B(P.code)})};async function M(D){const P=ai(oi,"McCarthy",`${D?.uid}`),C=ai(oi,"Main_Database","Users"),De=await tu(C),Ve=await tu(P),$={user:{Gmail:D?.email,firstName:"",middleInitial:"",lastName:"",uid:D?.uid},activities:[],assignments:[],petas:[],reviewers:[]};Ve.exists()||await Lh(P,$),W();async function W(){if(De.data()){const le=De.data()?.userList;let Re=!1;for(let O=0;O<le?.length;O++)if(D?.uid===le[O]?.uid){Re=!0;break}Re||await gu(C,{userList:hp(K)})}}}return I.useEffect(()=>{const D=FE(ai(oi,"McCarthy",`${F?.uid}`),P=>{P.exists()?(ie(P.data()),M(F)):ie(null)});return()=>{D()}},[]),I.useEffect(()=>{function D(){const P=ai(oi,"McCarthy",`${F?.uid}`),C=ai(oi,"Main_Database","School_Activities");F?.uid&&FE(C,De=>{if(De.exists()){async function Ve(){const W=(await tu(P)).data();if(W?.activities||W?.assignments||W?.petas){const le=De.data().Activity,Re=De.data().Assignment,O=De.data().Project,ee=le.filter(He=>!W.activities?.some(Me=>Me.id===He.id)),ae=W.activities?.filter(He=>!le.some(Me=>Me.id===He.id))||[],Z=Re.filter(He=>!W.assignments?.some(Me=>Me.id===He.id)),fe=W.assignments?.filter(He=>!Re.some(Me=>Me.id===He.id))||[],be=O.filter(He=>!W.petas?.some(Me=>Me.id===He.id)),me=W.petas?.filter(He=>!O.some(Me=>Me.id===He.id))||[];ae.length!=0||fe.length!=0||me.length!=0?(await gu(P,{activities:[...ae,...W.activities],assignments:[...fe,...W.assignments],petas:[...me,...W.petas]}),ie({...W,activities:[...ae,...W.activities],assignments:[...fe,...W.assignments],petas:[...me,...W.petas]})):ie({...W,activities:ee?[...ee,...W.activities]:[],assignments:Z?[...Z,...W.assignments]:[],petas:be?[...be,...W.petas]:[]})}}Ve()}else ie(null)})}return D(),()=>{D()}},[F]),I.useEffect(()=>{K!=null&&F!=null&&K?.user.firstName==""&&(s("/register"),E(!0))},[K,F]),I.useEffect(()=>{K&&console.log(K)},[K]),ND(Es,D=>{if(D!=null){F==null&&(U(D),localStorage.setItem("User",JSON.stringify(D)));const P=ai(oi,"McCarthy",`${D?.uid}`);K||tu(P).then(C=>{C.data()?.firstName==""&&s("/register"),ie(C.data())})}}),e={userObject:F,setUserObject:U,userData:K,setUserData:ie,showSideBar:r,setShowSideBar:o,showLogForm:u,setShowLogForm:f,showLogOutPrompt:p,setShowLogOutPrompt:g,basicInfo:m,setBasicInfo:E,errorDescription:L,setErrorDescription:B,pathTo:w,setPathTo:b,tabs:se,setTabs:he,pageDetector:V,signInWithFacebook:x,signInWithGoogle:R},T.jsxs(rn.Provider,{value:e,children:[T.jsx(D4,{}),T.jsx(C3,{}),T.jsx(q4,{}),T.jsxs("div",{className:ow.sbartabWrapper,style:u?{display:"none"}:{display:"flex"},onContextMenu:D=>{D.preventDefault()},children:[T.jsx(L4,{}),T.jsxs(Vv,{children:[se?.map(D=>T.jsx(ch,{path:D.path,element:D.element})),T.jsx(ch,{path:"/subjects/:subjectName",element:T.jsx(h0,{})})]})]}),T.jsx(Vv,{children:ce?.map(D=>T.jsx(ch,{path:D.path,element:D.element}))})]})}jA.createRoot(document.getElementById("root")).render(T.jsx(I.StrictMode,{children:T.jsx(Wb,{children:T.jsx(I3,{})})}));
